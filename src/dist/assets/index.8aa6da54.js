var $l=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var v1=$l(kt=>{const zl=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}};zl();function Pt(){return function(){throw new Error("Unimplemented abstract method.")}()}var Ul=0;function de(n){return n.ol_uid||(n.ol_uid=String(++Ul))}var Hl="6.14.1",Bl=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Xl=function(n){Bl(e,n);function e(t){var i=this,r="v"+Hl.split("-")[0],a="Assertion failed. See https://openlayers.org/en/"+r+"/doc/errors/#"+t+" for details.";return i=n.call(this,a)||this,i.code=t,i.name="AssertionError",i.message=a,i}return e}(Error),_h=Xl,On=function(){function n(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}();function Wl(n){n.stopPropagation()}var ci={PROPERTYCHANGE:"propertychange"},Vl=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}(),lo=Vl;function fo(n,e){return n>e?1:n<e?-1:0}function co(n,e,t){var i=n.length;if(n[0]<=e)return 0;if(e<=n[i-1])return i-1;var r=void 0;if(t>0){for(r=1;r<i;++r)if(n[r]<e)return r-1}else if(t<0){for(r=1;r<i;++r)if(n[r]<=e)return r}else for(r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return typeof t=="function"?t(e,n[r-1],n[r])>0?r-1:r:n[r-1]-e<e-n[r]?r-1:r}return i-1}function Kl(n,e){for(var t=Array.isArray(e)?e:[e],i=t.length,r=0;r<i;r++)n[n.length]=t[r]}function po(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function Zl(n,e,t){var i=e||fo;return n.every(function(r,a){if(a===0)return!0;var s=i(n[a-1],r);return!(s>0||t&&s===0)})}function Ui(){return!0}function ta(){return!1}function Xi(){}function Yl(n){var e=!1,t,i,r;return function(){var a=Array.prototype.slice.call(arguments);return(!e||this!==r||!po(a,i))&&(e=!0,r=this,i=a,t=n.apply(this,arguments)),t}}var Vt=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),i=1,r=arguments.length;i<r;++i){var a=arguments[i];if(a!=null)for(var s in a)a.hasOwnProperty(s)&&(t[s]=a[s])}return t};function ea(n){for(var e in n)delete n[e]}var Ql=typeof Object.values=="function"?Object.values:function(n){var e=[];for(var t in n)e.push(n[t]);return e};function Jl(n){var e;for(e in n)return!1;return!e}var tf=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ef=function(n){tf(e,n);function e(t){var i=n.call(this)||this;return i.eventTarget_=t,i.pendingRemovals_=null,i.dispatching_=null,i.listeners_=null,i}return e.prototype.addEventListener=function(t,i){if(!(!t||!i)){var r=this.listeners_||(this.listeners_={}),a=r[t]||(r[t]=[]);a.indexOf(i)===-1&&a.push(i)}},e.prototype.dispatchEvent=function(t){var i=typeof t=="string",r=i?t:t.type,a=this.listeners_&&this.listeners_[r];if(!!a){var s=i?new On(t):t;s.target||(s.target=this.eventTarget_||this);var h=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in h||(h[r]=0,l[r]=0),++h[r];for(var c,v=0,_=a.length;v<_;++v)if("handleEvent"in a[v]?c=a[v].handleEvent(s):c=a[v].call(this,s),c===!1||s.propagationStopped){c=!1;break}if(--h[r]===0){var m=l[r];for(delete l[r];m--;)this.removeEventListener(r,Xi);delete h[r]}return c}},e.prototype.disposeInternal=function(){this.listeners_&&ea(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,i){var r=this.listeners_&&this.listeners_[t];if(r){var a=r.indexOf(i);a!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(r[a]=Xi,++this.pendingRemovals_[t]):(r.splice(a,1),r.length===0&&delete this.listeners_[t]))}},e}(lo),tr=ef,ut={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function ft(n,e,t,i,r){if(i&&i!==n&&(t=t.bind(i)),r){var a=t;t=function(){n.removeEventListener(e,t),a.apply(this,arguments)}}var s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function Wi(n,e,t,i){return ft(n,e,t,i,!0)}function At(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),ea(n))}var nf=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),na=function(n){nf(e,n);function e(){var t=n.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(ut.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,i){if(Array.isArray(t)){for(var r=t.length,a=new Array(r),s=0;s<r;++s)a[s]=ft(this,t[s],i);return a}else return ft(this,t,i)},e.prototype.onceInternal=function(t,i){var r;if(Array.isArray(t)){var a=t.length;r=new Array(a);for(var s=0;s<a;++s)r[s]=Wi(this,t[s],i)}else r=Wi(this,t,i);return i.ol_key=r,r},e.prototype.unInternal=function(t,i){var r=i.ol_key;if(r)rf(r);else if(Array.isArray(t))for(var a=0,s=t.length;a<s;++a)this.removeEventListener(t[a],i);else this.removeEventListener(t,i)},e}(tr);na.prototype.on;na.prototype.once;na.prototype.un;function rf(n){if(Array.isArray(n))for(var e=0,t=n.length;e<t;++e)At(n[e]);else At(n)}var mh=na,Mh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ys=function(n){Mh(e,n);function e(t,i,r){var a=n.call(this,t)||this;return a.key=i,a.oldValue=r,a}return e}(On),af=function(n){Mh(e,n);function e(t){var i=n.call(this)||this;return i.on,i.once,i.un,de(i),i.values_=null,t!==void 0&&i.setProperties(t),i}return e.prototype.get=function(t){var i;return this.values_&&this.values_.hasOwnProperty(t)&&(i=this.values_[t]),i},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Vt({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,i){var r;r="change:".concat(t),this.hasListener(r)&&this.dispatchEvent(new ys(r,t,i)),r=ci.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new ys(r,t,i))},e.prototype.addChangeListener=function(t,i){this.addEventListener("change:".concat(t),i)},e.prototype.removeChangeListener=function(t,i){this.removeEventListener("change:".concat(t),i)},e.prototype.set=function(t,i,r){var a=this.values_||(this.values_={});if(r)a[t]=i;else{var s=a[t];a[t]=i,s!==i&&this.notify(t,s)}},e.prototype.setProperties=function(t,i){for(var r in t)this.set(r,t[r],i)},e.prototype.applyProperties=function(t){!t.values_||Vt(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,i){if(this.values_&&t in this.values_){var r=this.values_[t];delete this.values_[t],Jl(this.values_)&&(this.values_=null),i||this.notify(t,r)}},e}(mh),Ye=af,Ae={ADD:"add",REMOVE:"remove"},Eh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_s={LENGTH:"length"},Cr=function(n){Eh(e,n);function e(t,i,r){var a=n.call(this,t)||this;return a.element=i,a.index=r,a}return e}(On),of=function(n){Eh(e,n);function e(t,i){var r=n.call(this)||this;r.on,r.once,r.un;var a=i||{};if(r.unique_=!!a.unique,r.array_=t||[],r.unique_)for(var s=0,h=r.array_.length;s<h;++s)r.assertUnique_(r.array_[s],s);return r.updateLength_(),r}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var i=0,r=t.length;i<r;++i)this.push(t[i]);return this},e.prototype.forEach=function(t){for(var i=this.array_,r=0,a=i.length;r<a;++r)t(i[r],r,i)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(_s.LENGTH)},e.prototype.insertAt=function(t,i){this.unique_&&this.assertUnique_(i),this.array_.splice(t,0,i),this.updateLength_(),this.dispatchEvent(new Cr(Ae.ADD,i,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var i=this.getLength();return this.insertAt(i,t),this.getLength()},e.prototype.remove=function(t){for(var i=this.array_,r=0,a=i.length;r<a;++r)if(i[r]===t)return this.removeAt(r)},e.prototype.removeAt=function(t){var i=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Cr(Ae.REMOVE,i,t)),i},e.prototype.setAt=function(t,i){var r=this.getLength();if(t<r){this.unique_&&this.assertUnique_(i,t);var a=this.array_[t];this.array_[t]=i,this.dispatchEvent(new Cr(Ae.REMOVE,a,t)),this.dispatchEvent(new Cr(Ae.ADD,i,t))}else{for(var s=r;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,i)}},e.prototype.updateLength_=function(){this.set(_s.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,i){for(var r=0,a=this.array_.length;r<a;++r)if(this.array_[r]===t&&r!==i)throw new _h(58)},e}(Ye),je=of;function Tt(n,e){if(!n)throw new _h(e)}var Te={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},ia={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},mi={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Ke={};Ke[mi.RADIANS]=6370997/(2*Math.PI);Ke[mi.DEGREES]=2*Math.PI*6370997/360;Ke[mi.FEET]=.3048;Ke[mi.METERS]=1;Ke[mi.USFEET]=1200/3937;var un=mi,xn=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",sf=xn.indexOf("firefox")!==-1,hf=xn.indexOf("safari")!==-1&&xn.indexOf("chrom")==-1;hf&&(xn.indexOf("version/15.4")>=0||xn.match(/cpu (os|iphone os) 15_4 like mac os x/));var uf=xn.indexOf("webkit")!==-1&&xn.indexOf("edge")==-1,lf=xn.indexOf("macintosh")!==-1,xh=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,Th=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,ff=typeof Image!="undefined"&&Image.prototype.decode,Ch=function(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();new Array(6);function si(){return[1,0,0,1,0,0]}function ce(n,e){var t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function Vi(n,e,t,i,r,a,s,h){var l=Math.sin(a),c=Math.cos(a);return n[0]=i*c,n[1]=r*l,n[2]=-i*l,n[3]=r*c,n[4]=s*i*c-h*i*l+e,n[5]=s*r*l+h*r*c+t,n}function wh(n,e){var t=cf(e);Tt(t!==0,32);var i=e[0],r=e[1],a=e[2],s=e[3],h=e[4],l=e[5];return n[0]=s/t,n[1]=-r/t,n[2]=-a/t,n[3]=i/t,n[4]=(a*l-s*h)/t,n[5]=-(i*l-r*h)/t,n}function cf(n){return n[0]*n[3]-n[1]*n[2]}var ms;function df(n){var e="matrix("+n.join(", ")+")";if(Th)return e;var t=ms||(ms=document.createElement("div"));return t.style.transform=e,t.style.transform}var Gi={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Wt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Ms(n){for(var e=$n(),t=0,i=n.length;t<i;++t)Dr(e,n[t]);return e}function pf(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function Oh(n,e,t){var i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function ra(n,e){return Rh(n,e[0],e[1])}function vo(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function Rh(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function Es(n,e){var t=n[0],i=n[1],r=n[2],a=n[3],s=e[0],h=e[1],l=Wt.UNKNOWN;return s<t?l=l|Wt.LEFT:s>r&&(l=l|Wt.RIGHT),h<i?l=l|Wt.BELOW:h>a&&(l=l|Wt.ABOVE),l===Wt.UNKNOWN&&(l=Wt.INTERSECTING),l}function $n(){return[1/0,1/0,-1/0,-1/0]}function di(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function aa(n){return di(1/0,1/0,-1/0,-1/0,n)}function vf(n,e){var t=n[0],i=n[1];return di(t,i,t,i,e)}function gf(n,e,t,i,r){var a=aa(r);return Ph(a,n,e,t,i)}function $r(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function yf(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function Dr(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function Ph(n,e,t,i,r){for(;t<i;t+=r)_f(n,e[t],e[t+1]);return n}function _f(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function bh(n,e){var t;return t=e(oa(n)),t||(t=e(er(n)),t)||(t=e(sa(n)),t)||(t=e(Rn(n)),t)?t:!1}function Ya(n){var e=0;return go(n)||(e=zt(n)*ke(n)),e}function oa(n){return[n[0],n[1]]}function er(n){return[n[2],n[1]]}function Ki(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function mf(n,e){var t;return e===Gi.BOTTOM_LEFT?t=oa(n):e===Gi.BOTTOM_RIGHT?t=er(n):e===Gi.TOP_LEFT?t=Rn(n):e===Gi.TOP_RIGHT?t=sa(n):Tt(!1,13),t}function Qa(n,e,t,i,r){var a=e*i[0]/2,s=e*i[1]/2,h=Math.cos(t),l=Math.sin(t),c=a*h,v=a*l,_=s*h,m=s*l,T=n[0],x=n[1],w=T-c+m,S=T-c-m,I=T+c-m,k=T+c+m,F=x-v-_,j=x-v+_,H=x+v+_,p=x+v-_;return di(Math.min(w,S,I,k),Math.min(F,j,H,p),Math.max(w,S,I,k),Math.max(F,j,H,p),r)}function ke(n){return n[3]-n[1]}function Hi(n,e,t){var i=t||$n();return ha(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):aa(i),i}function Rn(n){return[n[0],n[3]]}function sa(n){return[n[2],n[3]]}function zt(n){return n[2]-n[0]}function ha(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function go(n){return n[2]<n[0]||n[3]<n[1]}function Mf(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function Ef(n,e){var t=(n[2]-n[0])/2*(e-1),i=(n[3]-n[1])/2*(e-1);n[0]-=t,n[2]+=t,n[1]-=i,n[3]+=i}function xf(n,e,t){var i=!1,r=Es(n,e),a=Es(n,t);if(r===Wt.INTERSECTING||a===Wt.INTERSECTING)i=!0;else{var s=n[0],h=n[1],l=n[2],c=n[3],v=e[0],_=e[1],m=t[0],T=t[1],x=(T-_)/(m-v),w=void 0,S=void 0;!!(a&Wt.ABOVE)&&!(r&Wt.ABOVE)&&(w=m-(T-c)/x,i=w>=s&&w<=l),!i&&!!(a&Wt.RIGHT)&&!(r&Wt.RIGHT)&&(S=T-(m-l)*x,i=S>=h&&S<=c),!i&&!!(a&Wt.BELOW)&&!(r&Wt.BELOW)&&(w=m-(T-h)/x,i=w>=s&&w<=l),!i&&!!(a&Wt.LEFT)&&!(r&Wt.LEFT)&&(S=T-(m-s)*x,i=S>=h&&S<=c)}return i}var Tf=function(){function n(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Ke[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},n.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},n.prototype.setWorldExtent=function(e){this.worldExtent_=e},n.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),yo=Tf;function Nt(n,e,t){return Math.min(Math.max(n,e),t)}var Cf=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(e){var t=Math.exp(e);return(t+1/t)/2},n}(),wf=function(){var n;return"log2"in Math?n=Math.log2:n=function(e){return Math.log(e)*Math.LOG2E},n}();function Of(n,e,t,i,r,a){var s=r-t,h=a-i;if(s!==0||h!==0){var l=((n-t)*s+(e-i)*h)/(s*s+h*h);l>1?(t=r,i=a):l>0&&(t+=s*l,i+=h*l)}return hi(n,e,t,i)}function hi(n,e,t,i){var r=t-n,a=i-e;return r*r+a*a}function Rf(n){for(var e=n.length,t=0;t<e;t++){for(var i=t,r=Math.abs(n[t][t]),a=t+1;a<e;a++){var s=Math.abs(n[a][t]);s>r&&(r=s,i=a)}if(r===0)return null;var h=n[i];n[i]=n[t],n[t]=h;for(var l=t+1;l<e;l++)for(var c=-n[l][t]/n[t][t],v=t;v<e+1;v++)t==v?n[l][v]=0:n[l][v]+=c*n[t][v]}for(var _=new Array(e),m=e-1;m>=0;m--){_[m]=n[m][e]/n[m][m];for(var T=m-1;T>=0;T--)n[T][e]-=n[T][m]*_[m]}return _}function Fr(n){return n*Math.PI/180}function ui(n,e){var t=n%e;return t*e<0?t+e:t}function Pf(n,e,t){return n+t*(e-n)}function Sh(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}function wr(n,e){return Math.floor(Sh(n,e))}function Or(n,e){return Math.ceil(Sh(n,e))}var bf=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),nr=6378137,ei=Math.PI*nr,Sf=[-ei,-ei,ei,ei],Af=[-180,-85,180,85],Rr=nr*Math.log(Math.tan(Math.PI/2)),Kn=function(n){bf(e,n);function e(t){return n.call(this,{code:t,units:un.METERS,extent:Sf,global:!0,worldExtent:Af,getPointResolution:function(i,r){return i/Cf(r[1]/nr)}})||this}return e}(yo),xs=[new Kn("EPSG:3857"),new Kn("EPSG:102100"),new Kn("EPSG:102113"),new Kn("EPSG:900913"),new Kn("http://www.opengis.net/def/crs/EPSG/0/3857"),new Kn("http://www.opengis.net/gml/srs/epsg.xml#3857")];function If(n,e,t){var i=n.length,r=t>1?t:2,a=e;a===void 0&&(r>2?a=n.slice():a=new Array(i));for(var s=0;s<i;s+=r){a[s]=ei*n[s]/180;var h=nr*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));h>Rr?h=Rr:h<-Rr&&(h=-Rr),a[s+1]=h}return a}function Lf(n,e,t){var i=n.length,r=t>1?t:2,a=e;a===void 0&&(r>2?a=n.slice():a=new Array(i));for(var s=0;s<i;s+=r)a[s]=180*n[s]/ei,a[s+1]=360*Math.atan(Math.exp(n[s+1]/nr))/Math.PI-90;return a}var Nf=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Df=6378137,Ts=[-180,-90,180,90],Ff=Math.PI*Df/180,Fn=function(n){Nf(e,n);function e(t,i){return n.call(this,{code:t,units:un.DEGREES,extent:Ts,axisOrientation:i,global:!0,metersPerUnit:Ff,worldExtent:Ts})||this}return e}(yo),Cs=[new Fn("CRS:84"),new Fn("EPSG:4326","neu"),new Fn("urn:ogc:def:crs:OGC:1.3:CRS84"),new Fn("urn:ogc:def:crs:OGC:2:84"),new Fn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Fn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Fn("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Ja={};function jf(n){return Ja[n]||Ja[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Gf(n,e){Ja[n]=e}var li={};function pi(n,e,t){var i=n.getCode(),r=e.getCode();i in li||(li[i]={}),li[i][r]=t}function Ah(n,e){var t;return n in li&&e in li[n]&&(t=li[n][e]),t}function kf(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function qf(n){return function(e){return Uf(e,n)}}function $f(n,e,t){return n?e.replace("{x}",n[0].toFixed(t)).replace("{y}",n[1].toFixed(t)):""}function zr(n,e){for(var t=!0,i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function _o(n,e){var t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,a=n[1]*t+n[0]*i;return n[0]=r,n[1]=a,n}function zf(n,e){return n[0]*=e,n[1]*=e,n}function Uf(n,e){return $f(n,"{x}, {y}",e)}function Hf(n,e){if(e.canWrapX()){var t=zt(e.getExtent()),i=Ih(n,e,t);i&&(n[0]-=i*t)}return n}function Ih(n,e,t){var i=e.getExtent(),r=0;if(e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])){var a=t||zt(i);r=Math.floor((n[0]-i[0])/a)}return r}var Bf=63710088e-1;function ws(n,e,t){var i=t||Bf,r=Fr(n[1]),a=Fr(e[1]),s=(a-r)/2,h=Fr(e[0]-n[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(h)*Math.sin(h)*Math.cos(r)*Math.cos(a);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var to=!0;function Lh(n){var e=n===void 0?!0:n;to=!e}function mo(n,e,t){var i;if(e!==void 0){for(var r=0,a=n.length;r<a;++r)e[r]=n[r];i=e}else i=n.slice();return i}function Mo(n,e,t){if(e!==void 0&&n!==e){for(var i=0,r=n.length;i<r;++i)e[i]=n[i];n=e}return n}function Nh(n){Gf(n.getCode(),n),pi(n,n,mo)}function Xf(n){n.forEach(Nh)}function Kt(n){return typeof n=="string"?jf(n):n||null}function Os(n,e,t,i){n=Kt(n);var r,a=n.getPointResolutionFunc();if(a){if(r=a(e,t),i&&i!==n.getUnits()){var s=n.getMetersPerUnit();s&&(r=r*s/Ke[i])}}else{var h=n.getUnits();if(h==un.DEGREES&&!i||i==un.DEGREES)r=e;else{var l=Zi(n,Kt("EPSG:4326"));if(l===Mo&&h!==un.DEGREES)r=e*n.getMetersPerUnit();else{var c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=l(c,c,2);var v=ws(c.slice(0,2),c.slice(2,4)),_=ws(c.slice(4,6),c.slice(6,8));r=(v+_)/2}var s=i?Ke[i]:n.getMetersPerUnit();s!==void 0&&(r/=s)}}return r}function eo(n){Xf(n),n.forEach(function(e){n.forEach(function(t){e!==t&&pi(e,t,mo)})})}function Wf(n,e,t,i){n.forEach(function(r){e.forEach(function(a){pi(r,a,t),pi(a,r,i)})})}function Eo(n,e){return n?typeof n=="string"?Kt(n):n:Kt(e)}function Rs(n){return function(e,t,i){for(var r=e.length,a=i!==void 0?i:2,s=t!==void 0?t:new Array(r),h=0;h<r;h+=a){var l=n([e[h],e[h+1]]);s[h]=l[0],s[h+1]=l[1];for(var c=a-1;c>=2;--c)s[h+c]=e[h+c]}return s}}function Vf(n,e,t,i){var r=Kt(n),a=Kt(e);pi(r,a,Rs(t)),pi(a,r,Rs(i))}function Kf(n,e){return Lh(),Dh(n,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function Qn(n,e){if(n===e)return!0;var t=n.getUnits()===e.getUnits();if(n.getCode()===e.getCode())return t;var i=Zi(n,e);return i===mo&&t}function Zi(n,e){var t=n.getCode(),i=e.getCode(),r=Ah(t,i);return r||(r=Mo),r}function Ur(n,e){var t=Kt(n),i=Kt(e);return Zi(t,i)}function Dh(n,e,t){var i=Ur(e,t);return i(n,void 0,n.length)}var Zf=null;function Fh(){return Zf}function no(n,e){return n}function on(n,e){return to&&!zr(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(to=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function Yf(n,e){return n}function ni(n,e){return n}function Ps(n,e,t){return function(i){var r=i[0],a=i[1],s,h;if(n.canWrapX()){var l=n.getExtent(),c=zt(l);h=Ih(i,n,c),h&&(r=r-h*c),r=Nt(r,l[0],l[2]),a=Nt(a,l[1],l[3]),s=t([r,a])}else s=t(i);return h&&e.canWrapX()&&(s[0]+=h*zt(e.getExtent())),s}}function Qf(){eo(xs),eo(Cs),Wf(Cs,xs,If,Lf)}Qf();function Jf(n,e,t,i,r,a){for(var s=a||[],h=0,l=e;l<t;l+=i){var c=n[l],v=n[l+1];s[h++]=r[0]*c+r[2]*v+r[4],s[h++]=r[1]*c+r[3]*v+r[5]}return a&&s.length!=h&&(s.length=h),s}function tc(n,e,t,i,r,a,s){for(var h=s||[],l=Math.cos(r),c=Math.sin(r),v=a[0],_=a[1],m=0,T=e;T<t;T+=i){var x=n[T]-v,w=n[T+1]-_;h[m++]=v+x*l-w*c,h[m++]=_+x*c+w*l;for(var S=T+2;S<T+i;++S)h[m++]=n[S]}return s&&h.length!=m&&(h.length=m),h}function ec(n,e,t,i,r,a,s,h){for(var l=h||[],c=s[0],v=s[1],_=0,m=e;m<t;m+=i){var T=n[m]-c,x=n[m+1]-v;l[_++]=c+r*T,l[_++]=v+a*x;for(var w=m+2;w<m+i;++w)l[_++]=n[w]}return h&&l.length!=_&&(l.length=_),l}function nc(n,e,t,i,r,a,s){for(var h=s||[],l=0,c=e;c<t;c+=i){h[l++]=n[c]+r,h[l++]=n[c+1]+a;for(var v=c+2;v<c+i;++v)h[l++]=n[v]}return s&&h.length!=l&&(h.length=l),h}var ic=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bs=si(),rc=function(n){ic(e,n);function e(){var t=n.call(this)||this;return t.extent_=$n(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Yl(function(i,r,a){if(!a)return this.getSimplifiedGeometry(r);var s=this.clone();return s.applyTransform(a),s.getSimplifiedGeometry(r)}),t}return e.prototype.simplifyTransformed=function(t,i){return this.simplifyTransformedInternal(this.getRevision(),t,i)},e.prototype.clone=function(){return Pt()},e.prototype.closestPointXY=function(t,i,r,a){return Pt()},e.prototype.containsXY=function(t,i){var r=this.getClosestPoint([t,i]);return r[0]===t&&r[1]===i},e.prototype.getClosestPoint=function(t,i){var r=i||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Pt()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var i=this.computeExtent(this.extent_);(isNaN(i[0])||isNaN(i[1]))&&aa(i),this.extentRevision_=this.getRevision()}return Mf(this.extent_,t)},e.prototype.rotate=function(t,i){Pt()},e.prototype.scale=function(t,i,r){Pt()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Pt()},e.prototype.getType=function(){return Pt()},e.prototype.applyTransform=function(t){Pt()},e.prototype.intersectsExtent=function(t){return Pt()},e.prototype.translate=function(t,i){Pt()},e.prototype.transform=function(t,i){var r=Kt(t),a=r.getUnits()==un.TILE_PIXELS?function(s,h,l){var c=r.getExtent(),v=r.getWorldExtent(),_=ke(v)/ke(c);return Vi(bs,v[0],v[3],_,-_,0,0,0),Jf(s,0,s.length,l,bs,h),Ur(r,i)(s,h,l)}:Ur(r,i);return this.applyTransform(a),this},e}(Ye),ac=rc,oc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sc=function(n){oc(e,n);function e(){var t=n.call(this)||this;return t.layout=Te.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return gf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Pt()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var i=this.getSimplifiedGeometryInternal(t),r=i.getFlatCoordinates();return r.length<this.flatCoordinates.length?i:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,i){this.stride=Ss(t),this.layout=t,this.flatCoordinates=i},e.prototype.setCoordinates=function(t,i){Pt()},e.prototype.setLayout=function(t,i,r){var a;if(t)a=Ss(t);else{for(var s=0;s<r;++s)if(i.length===0){this.layout=Te.XY,this.stride=2;return}else i=i[0];a=i.length,t=hc(a)}this.layout=t,this.stride=a},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,i){var r=this.getFlatCoordinates();if(r){var a=this.getStride();tc(r,0,r.length,a,t,i,r),this.changed()}},e.prototype.scale=function(t,i,r){var a=i;a===void 0&&(a=t);var s=r;s||(s=Ki(this.getExtent()));var h=this.getFlatCoordinates();if(h){var l=this.getStride();ec(h,0,h.length,l,t,a,s,h),this.changed()}},e.prototype.translate=function(t,i){var r=this.getFlatCoordinates();if(r){var a=this.getStride();nc(r,0,r.length,a,t,i,r),this.changed()}},e}(ac);function hc(n){var e;return n==2?e=Te.XY:n==3?e=Te.XYZ:n==4&&(e=Te.XYZM),e}function Ss(n){var e;return n==Te.XY?e=2:n==Te.XYZ||n==Te.XYM?e=3:n==Te.XYZM&&(e=4),e}var xo=sc;function As(n,e,t,i,r,a,s){var h=n[e],l=n[e+1],c=n[t]-h,v=n[t+1]-l,_;if(c===0&&v===0)_=e;else{var m=((r-h)*c+(a-l)*v)/(c*c+v*v);if(m>1)_=t;else if(m>0){for(var T=0;T<i;++T)s[T]=Pf(n[e+T],n[t+T],m);s.length=i;return}else _=e}for(var T=0;T<i;++T)s[T]=n[_+T];s.length=i}function jh(n,e,t,i,r){var a=n[e],s=n[e+1];for(e+=i;e<t;e+=i){var h=n[e],l=n[e+1],c=hi(a,s,h,l);c>r&&(r=c),a=h,s=l}return r}function uc(n,e,t,i,r){for(var a=0,s=t.length;a<s;++a){var h=t[a];r=jh(n,e,h,i,r),e=h}return r}function Gh(n,e,t,i,r,a,s,h,l,c,v){if(e==t)return c;var _,m;if(r===0)if(m=hi(s,h,n[e],n[e+1]),m<c){for(_=0;_<i;++_)l[_]=n[e+_];return l.length=i,m}else return c;for(var T=v||[NaN,NaN],x=e+i;x<t;)if(As(n,x-i,x,i,s,h,T),m=hi(s,h,T[0],T[1]),m<c){for(c=m,_=0;_<i;++_)l[_]=T[_];l.length=i,x+=i}else x+=i*Math.max((Math.sqrt(m)-Math.sqrt(c))/r|0,1);if(a&&(As(n,t-i,e,i,s,h,T),m=hi(s,h,T[0],T[1]),m<c)){for(c=m,_=0;_<i;++_)l[_]=T[_];l.length=i}return c}function lc(n,e,t,i,r,a,s,h,l,c,v){for(var _=v||[NaN,NaN],m=0,T=t.length;m<T;++m){var x=t[m];c=Gh(n,e,x,i,r,a,s,h,l,c,_),e=x}return c}function fc(n,e,t,i){for(var r=0,a=t.length;r<a;++r)n[e++]=t[r];return e}function kh(n,e,t,i){for(var r=0,a=t.length;r<a;++r)for(var s=t[r],h=0;h<i;++h)n[e++]=s[h];return e}function cc(n,e,t,i,r){for(var a=r||[],s=0,h=0,l=t.length;h<l;++h){var c=kh(n,e,t[h],i);a[s++]=c,e=c}return a.length=s,a}function dc(n,e,t,i,r,a,s){var h=(t-e)/i;if(h<3){for(;e<t;e+=i)a[s++]=n[e],a[s++]=n[e+1];return s}var l=new Array(h);l[0]=1,l[h-1]=1;for(var c=[e,t-i],v=0;c.length>0;){for(var _=c.pop(),m=c.pop(),T=0,x=n[m],w=n[m+1],S=n[_],I=n[_+1],k=m+i;k<_;k+=i){var F=n[k],j=n[k+1],H=Of(F,j,x,w,S,I);H>T&&(v=k,T=H)}T>r&&(l[(v-e)/i]=1,m+i<v&&c.push(m,v),v+i<_&&c.push(v,_))}for(var k=0;k<h;++k)l[k]&&(a[s++]=n[e+k*i],a[s++]=n[e+k*i+1]);return s}function Zn(n,e){return e*Math.round(n/e)}function pc(n,e,t,i,r,a,s){if(e==t)return s;var h=Zn(n[e],r),l=Zn(n[e+1],r);e+=i,a[s++]=h,a[s++]=l;var c,v;do if(c=Zn(n[e],r),v=Zn(n[e+1],r),e+=i,e==t)return a[s++]=c,a[s++]=v,s;while(c==h&&v==l);for(;e<t;){var _=Zn(n[e],r),m=Zn(n[e+1],r);if(e+=i,!(_==c&&m==v)){var T=c-h,x=v-l,w=_-h,S=m-l;if(T*S==x*w&&(T<0&&w<T||T==w||T>0&&w>T)&&(x<0&&S<x||x==S||x>0&&S>x)){c=_,v=m;continue}a[s++]=c,a[s++]=v,h=c,l=v,c=_,v=m}}return a[s++]=c,a[s++]=v,s}function vc(n,e,t,i,r,a,s,h){for(var l=0,c=t.length;l<c;++l){var v=t[l];s=pc(n,e,v,i,r,a,s),h.push(s),e=v}return s}function qh(n,e,t,i,r){for(var a=r!==void 0?r:[],s=0,h=e;h<t;h+=i)a[s++]=n.slice(h,h+i);return a.length=s,a}function gc(n,e,t,i,r){for(var a=r!==void 0?r:[],s=0,h=0,l=t.length;h<l;++h){var c=t[h];a[s++]=qh(n,e,c,i,a[s]),e=c}return a.length=s,a}function $h(n,e,t,i){for(var r=0,a=n[t-i],s=n[t-i+1];e<t;e+=i){var h=n[e],l=n[e+1];r+=s*h-a*l,a=h,s=l}return r/2}function yc(n,e,t,i){for(var r=0,a=0,s=t.length;a<s;++a){var h=t[a];r+=$h(n,e,h,i),e=h}return r}var _c=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),mc=function(n){_c(e,n);function e(t,i){var r=n.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,i!==void 0&&!Array.isArray(t[0])?r.setFlatCoordinates(i,t):r.setCoordinates(t,i),r}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,i,r,a){return a<Oh(this.getExtent(),t,i)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Gh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,i,r,a))},e.prototype.getArea=function(){return $h(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return qh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=dc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,Te.XY)},e.prototype.getType=function(){return ia.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,i){this.setLayout(i,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=kh(this.flatCoordinates,0,t,this.stride),this.changed()},e}(xo),Is=mc,Mc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ec=function(n){Mc(e,n);function e(t,i){var r=n.call(this)||this;return r.setCoordinates(t,i),r}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,i,r,a){var s=this.flatCoordinates,h=hi(t,i,s[0],s[1]);if(h<a){for(var l=this.stride,c=0;c<l;++c)r[c]=s[c];return r.length=l,h}else return a},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return vf(this.flatCoordinates,t)},e.prototype.getType=function(){return ia.POINT},e.prototype.intersectsExtent=function(t){return Rh(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=fc(this.flatCoordinates,0,t,this.stride),this.changed()},e}(xo),xc=Ec;function Tc(n,e,t,i,r){var a=bh(r,function(s){return!Gn(n,e,t,i,s[0],s[1])});return!a}function Gn(n,e,t,i,r,a){for(var s=0,h=n[t-i],l=n[t-i+1];e<t;e+=i){var c=n[e],v=n[e+1];l<=a?v>a&&(c-h)*(a-l)-(r-h)*(v-l)>0&&s++:v<=a&&(c-h)*(a-l)-(r-h)*(v-l)<0&&s--,h=c,l=v}return s!==0}function zh(n,e,t,i,r,a){if(t.length===0||!Gn(n,e,t[0],i,r,a))return!1;for(var s=1,h=t.length;s<h;++s)if(Gn(n,t[s-1],t[s],i,r,a))return!1;return!0}function Cc(n,e,t,i,r,a,s){for(var h,l,c,v,_,m,T,x=r[a+1],w=[],S=0,I=t.length;S<I;++S){var k=t[S];for(v=n[k-i],m=n[k-i+1],h=e;h<k;h+=i)_=n[h],T=n[h+1],(x<=m&&T<=x||m<=x&&x<=T)&&(c=(x-m)/(T-m)*(_-v)+v,w.push(c)),v=_,m=T}var F=NaN,j=-1/0;for(w.sort(fo),v=w[0],h=1,l=w.length;h<l;++h){_=w[h];var H=Math.abs(_-v);H>j&&(c=(v+_)/2,zh(n,e,t,i,c,x)&&(F=c,j=H)),v=_}return isNaN(F)&&(F=r[a]),s?(s.push(F,x,j),s):[F,x,j]}function wc(n,e,t,i,r){var a;for(e+=i;e<t;e+=i)if(a=r(n.slice(e-i,e),n.slice(e,e+i)),a)return a;return!1}function Uh(n,e,t,i,r){var a=Ph($n(),n,e,t,i);return ha(r,a)?vo(r,a)||a[0]>=r[0]&&a[2]<=r[2]||a[1]>=r[1]&&a[3]<=r[3]?!0:wc(n,e,t,i,function(s,h){return xf(r,s,h)}):!1}function Oc(n,e,t,i,r){return!!(Uh(n,e,t,i,r)||Gn(n,e,t,i,r[0],r[1])||Gn(n,e,t,i,r[0],r[3])||Gn(n,e,t,i,r[2],r[1])||Gn(n,e,t,i,r[2],r[3]))}function Rc(n,e,t,i,r){if(!Oc(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(var a=1,s=t.length;a<s;++a)if(Tc(n,t[a-1],t[a],i,r)&&!Uh(n,t[a-1],t[a],i,r))return!1;return!0}function Pc(n,e,t,i){for(;e<t-i;){for(var r=0;r<i;++r){var a=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=a}e+=i,t-=i}}function Hh(n,e,t,i){for(var r=0,a=n[t-i],s=n[t-i+1];e<t;e+=i){var h=n[e],l=n[e+1];r+=(h-a)*(l+s),a=h,s=l}return r===0?void 0:r>0}function bc(n,e,t,i,r){for(var a=r!==void 0?r:!1,s=0,h=t.length;s<h;++s){var l=t[s],c=Hh(n,e,l,i);if(s===0){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;e=l}return!0}function Ls(n,e,t,i,r){for(var a=r!==void 0?r:!1,s=0,h=t.length;s<h;++s){var l=t[s],c=Hh(n,e,l,i),v=s===0?a&&c||!a&&!c:a&&!c||!a&&c;v&&Pc(n,e,l,i),e=l}return e}var Sc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Bh=function(n){Sc(e,n);function e(t,i,r){var a=n.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,i!==void 0&&r?(a.setFlatCoordinates(i,t),a.ends_=r):a.setCoordinates(t,i),a}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?Kl(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,i,r,a){return a<Oh(this.getExtent(),t,i)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(uc(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),lc(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,i,r,a))},e.prototype.containsXY=function(t,i){return zh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,i)},e.prototype.getArea=function(){return yc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var i;return t!==void 0?(i=this.getOrientedFlatCoordinates().slice(),Ls(i,0,this.ends_,this.stride,t)):i=this.flatCoordinates,gc(i,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Ki(this.getExtent());this.flatInteriorPoint_=Cc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new xc(this.getFlatInteriorPoint(),Te.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Is(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,i=this.flatCoordinates,r=this.ends_,a=[],s=0,h=0,l=r.length;h<l;++h){var c=r[h],v=new Is(i.slice(s,c),t);a.push(v),s=c}return a},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;bc(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Ls(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],r=[];return i.length=vc(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,r),new e(i,Te.XY,r)},e.prototype.getType=function(){return ia.POLYGON},e.prototype.intersectsExtent=function(t){return Rc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,i){this.setLayout(i,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=cc(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()},e}(xo);function io(n){var e=n[0],t=n[1],i=n[2],r=n[3],a=[e,t,e,r,i,r,i,t,e,t];return new Bh(a,Te.XY,[a.length])}var Mn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Se={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Ns(n){return n[0]>0&&n[1]>0}function Ac(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function sn(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var Ic=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Lc=/^([a-z]*)$|^hsla?\(.*\)$/i;function Nc(n){return typeof n=="string"?n:Gc(n)}function Dc(n){var e=document.createElement("div");if(e.style.color=n,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var Fc=function(){var n=1024,e={},t=0;return function(i){var r;if(e.hasOwnProperty(i))r=e[i];else{if(t>=n){var a=0;for(var s in e)(a++&3)===0&&(delete e[s],--t)}r=jc(i),e[i]=r,++t}return r}}();function Ds(n){return Array.isArray(n)?n:Fc(n)}function jc(n){var e,t,i,r,a;if(Lc.exec(n)&&(n=Dc(n)),Ic.exec(n)){var s=n.length-1,h=void 0;s<=4?h=1:h=2;var l=s===4||s===8;e=parseInt(n.substr(1+0*h,h),16),t=parseInt(n.substr(1+1*h,h),16),i=parseInt(n.substr(1+2*h,h),16),l?r=parseInt(n.substr(1+3*h,h),16):r=255,h==1&&(e=(e<<4)+e,t=(t<<4)+t,i=(i<<4)+i,l&&(r=(r<<4)+r)),a=[e,t,i,r/255]}else n.indexOf("rgba(")==0?(a=n.slice(5,-1).split(",").map(Number),Fs(a)):n.indexOf("rgb(")==0?(a=n.slice(4,-1).split(",").map(Number),a.push(1),Fs(a)):Tt(!1,14);return a}function Fs(n){return n[0]=Nt(n[0]+.5|0,0,255),n[1]=Nt(n[1]+.5|0,0,255),n[2]=Nt(n[2]+.5|0,0,255),n[3]=Nt(n[3],0,1),n}function Gc(n){var e=n[0];e!=(e|0)&&(e=e+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var i=n[2];i!=(i|0)&&(i=i+.5|0);var r=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+e+","+t+","+i+","+r+")"}function Hr(n,e,t,i){var r;return t&&t.length?r=t.shift():Th?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}function kc(n){var e=n.offsetWidth,t=getComputedStyle(n);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function qc(n){var e=n.offsetHeight,t=getComputedStyle(n);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function vi(n,e){var t=e.parentNode;t&&t.replaceChild(n,e)}function Br(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function Xh(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function $c(n,e){for(var t=n.childNodes,i=0;;++i){var r=t[i],a=e[i];if(!r&&!a)break;if(r!==a){if(!r){n.appendChild(a);continue}if(!a){n.removeChild(r),--i;continue}n.insertBefore(a,r)}}}var Pr="ol-hidden",zc="ol-selectable",Tn="ol-unselectable",js="ol-unsupported",Mi="ol-control",Xr="ol-collapsed";function Uc(n){return n===1?"":String(Math.round(n*100)/100)}var Hc=new Ye,Bc=new tr;Bc.setSize=function(){console.warn("labelCache is deprecated.")};var Et={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},Xc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wc=function(n){Xc(e,n);function e(t){var i=n.call(this)||this;i.on,i.once,i.un,i.background_=t.background;var r=Vt({},t);return typeof t.properties=="object"&&(delete r.properties,Vt(r,t.properties)),r[Et.OPACITY]=t.opacity!==void 0?t.opacity:1,Tt(typeof r[Et.OPACITY]=="number",64),r[Et.VISIBLE]=t.visible!==void 0?t.visible:!0,r[Et.Z_INDEX]=t.zIndex,r[Et.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,r[Et.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,r[Et.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,r[Et.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,i.className_=r.className!==void 0?r.className:"ol-layer",delete r.className,i.setProperties(r),i.state_=null,i}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var i=this.state_||{layer:this,managed:t===void 0?!0:t},r=this.getZIndex();return i.opacity=Nt(Math.round(this.getOpacity()*100)/100,0,1),i.visible=this.getVisible(),i.extent=this.getExtent(),i.zIndex=r===void 0&&!i.managed?1/0:r,i.maxResolution=this.getMaxResolution(),i.minResolution=Math.max(this.getMinResolution(),0),i.minZoom=this.getMinZoom(),i.maxZoom=this.getMaxZoom(),this.state_=i,i},e.prototype.getLayersArray=function(t){return Pt()},e.prototype.getLayerStatesArray=function(t){return Pt()},e.prototype.getExtent=function(){return this.get(Et.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(Et.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(Et.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(Et.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(Et.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(Et.OPACITY)},e.prototype.getSourceState=function(){return Pt()},e.prototype.getVisible=function(){return this.get(Et.VISIBLE)},e.prototype.getZIndex=function(){return this.get(Et.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(Et.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(Et.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(Et.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(Et.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(Et.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){Tt(typeof t=="number",64),this.set(Et.OPACITY,t)},e.prototype.setVisible=function(t){this.set(Et.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(Et.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},e}(Ye),Wh=Wc,gi={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Vc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Kc=function(n){Vc(e,n);function e(t){var i=this,r=Vt({},t);delete r.source,i=n.call(this,r)||this,i.on,i.once,i.un,i.mapPrecomposeKey_=null,i.mapRenderKey_=null,i.sourceChangeKey_=null,i.renderer_=null,i.rendered=!1,t.render&&(i.render=t.render),t.map&&i.setMap(t.map),i.addChangeListener(Et.SOURCE,i.handleSourcePropertyChange_);var a=t.source?t.source:null;return i.setSource(a),i}return e.prototype.getLayersArray=function(t){var i=t||[];return i.push(this),i},e.prototype.getLayerStatesArray=function(t){var i=t||[];return i.push(this.getLayerState()),i},e.prototype.getSource=function(){return this.get(Et.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():gi.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(At(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=ft(t,ut.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(i){return i([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,i){var r=this.getRenderer();if(r.prepareFrame(t))return this.rendered=!0,r.renderFrame(t,i)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(Et.MAP,t)},e.prototype.getMapInternal=function(){return this.get(Et.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(At(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(At(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=ft(t,Mn.PRECOMPOSE,function(i){var r=i,a=r.frameState.layerStatesArray,s=this.getLayerState(!1);Tt(!a.some(function(h){return h.layer===s.layer}),67),a.push(s)},this),this.mapRenderKey_=ft(this,ut.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(Et.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},e}(Wh);function Wr(n,e){if(!n.visible)return!1;var t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}var To=Kc,Zc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Yc=function(n){Zc(e,n);function e(t){var i=n.call(this)||this;return i.ready=!0,i.boundHandleImageChange_=i.handleImageChange_.bind(i),i.layer_=t,i.declutterExecutorGroup=null,i}return e.prototype.getFeatures=function(t){return Pt()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return Pt()},e.prototype.renderFrame=function(t,i){return Pt()},e.prototype.loadedTileCallback=function(t,i,r){t[i]||(t[i]={}),t[i][r.tileCoord.toString()]=r},e.prototype.createLoadedTileFinder=function(t,i,r){return function(a,s){var h=this.loadedTileCallback.bind(this,r,a);return t.forEachLoadedTile(i,a,s,h)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,i,r,a,s){},e.prototype.getDataAtPixel=function(t,i,r){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var i=t.target;i.getState()===Se.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var i=t.getState();return i!=Se.LOADED&&i!=Se.ERROR&&t.addEventListener(ut.CHANGE,this.boundHandleImageChange_),i==Se.IDLE&&(t.load(),i=t.getState()),i==Se.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==gi.READY&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,n.prototype.disposeInternal.call(this)},e}(mh),Qc=Yc,Jc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),td=function(n){Jc(e,n);function e(t,i,r,a){var s=n.call(this,t)||this;return s.inversePixelTransform=i,s.frameState=r,s.context=a,s}return e}(On),Vh=td,ed=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ki=null;function nd(){var n=document.createElement("canvas");n.width=1,n.height=1,ki=n.getContext("2d")}var id=function(n){ed(e,n);function e(t){var i=n.call(this,t)||this;return i.container=null,i.renderedResolution,i.tempTransform=si(),i.pixelTransform=si(),i.inversePixelTransform=si(),i.context=null,i.containerReused=!1,i.pixelContext_=null,i.frameState=null,i}return e.prototype.getImageData=function(t,i,r){ki||nd(),ki.clearRect(0,0,1,1);var a;try{ki.drawImage(t,i,r,1,1,0,0,1,1),a=ki.getImageData(0,0,1,1).data}catch{return null}return a},e.prototype.getBackground=function(t){var i=this.getLayer(),r=i.getBackground();return typeof r=="function"&&(r=r(t.viewState.resolution)),r||void 0},e.prototype.useContainer=function(t,i,r,a){var s=this.getLayer().getClassName(),h,l;if(t&&t.className===s&&t.style.opacity===""&&r===1&&(!a||t.style.backgroundColor&&po(Ds(t.style.backgroundColor),Ds(a)))){var c=t.firstElementChild;c instanceof HTMLCanvasElement&&(l=c.getContext("2d"))}if(l&&l.canvas.style.transform===i?(this.container=t,this.context=l,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){h=document.createElement("div"),h.className=s;var v=h.style;v.position="absolute",v.width="100%",v.height="100%",a&&(v.backgroundColor=a),l=Hr();var c=l.canvas;h.appendChild(c),v=c.style,v.position="absolute",v.left="0",v.transformOrigin="top left",this.container=h,this.context=l}},e.prototype.clipUnrotated=function(t,i,r){var a=Rn(r),s=sa(r),h=er(r),l=oa(r);ce(i.coordinateToPixelTransform,a),ce(i.coordinateToPixelTransform,s),ce(i.coordinateToPixelTransform,h),ce(i.coordinateToPixelTransform,l);var c=this.inversePixelTransform;ce(c,a),ce(c,s),ce(c,h),ce(c,l),t.save(),t.beginPath(),t.moveTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,i,r){var a=this.getLayer();if(a.hasListener(t)){var s=new Vh(t,this.inversePixelTransform,r,i);a.dispatchEvent(s)}},e.prototype.preRender=function(t,i){this.frameState=i,this.dispatchRenderEvent_(Mn.PRERENDER,t,i)},e.prototype.postRender=function(t,i){this.dispatchRenderEvent_(Mn.POSTRENDER,t,i)},e.prototype.getRenderTransform=function(t,i,r,a,s,h,l){var c=s/2,v=h/2,_=a/i,m=-_,T=-t[0]+l,x=-t[1];return Vi(this.tempTransform,c,v,_,m,-r,T,x)},e.prototype.getDataAtPixel=function(t,i,r){var a=ce(this.inversePixelTransform,t.slice()),s=this.context,h=this.getLayer(),l=h.getExtent();if(l){var c=ce(i.pixelToCoordinateTransform,t.slice());if(!ra(l,c))return null}var v=Math.round(a[0]),_=Math.round(a[1]),m=this.pixelContext_;if(!m){var T=document.createElement("canvas");T.width=1,T.height=1,m=T.getContext("2d"),this.pixelContext_=m}m.clearRect(0,0,1,1);var x;try{m.drawImage(s.canvas,v,_,1,1,0,0,1,1),x=m.getImageData(0,0,1,1).data}catch(w){return w.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):x}return x[3]===0?null:x},e.prototype.disposeInternal=function(){delete this.frameState,n.prototype.disposeInternal.call(this)},e}(Qc),rd=id,be={ANIMATING:0,INTERACTING:1},ad=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(e,t,i){var r=Gs(e,t,i);return r in this.cache_?this.cache_[r]:null},n.prototype.set=function(e,t,i,r){var a=Gs(e,t,i);this.cache_[a]=r,++this.cacheSize_},n.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},n}();function Gs(n,e,t){var i=t?Nc(t):"null";return e+":"+n+":"+i}var Kh=new ad,od=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sd=function(n){od(e,n);function e(t,i,r,a){var s=n.call(this)||this;return s.extent=t,s.pixelRatio_=r,s.resolution=i,s.state=a,s}return e.prototype.changed=function(){this.dispatchEvent(ut.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Pt()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Pt()},e}(tr),hd=sd,ud=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();(function(n){ud(e,n);function e(t,i,r,a,s,h){var l=n.call(this,t,i,r,Se.IDLE)||this;return l.src_=a,l.image_=new Image,s!==null&&(l.image_.crossOrigin=s),l.unlisten_=null,l.state=Se.IDLE,l.imageLoadFunction_=h,l}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=Se.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=ke(this.extent)/this.image_.height),this.state=Se.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==Se.IDLE||this.state==Se.ERROR)&&(this.state=Se.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Zh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=ke(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(hd);function Zh(n,e,t){var i=n,r=!0,a=!1,s=!1,h=[Wi(i,ut.LOAD,function(){s=!0,a||e()})];return i.src&&ff?(a=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(s?e():t())})):h.push(Wi(i,ut.ERROR,t)),function(){r=!1,h.forEach(At)}}var ld=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fd=function(n){ld(e,n);function e(t){var i=n.call(this)||this;i.projection=Kt(t.projection),i.attributions_=ks(t.attributions),i.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,i.loading=!1,i.state_=t.state!==void 0?t.state:gi.READY,i.wrapX_=t.wrapX!==void 0?t.wrapX:!1,i.interpolate_=!!t.interpolate,i.viewResolver=null,i.viewRejector=null;var r=i;return i.viewPromise_=new Promise(function(a,s){r.viewResolver=a,r.viewRejector=s}),i}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Pt()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=ks(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(Ye);function ks(n){return n?Array.isArray(n)?function(e){return n}:typeof n=="function"?n:function(e){return[n]}:null}var cd=fd,rt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Yh(n){return Math.pow(n,3)}function zn(n){return 1-Yh(1-n)}function dd(n){return 3*n*n-2*n*n*n}function pd(n){return n}var vd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gd=function(n){vd(e,n);function e(t,i,r){var a=n.call(this)||this,s=r||{};return a.tileCoord=t,a.state=i,a.interimTile=null,a.key="",a.transition_=s.transition===void 0?250:s.transition,a.transitionStarts_={},a.interpolate=!!s.interpolate,a}return e.prototype.changed=function(){this.dispatchEvent(ut.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==rt.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,i=this;do{if(t.getState()==rt.LOADED){t.interimTile=null;break}else t.getState()==rt.LOADING?i=t:t.getState()==rt.IDLE?i.interimTile=t.interimTile:i=t;t=i.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==rt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Pt()},e.prototype.getAlpha=function(t,i){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(!r)r=i,this.transitionStarts_[t]=r;else if(r===-1)return 1;var a=i-r+1e3/60;return a>=this.transition_?1:Yh(a/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(tr),Qh=gd,yd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_d=function(n){yd(e,n);function e(t,i,r,a,s,h){var l=n.call(this,t,i,h)||this;return l.crossOrigin_=a,l.src_=r,l.key=r,l.image_=new Image,a!==null&&(l.image_.crossOrigin=a),l.unlisten_=null,l.tileLoadFunction_=s,l}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=rt.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=rt.ERROR,this.unlistenImage_(),this.image_=md(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=rt.LOADED:this.state=rt.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==rt.ERROR&&(this.state=rt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==rt.IDLE&&(this.state=rt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Zh(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Qh);function md(){var n=Hr(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var Jh=_d,Md=function(){function n(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var i=t-3;i>0&&this.points_[i+2]>e;)i-=3;var r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;var a=this.points_[t]-this.points_[i],s=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(s,a),this.initialVelocity_=Math.sqrt(a*a+s*s)/r,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),Ed=Md,xd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Td=function(n){xd(e,n);function e(t){var i=n.call(this)||this;return i.map_=t,i}return e.prototype.dispatchRenderEvent=function(t,i){Pt()},e.prototype.calculateMatrices2D=function(t){var i=t.viewState,r=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;Vi(r,t.size[0]/2,t.size[1]/2,1/i.resolution,-1/i.resolution,-i.rotation,-i.center[0],-i.center[1]),wh(a,r)},e.prototype.forEachFeatureAtCoordinate=function(t,i,r,a,s,h,l,c){var v,_=i.viewState;function m(ct,Ct,wt,ge){return s.call(h,Ct,ct?wt:null,ge)}var T=_.projection,x=Hf(t.slice(),T),w=[[0,0]];if(T.canWrapX()&&a){var S=T.getExtent(),I=zt(S);w.push([-I,0],[I,0])}for(var k=i.layerStatesArray,F=k.length,j=[],H=[],p=0;p<w.length;p++)for(var Z=F-1;Z>=0;--Z){var K=k[Z],ht=K.layer;if(ht.hasRenderer()&&Wr(K,_)&&l.call(c,ht)){var dt=ht.getRenderer(),yt=ht.getSource();if(dt&&yt){var pt=yt.getWrapX()?x:t,Ut=m.bind(null,K.managed);H[0]=pt[0]+w[p][0],H[1]=pt[1]+w[p][1],v=dt.forEachFeatureAtCoordinate(H,i,r,Ut,j)}if(v)return v}}if(j.length!==0){var Zt=1/j.length;return j.forEach(function(ct,Ct){return ct.distanceSq+=Ct*Zt}),j.sort(function(ct,Ct){return ct.distanceSq-Ct.distanceSq}),j.some(function(ct){return v=ct.callback(ct.feature,ct.layer,ct.geometry)}),v}},e.prototype.forEachLayerAtPixel=function(t,i,r,a,s){return Pt()},e.prototype.hasFeatureAtCoordinate=function(t,i,r,a,s,h){var l=this.forEachFeatureAtCoordinate(t,i,r,a,Ui,this,s,h);return l!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Pt()},e.prototype.scheduleExpireIconCache=function(t){Kh.canExpireCache()&&t.postRenderFunctions.push(Cd)},e}(lo);function Cd(n,e){Kh.expire()}var wd=Td,Od=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Rd=function(n){Od(e,n);function e(t){var i=n.call(this,t)||this;i.fontChangeListenerKey_=ft(Hc,ci.PROPERTYCHANGE,t.redrawText.bind(t)),i.element_=document.createElement("div");var r=i.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",i.element_.className=Tn+" ol-layers";var a=t.getViewport();return a.insertBefore(i.element_,a.firstChild||null),i.children_=[],i.renderedVisible_=!0,i}return e.prototype.dispatchRenderEvent=function(t,i){var r=this.getMap();if(r.hasListener(t)){var a=new Vh(t,void 0,i);r.dispatchEvent(a)}},e.prototype.disposeInternal=function(){At(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Mn.PRECOMPOSE,t);var i=t.layerStatesArray.sort(function(T,x){return T.zIndex-x.zIndex}),r=t.viewState;this.children_.length=0;for(var a=[],s=null,h=0,l=i.length;h<l;++h){var c=i[h];t.layerIndex=h;var v=c.layer,_=v.getSourceState();if(!Wr(c,r)||_!=gi.READY&&_!=gi.UNDEFINED){v.unrender();continue}var m=v.render(t,s);!m||(m!==s&&(this.children_.push(m),s=m),"getDeclutter"in v&&a.push(v))}for(var h=a.length-1;h>=0;--h)a[h].renderDeclutter(t);$c(this.element_,this.children_),this.dispatchRenderEvent(Mn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,i,r,a,s){for(var h=i.viewState,l=i.layerStatesArray,c=l.length,v=c-1;v>=0;--v){var _=l[v],m=_.layer;if(m.hasRenderer()&&Wr(_,h)&&s(m)){var T=m.getRenderer(),x=T.getDataAtPixel(t,i,r);if(x){var w=a(m,x);if(w)return w}}}},e}(wd),tu=Rd,eu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),mn=function(n){eu(e,n);function e(t,i){var r=n.call(this,t)||this;return r.layer=i,r}return e}(On),Ga={LAYERS:"layers"},Pd=function(n){eu(e,n);function e(t){var i=this,r=t||{},a=Vt({},r);delete a.layers;var s=r.layers;return i=n.call(this,a)||this,i.on,i.once,i.un,i.layersListenerKeys_=[],i.listenerKeys_={},i.addChangeListener(Ga.LAYERS,i.handleLayersChanged_),s?Array.isArray(s)?s=new je(s.slice(),{unique:!0}):Tt(typeof s.getArray=="function",43):s=new je(void 0,{unique:!0}),i.setLayers(s),i}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(At),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(ft(t,Ae.ADD,this.handleLayersAdd_,this),ft(t,Ae.REMOVE,this.handleLayersRemove_,this));for(var i in this.listenerKeys_)this.listenerKeys_[i].forEach(At);ea(this.listenerKeys_);for(var r=t.getArray(),a=0,s=r.length;a<s;a++){var h=r[a];this.registerLayerListeners_(h),this.dispatchEvent(new mn("addlayer",h))}this.changed()},e.prototype.registerLayerListeners_=function(t){var i=[ft(t,ci.PROPERTYCHANGE,this.handleLayerChange_,this),ft(t,ut.CHANGE,this.handleLayerChange_,this)];t instanceof e&&i.push(ft(t,"addlayer",this.handleLayerGroupAdd_,this),ft(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[de(t)]=i},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new mn("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new mn("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var i=t.element;this.registerLayerListeners_(i),this.dispatchEvent(new mn("addlayer",i)),this.changed()},e.prototype.handleLayersRemove_=function(t){var i=t.element,r=de(i);this.listenerKeys_[r].forEach(At),delete this.listenerKeys_[r],this.dispatchEvent(new mn("removelayer",i)),this.changed()},e.prototype.getLayers=function(){return this.get(Ga.LAYERS)},e.prototype.setLayers=function(t){var i=this.getLayers();if(i)for(var r=i.getArray(),a=0,s=r.length;a<s;++a)this.dispatchEvent(new mn("removelayer",r[a]));this.set(Ga.LAYERS,t)},e.prototype.getLayersArray=function(t){var i=t!==void 0?t:[];return this.getLayers().forEach(function(r){r.getLayersArray(i)}),i},e.prototype.getLayerStatesArray=function(t){var i=t!==void 0?t:[],r=i.length;this.getLayers().forEach(function(v){v.getLayerStatesArray(i)});var a=this.getLayerState(),s=a.zIndex;!t&&a.zIndex===void 0&&(s=0);for(var h=r,l=i.length;h<l;h++){var c=i[h];c.opacity*=a.opacity,c.visible=c.visible&&a.visible,c.maxResolution=Math.min(c.maxResolution,a.maxResolution),c.minResolution=Math.max(c.minResolution,a.minResolution),c.minZoom=Math.max(c.minZoom,a.minZoom),c.maxZoom=Math.min(c.maxZoom,a.maxZoom),a.extent!==void 0&&(c.extent!==void 0?c.extent=Hi(c.extent,a.extent):c.extent=a.extent),c.zIndex===void 0&&(c.zIndex=s)}return i},e.prototype.getSourceState=function(){return gi.READY},e}(Wh),ua=Pd,bd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sd=function(n){bd(e,n);function e(t,i,r){var a=n.call(this,t)||this;return a.map=i,a.frameState=r!==void 0?r:null,a}return e}(On),Jn=Sd,Ad=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Id=function(n){Ad(e,n);function e(t,i,r,a,s){var h=n.call(this,t,i,s)||this;return h.originalEvent=r,h.pixel_=null,h.coordinate_=null,h.dragging=a!==void 0?a:!1,h}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(Jn),_n=Id,bt={SINGLECLICK:"singleclick",CLICK:ut.CLICK,DBLCLICK:ut.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Xe={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Ld=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Nd=function(n){Ld(e,n);function e(t,i){var r=n.call(this,t)||this;r.map_=t,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=i===void 0?1:i,r.down_=null;var a=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=a,r.pointerdownListenerKey_=ft(a,Xe.POINTERDOWN,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=ft(a,Xe.POINTERMOVE,r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(ut.TOUCHMOVE,r.boundHandleTouchMove_,Ch?{passive:!1}:!1),r}return e.prototype.emulateClick_=function(t){var i=new _n(bt.CLICK,this.map_,t);this.dispatchEvent(i),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,i=new _n(bt.DBLCLICK,this.map_,t),this.dispatchEvent(i)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var r=new _n(bt.SINGLECLICK,this.map_,t);this.dispatchEvent(r)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var i=t;i.type==bt.POINTERUP||i.type==bt.POINTERCANCEL?delete this.trackedTouches_[i.pointerId]:i.type==bt.POINTERDOWN&&(this.trackedTouches_[i.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var i=new _n(bt.POINTERUP,this.map_,t);this.dispatchEvent(i),this.emulateClicks_&&!i.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(At),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var i=new _n(bt.POINTERDOWN,this.map_,t);this.dispatchEvent(i),this.down_={};for(var r in t){var a=t[r];this.down_[r]=typeof a=="function"?Xi:a}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ft(s,bt.POINTERMOVE,this.handlePointerMove_,this),ft(s,bt.POINTERUP,this.handlePointerUp_,this),ft(this.element_,bt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(ft(this.element_.getRootNode(),bt.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var i=new _n(bt.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(i)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var i=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new _n(t.type,this.map_,t,i))},e.prototype.handleTouchMove_=function(t){var i=this.originalPointerMoveEvent_;(!i||i.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(At(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(ut.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(At(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(At),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},e}(tr),Dd=Nd,Be={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Dt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Vr=1/0,Fd=function(){function n(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ea(this.queuedElements_)},n.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var r=this.keyFunction_(i);return delete this.queuedElements_[r],i},n.prototype.enqueue=function(e){Tt(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=Vr?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(e){return e*2+1},n.prototype.getRightChildIndex_=function(e){return e*2+2},n.prototype.getParentIndex_=function(e){return e-1>>1},n.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(e){return e in this.queuedElements_},n.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},n.prototype.siftUp_=function(e){for(var t=this.elements_,i=this.priorities_,r=t.length,a=t[e],s=i[e],h=e;e<r>>1;){var l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),v=c<r&&i[c]<i[l]?c:l;t[e]=t[v],i[e]=i[v],e=v}t[e]=a,i[e]=s,this.siftDown_(h,e)},n.prototype.siftDown_=function(e,t){for(var i=this.elements_,r=this.priorities_,a=i[t],s=r[t];t>e;){var h=this.getParentIndex_(t);if(r[h]>s)i[t]=i[h],r[t]=r[h],t=h;else break}i[t]=a,r[t]=s},n.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,i=this.priorities_,r=0,a=t.length,s,h,l;for(h=0;h<a;++h)s=t[h],l=e(s),l==Vr?delete this.queuedElements_[this.keyFunction_(s)]:(i[r]=l,t[r++]=s);t.length=r,i.length=r,this.heapify_()},n}(),jd=Fd,Gd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),kd=function(n){Gd(e,n);function e(t,i){var r=n.call(this,function(a){return t.apply(null,a)},function(a){return a[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=i,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return e.prototype.enqueue=function(t){var i=n.prototype.enqueue.call(this,t);if(i){var r=t[0];r.addEventListener(ut.CHANGE,this.boundHandleTileChange_)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var i=t.target,r=i.getState();if(r===rt.LOADED||r===rt.ERROR||r===rt.EMPTY){i.removeEventListener(ut.CHANGE,this.boundHandleTileChange_);var a=i.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,i){for(var r=0,a,s,h;this.tilesLoading_<t&&r<i&&this.getCount()>0;)s=this.dequeue()[0],h=s.getKey(),a=s.getState(),a===rt.IDLE&&!(h in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[h]=!0,++this.tilesLoading_,++r,s.load())},e}(jd),qd=kd;function $d(n,e,t,i,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return Vr;var a=n.viewState.center,s=i[0]-a[0],h=i[1]-a[1];return 65536*Math.log(r)+Math.sqrt(s*s+h*h)/r}var xe={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},zd=42,Co=256;function qs(n,e,t){return function(i,r,a,s,h){if(!!i){if(!r&&!e)return i;var l=e?0:a[0]*r,c=e?0:a[1]*r,v=h?h[0]:0,_=h?h[1]:0,m=n[0]+l/2+v,T=n[2]-l/2+v,x=n[1]+c/2+_,w=n[3]-c/2+_;m>T&&(m=(T+m)/2,T=m),x>w&&(x=(w+x)/2,w=x);var S=Nt(i[0],m,T),I=Nt(i[1],x,w);if(s&&t&&r){var k=30*r;S+=-k*Math.log(1+Math.max(0,m-i[0])/k)+k*Math.log(1+Math.max(0,i[0]-T)/k),I+=-k*Math.log(1+Math.max(0,x-i[1])/k)+k*Math.log(1+Math.max(0,i[1]-w)/k)}return[S,I]}}}function Ud(n){return n}function wo(n,e,t,i){var r=zt(e)/t[0],a=ke(e)/t[1];return i?Math.min(n,Math.max(r,a)):Math.min(n,Math.min(r,a))}function Oo(n,e,t){var i=Math.min(n,e),r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),Nt(i,t/2,e*2)}function Hd(n,e,t,i){return function(r,a,s,h){if(r!==void 0){var l=n[0],c=n[n.length-1],v=t?wo(l,t,s,i):l;if(h){var _=e!==void 0?e:!0;return _?Oo(r,v,c):Nt(r,c,v)}var m=Math.min(v,r),T=Math.floor(co(n,m,a));return n[T]>v&&T<n.length-1?n[T+1]:n[T]}else return}}function Bd(n,e,t,i,r,a){return function(s,h,l,c){if(s!==void 0){var v=r?wo(e,r,l,a):e,_=t!==void 0?t:0;if(c){var m=i!==void 0?i:!0;return m?Oo(s,v,_):Nt(s,_,v)}var T=1e-9,x=Math.ceil(Math.log(e/v)/Math.log(n)-T),w=-h*(.5-T)+.5,S=Math.min(v,s),I=Math.floor(Math.log(e/S)/Math.log(n)+w),k=Math.max(x,I),F=e/Math.pow(n,k);return Nt(F,_,v)}else return}}function $s(n,e,t,i,r){return function(a,s,h,l){if(a!==void 0){var c=i?wo(n,i,h,r):n,v=t!==void 0?t:!0;return!v||!l?Nt(a,e,c):Oo(a,c,e)}else return}}function Ro(n){if(n!==void 0)return 0}function zs(n){if(n!==void 0)return n}function Xd(n){var e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function Wd(n){var e=n||Fr(5);return function(t,i){if(i)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}var Vd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ka=0,Kd=function(n){Vd(e,n);function e(t){var i=n.call(this)||this;i.on,i.once,i.un;var r=Vt({},t);return i.hints_=[0,0],i.animations_=[],i.updateAnimationKey_,i.projection_=Eo(r.projection,"EPSG:3857"),i.viewportSize_=[100,100],i.targetCenter_=null,i.targetResolution_,i.targetRotation_,i.nextCenter_=null,i.nextResolution_,i.nextRotation_,i.cancelAnchor_=void 0,r.projection&&Lh(),r.center&&(r.center=on(r.center,i.projection_)),r.extent&&(r.extent=ni(r.extent,i.projection_)),i.applyOptions_(r),i}return e.prototype.applyOptions_=function(t){var i=Vt({},t);for(var r in xe)delete i[r];this.setProperties(i,!0);var a=Yd(t);this.maxResolution_=a.maxResolution,this.minResolution_=a.minResolution,this.zoomFactor_=a.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=a.minZoom;var s=Zd(t),h=a.constraint,l=Qd(t);this.constraints_={center:s,resolution:h,rotation:l},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var i=this.padding_;this.padding_=t;var r=this.getCenter();if(r){var a=t||[0,0,0,0];i=i||[0,0,0,0];var s=this.getResolution(),h=s/2*(a[3]-i[3]+i[1]-a[1]),l=s/2*(a[0]-i[0]+i[2]-a[2]);this.setCenterInternal([r[0]+h,r[1]-l])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var i=this.getProperties();return i.resolution!==void 0?i.resolution=this.getResolution():i.zoom=this.getZoom(),i.center=this.getCenterInternal(),i.rotation=this.getRotation(),Vt({},i,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var i=new Array(arguments.length),r=0;r<i.length;++r){var a=arguments[r];a.center&&(a=Vt({},a),a.center=on(a.center,this.getProjection())),a.anchor&&(a=Vt({},a),a.anchor=on(a.anchor,this.getProjection())),i[r]=a}this.animateInternal.apply(this,i)},e.prototype.animateInternal=function(t){var i=arguments.length,r;i>1&&typeof arguments[i-1]=="function"&&(r=arguments[i-1],--i);for(var a=0;a<i&&!this.isDef();++a){var s=arguments[a];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(a===i){r&&br(r,!0);return}for(var h=Date.now(),l=this.targetCenter_.slice(),c=this.targetResolution_,v=this.targetRotation_,_=[];a<i;++a){var m=arguments[a],T={start:h,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||dd,callback:r};if(m.center&&(T.sourceCenter=l,T.targetCenter=m.center.slice(),l=T.targetCenter),m.zoom!==void 0?(T.sourceResolution=c,T.targetResolution=this.getResolutionForZoom(m.zoom),c=T.targetResolution):m.resolution&&(T.sourceResolution=c,T.targetResolution=m.resolution,c=T.targetResolution),m.rotation!==void 0){T.sourceRotation=v;var x=ui(m.rotation-v+Math.PI,2*Math.PI)-Math.PI;T.targetRotation=v+x,v=T.targetRotation}Jd(T)?T.complete=!0:h+=T.duration,_.push(T)}this.animations_.push(_),this.setHint(be.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[be.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[be.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(be.ANIMATING,-this.hints_[be.ANIMATING]);for(var t,i=0,r=this.animations_.length;i<r;++i){var a=this.animations_[i];if(a[0].callback&&br(a[0].callback,!1),!t)for(var s=0,h=a.length;s<h;++s){var l=a[s];if(!l.complete){t=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),i=!1,r=this.animations_.length-1;r>=0;--r){for(var a=this.animations_[r],s=!0,h=0,l=a.length;h<l;++h){var c=a[h];if(!c.complete){var v=t-c.start,_=c.duration>0?v/c.duration:1;_>=1?(c.complete=!0,_=1):s=!1;var m=c.easing(_);if(c.sourceCenter){var T=c.sourceCenter[0],x=c.sourceCenter[1],w=c.targetCenter[0],S=c.targetCenter[1];this.nextCenter_=c.targetCenter;var I=T+m*(w-T),k=x+m*(S-x);this.targetCenter_=[I,k]}if(c.sourceResolution&&c.targetResolution){var F=m===1?c.targetResolution:c.sourceResolution+m*(c.targetResolution-c.sourceResolution);if(c.anchor){var j=this.getViewportSize_(this.getRotation()),H=this.constraints_.resolution(F,0,j,!0);this.targetCenter_=this.calculateCenterZoom(H,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=F,this.applyTargetState_(!0)}if(c.sourceRotation!==void 0&&c.targetRotation!==void 0){var p=m===1?ui(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+m*(c.targetRotation-c.sourceRotation);if(c.anchor){var Z=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(Z,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),i=!0,!c.complete)break}}if(s){this.animations_[r]=null,this.setHint(be.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var K=a[0].callback;K&&br(K,!0)}}this.animations_=this.animations_.filter(Boolean),i&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,i){var r,a=this.getCenterInternal();return a!==void 0&&(r=[a[0]-i[0],a[1]-i[1]],_o(r,t-this.getRotation()),kf(r,i)),r},e.prototype.calculateCenterZoom=function(t,i){var r,a=this.getCenterInternal(),s=this.getResolution();if(a!==void 0&&s!==void 0){var h=i[0]-t*(i[0]-a[0])/s,l=i[1]-t*(i[1]-a[1])/s;r=[h,l]}return r},e.prototype.getViewportSize_=function(t){var i=this.viewportSize_;if(t){var r=i[0],a=i[1];return[Math.abs(r*Math.cos(t))+Math.abs(a*Math.sin(t)),Math.abs(r*Math.sin(t))+Math.abs(a*Math.cos(t))]}else return i},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&no(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(xe.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var i=this.calculateExtentInternal(t);return Yf(i,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var i=t||this.getViewportSizeMinusPadding_(),r=this.getCenterInternal();Tt(r,1);var a=this.getResolution();Tt(a!==void 0,2);var s=this.getRotation();return Tt(s!==void 0,3),Qa(r,a,s,i)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(xe.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,i){return this.getResolutionForExtentInternal(ni(t,this.getProjection()),i)},e.prototype.getResolutionForExtentInternal=function(t,i){var r=i||this.getViewportSizeMinusPadding_(),a=zt(t)/r[0],s=ke(t)/r[1];return Math.max(a,s)},e.prototype.getResolutionForValueFunction=function(t){var i=t||2,r=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,s=Math.log(r/a)/Math.log(i);return function(h){var l=r/Math.pow(i,h*s);return l}},e.prototype.getRotation=function(){return this.get(xe.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var i=Math.log(t||2),r=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,s=Math.log(r/a)/i;return function(h){var l=Math.log(r/h)/i/s;return l}},e.prototype.getViewportSizeMinusPadding_=function(t){var i=this.getViewportSize_(t),r=this.padding_;return r&&(i=[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]),i},e.prototype.getState=function(){var t=this.getProjection(),i=this.getResolution(),r=this.getRotation(),a=this.getCenterInternal(),s=this.padding_;if(s){var h=this.getViewportSizeMinusPadding_();a=qa(a,this.getViewportSize_(),[h[0]/2+s[3],h[1]/2+s[0]],i,r)}return{center:a.slice(0),projection:t!==void 0?t:null,resolution:i,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,i=this.getResolution();return i!==void 0&&(t=this.getZoomForResolution(i)),t},e.prototype.getZoomForResolution=function(t){var i=this.minZoom_||0,r,a;if(this.resolutions_){var s=co(this.resolutions_,t,1);i=s,r=this.resolutions_[s],s==this.resolutions_.length-1?a=2:a=r/this.resolutions_[s+1]}else r=this.maxResolution_,a=this.zoomFactor_;return i+Math.log(r/t)/Math.log(a)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var i=Nt(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(r,Nt(t-i,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,i){var r;if(Tt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){Tt(!go(t),25);var a=ni(t,this.getProjection());r=io(a)}else if(t.getType()===ia.CIRCLE){var a=ni(t.getExtent(),this.getProjection());r=io(a),r.rotate(this.getRotation(),Ki(a))}else{var s=Fh();s?r=t.clone().transform(s,this.getProjection()):r=t}this.fitInternal(r,i)},e.prototype.rotatedExtentForGeometry=function(t){for(var i=this.getRotation(),r=Math.cos(i),a=Math.sin(-i),s=t.getFlatCoordinates(),h=t.getStride(),l=1/0,c=1/0,v=-1/0,_=-1/0,m=0,T=s.length;m<T;m+=h){var x=s[m]*r-s[m+1]*a,w=s[m]*a+s[m+1]*r;l=Math.min(l,x),c=Math.min(c,w),v=Math.max(v,x),_=Math.max(_,w)}return[l,c,v,_]},e.prototype.fitInternal=function(t,i){var r=i||{},a=r.size;a||(a=this.getViewportSizeMinusPadding_());var s=r.padding!==void 0?r.padding:[0,0,0,0],h=r.nearest!==void 0?r.nearest:!1,l;r.minResolution!==void 0?l=r.minResolution:r.maxZoom!==void 0?l=this.getResolutionForZoom(r.maxZoom):l=0;var c=this.rotatedExtentForGeometry(t),v=this.getResolutionForExtentInternal(c,[a[0]-s[1]-s[3],a[1]-s[0]-s[2]]);v=isNaN(v)?l:Math.max(v,l),v=this.getConstrainedResolution(v,h?0:1);var _=this.getRotation(),m=Math.sin(_),T=Math.cos(_),x=Ki(c);x[0]+=(s[1]-s[3])/2*v,x[1]+=(s[0]-s[2])/2*v;var w=x[0]*T-x[1]*m,S=x[1]*T+x[0]*m,I=this.getConstrainedCenter([w,S],v),k=r.callback?r.callback:Xi;r.duration!==void 0?this.animateInternal({resolution:v,center:I,duration:r.duration,easing:r.easing},k):(this.targetResolution_=v,this.targetCenter_=I,this.applyTargetState_(!1,!0),br(k,!0))},e.prototype.centerOn=function(t,i,r){this.centerOnInternal(on(t,this.getProjection()),i,r)},e.prototype.centerOnInternal=function(t,i,r){this.setCenterInternal(qa(t,i,r,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,i,r,a){var s,h=this.padding_;if(h&&t){var l=this.getViewportSizeMinusPadding_(-r),c=qa(t,a,[l[0]/2+h[3],l[1]/2+h[0]],i,r);s=[t[0]-c[0],t[1]-c[1]]}return s},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var i=no(this.targetCenter_,this.getProjection());this.setCenter([i[0]+t[0],i[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var i=this.targetCenter_;this.setCenterInternal([i[0]+t[0],i[1]+t[1]])},e.prototype.adjustResolution=function(t,i){var r=i&&on(i,this.getProjection());this.adjustResolutionInternal(t,r)},e.prototype.adjustResolutionInternal=function(t,i){var r=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,a,r);i&&(this.targetCenter_=this.calculateCenterZoom(s,i)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,i){this.adjustResolution(Math.pow(this.zoomFactor_,-t),i)},e.prototype.adjustRotation=function(t,i){i&&(i=on(i,this.getProjection())),this.adjustRotationInternal(t,i)},e.prototype.adjustRotationInternal=function(t,i){var r=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+t,r);i&&(this.targetCenter_=this.calculateCenterRotate(a,i)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&on(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,i){return this.hints_[t]+=i,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,i){var r=this.getAnimating()||this.getInteracting()||i,a=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(a),h=this.constraints_.resolution(this.targetResolution_,0,s,r),l=this.constraints_.center(this.targetCenter_,h,s,r,this.calculateCenterShift(this.targetCenter_,h,a,s));this.get(xe.ROTATION)!==a&&this.set(xe.ROTATION,a),this.get(xe.RESOLUTION)!==h&&(this.set(xe.RESOLUTION,h),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(xe.CENTER)||!zr(this.get(xe.CENTER),l))&&this.set(xe.CENTER,l),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,i,r){var a=t!==void 0?t:200,s=i||0,h=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(h),c=this.constraints_.resolution(this.targetResolution_,s,l),v=this.constraints_.center(this.targetCenter_,c,l,!1,this.calculateCenterShift(this.targetCenter_,c,h,l));if(a===0&&!this.cancelAnchor_){this.targetResolution_=c,this.targetRotation_=h,this.targetCenter_=v,this.applyTargetState_();return}var _=r||(a===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==c||this.getRotation()!==h||!this.getCenterInternal()||!zr(this.getCenterInternal(),v))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:h,center:v,resolution:c,duration:a,easing:zn,anchor:_}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(be.INTERACTING,1)},e.prototype.endInteraction=function(t,i,r){var a=r&&on(r,this.getProjection());this.endInteractionInternal(t,i,a)},e.prototype.endInteractionInternal=function(t,i,r){this.setHint(be.INTERACTING,-1),this.resolveConstraints(t,i,r)},e.prototype.getConstrainedCenter=function(t,i){var r=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,i||this.getResolution(),r)},e.prototype.getConstrainedZoom=function(t,i){var r=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(r,i))},e.prototype.getConstrainedResolution=function(t,i){var r=i||0,a=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,r,a)},e}(Ye);function br(n,e){setTimeout(function(){n(e)},0)}function Zd(n){if(n.extent!==void 0){var e=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return qs(n.extent,n.constrainOnlyCenter,e)}var t=Eo(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var i=t.getExtent().slice();return i[0]=-1/0,i[2]=1/0,qs(i,!1,!1)}return Ud}function Yd(n){var e,t,i,r=28,a=2,s=n.minZoom!==void 0?n.minZoom:ka,h=n.maxZoom!==void 0?n.maxZoom:r,l=n.zoomFactor!==void 0?n.zoomFactor:a,c=n.multiWorld!==void 0?n.multiWorld:!1,v=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,_=n.showFullExtent!==void 0?n.showFullExtent:!1,m=Eo(n.projection,"EPSG:3857"),T=m.getExtent(),x=n.constrainOnlyCenter,w=n.extent;if(!c&&!w&&m.isGlobal()&&(x=!1,w=T),n.resolutions!==void 0){var S=n.resolutions;t=S[s],i=S[h]!==void 0?S[h]:S[S.length-1],n.constrainResolution?e=Hd(S,v,!x&&w,_):e=$s(t,i,v,!x&&w,_)}else{var I=T?Math.max(zt(T),ke(T)):360*Ke[un.DEGREES]/m.getMetersPerUnit(),k=I/Co/Math.pow(a,ka),F=k/Math.pow(a,r-ka);t=n.maxResolution,t!==void 0?s=0:t=k/Math.pow(l,s),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(l,h):i=k/Math.pow(l,h):i=F),h=s+Math.floor(Math.log(t/i)/Math.log(l)),i=t/Math.pow(l,h-s),n.constrainResolution?e=Bd(l,t,i,v,!x&&w,_):e=$s(t,i,v,!x&&w,_)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:s,zoomFactor:l}}function Qd(n){var e=n.enableRotation!==void 0?n.enableRotation:!0;if(e){var t=n.constrainRotation;return t===void 0||t===!0?Wd():t===!1?zs:typeof t=="number"?Xd(t):zs}else return Ro}function Jd(n){return!(n.sourceCenter&&n.targetCenter&&!zr(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function qa(n,e,t,i,r){var a=Math.cos(-r),s=Math.sin(-r),h=n[0]*a-n[1]*s,l=n[1]*a+n[0]*s;h+=(e[0]/2-t[0])*i,l+=(t[1]-e[1]/2)*i,s=-s;var c=h*a-l*s,v=l*a+h*s;return[c,v]}var hn=Kd,tp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();function nu(n){if(n instanceof To){n.setMapInternal(null);return}n instanceof ua&&n.getLayers().forEach(nu)}function iu(n,e){if(n instanceof To){n.setMapInternal(e);return}if(n instanceof ua)for(var t=n.getLayers().getArray(),i=0,r=t.length;i<r;++i)iu(t[i],e)}var ep=function(n){tp(e,n);function e(t){var i=n.call(this)||this;i.on,i.once,i.un;var r=np(t);i.renderComplete_,i.loaded_=!0,i.boundHandleBrowserEvent_=i.handleBrowserEvent.bind(i),i.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,i.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:xh,i.postRenderTimeoutHandle_,i.animationDelayKey_,i.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(i),i.coordinateToPixelTransform_=si(),i.pixelToCoordinateTransform_=si(),i.frameIndex_=0,i.frameState_=null,i.previousExtent_=null,i.viewPropertyListenerKey_=null,i.viewChangeListenerKey_=null,i.layerGroupPropertyListenerKeys_=null,i.viewport_=document.createElement("div"),i.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),i.viewport_.style.position="relative",i.viewport_.style.overflow="hidden",i.viewport_.style.width="100%",i.viewport_.style.height="100%",i.overlayContainer_=document.createElement("div"),i.overlayContainer_.style.position="absolute",i.overlayContainer_.style.zIndex="0",i.overlayContainer_.style.width="100%",i.overlayContainer_.style.height="100%",i.overlayContainer_.style.pointerEvents="none",i.overlayContainer_.className="ol-overlaycontainer",i.viewport_.appendChild(i.overlayContainer_),i.overlayContainerStopEvent_=document.createElement("div"),i.overlayContainerStopEvent_.style.position="absolute",i.overlayContainerStopEvent_.style.zIndex="0",i.overlayContainerStopEvent_.style.width="100%",i.overlayContainerStopEvent_.style.height="100%",i.overlayContainerStopEvent_.style.pointerEvents="none",i.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",i.viewport_.appendChild(i.overlayContainerStopEvent_),i.mapBrowserEventHandler_=null,i.moveTolerance_=t.moveTolerance,i.keyboardEventTarget_=r.keyboardEventTarget,i.targetChangeHandlerKeys_=null,i.controls=r.controls||new je,i.interactions=r.interactions||new je,i.overlays_=r.overlays,i.overlayIdIndex_={},i.renderer_=null,i.postRenderFunctions_=[],i.tileQueue_=new qd(i.getTilePriority.bind(i),i.handleTileChange_.bind(i)),i.addChangeListener(Dt.LAYERGROUP,i.handleLayerGroupChanged_),i.addChangeListener(Dt.VIEW,i.handleViewChanged_),i.addChangeListener(Dt.SIZE,i.handleSizeChanged_),i.addChangeListener(Dt.TARGET,i.handleTargetChanged_),i.setProperties(r.values);var a=i;return t.view&&!(t.view instanceof hn)&&t.view.then(function(s){a.setView(new hn(s))}),i.controls.addEventListener(Ae.ADD,function(s){s.element.setMap(this)}.bind(i)),i.controls.addEventListener(Ae.REMOVE,function(s){s.element.setMap(null)}.bind(i)),i.interactions.addEventListener(Ae.ADD,function(s){s.element.setMap(this)}.bind(i)),i.interactions.addEventListener(Ae.REMOVE,function(s){s.element.setMap(null)}.bind(i)),i.overlays_.addEventListener(Ae.ADD,function(s){this.addOverlayInternal_(s.element)}.bind(i)),i.overlays_.addEventListener(Ae.REMOVE,function(s){var h=s.element,l=h.getId();l!==void 0&&delete this.overlayIdIndex_[l.toString()],s.element.setMap(null)}.bind(i)),i.controls.forEach(function(s){s.setMap(this)}.bind(i)),i.interactions.forEach(function(s){s.setMap(this)}.bind(i)),i.overlays_.forEach(i.addOverlayInternal_.bind(i)),i}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var i=this.getLayerGroup().getLayers();i.push(t)},e.prototype.handleLayerAdd_=function(t){iu(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var i=t.getId();i!==void 0&&(this.overlayIdIndex_[i.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,i,r){if(!(!this.frameState_||!this.renderer_)){var a=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var s=r.hitTolerance!==void 0?r.hitTolerance:0,h=r.layerFilter!==void 0?r.layerFilter:Ui,l=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,s,l,i,null,h,null)}},e.prototype.getFeaturesAtPixel=function(t,i){var r=[];return this.forEachFeatureAtPixel(t,function(a){r.push(a)},i),r},e.prototype.getAllLayers=function(){var t=[];function i(r){r.forEach(function(a){a instanceof ua?i(a.getLayers()):t.push(a)})}return i(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,i,r){if(!(!this.frameState_||!this.renderer_)){var a=r||{},s=a.hitTolerance!==void 0?a.hitTolerance:0,h=a.layerFilter||Ui;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,i,h)}},e.prototype.hasFeatureAtPixel=function(t,i){if(!this.frameState_||!this.renderer_)return!1;var r=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var a=i.layerFilter!==void 0?i.layerFilter:Ui,s=i.hitTolerance!==void 0?i.hitTolerance:0,h=i.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,h,a,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var i=this.viewport_.getBoundingClientRect(),r="changedTouches"in t?t.changedTouches[0]:t;return[r.clientX-i.left,r.clientY-i.top]},e.prototype.getTarget=function(){return this.get(Dt.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return no(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var i=this.frameState_;return i?ce(i.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var i=this.overlayIdIndex_[t.toString()];return i!==void 0?i:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Dt.LAYERGROUP)},e.prototype.setLayers=function(t){var i=this.getLayerGroup();if(t instanceof je){i.setLayers(t);return}var r=i.getLayers();r.clear(),r.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),i=0,r=t.length;i<r;++i){var a=t[i];if(!!a.visible){var s=a.layer.getRenderer();if(s&&!s.ready)return!0;var h=a.layer.getSource();if(h&&h.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var i=on(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(i)},e.prototype.getPixelFromCoordinateInternal=function(t){var i=this.frameState_;return i?ce(i.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Dt.SIZE)},e.prototype.getView=function(){return this.get(Dt.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,i,r,a){return $d(this.frameState_,t,i,r,a)},e.prototype.handleBrowserEvent=function(t,i){var r=i||t.type,a=new _n(r,this,t);this.handleMapBrowserEvent(a)},e.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var i=t.originalEvent,r=i.type;if(r===Xe.POINTERDOWN||r===ut.WHEEL||r===ut.KEYDOWN){var a=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():a,h=i.target;if(this.overlayContainerStopEvent_.contains(h)||!(s===a?a.documentElement:s).contains(h))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var l=this.getInteractions().getArray().slice(),c=l.length-1;c>=0;c--){var v=l[c];if(!(v.getMap()!==this||!v.getActive()||!this.getTargetElement())){var _=v.handleEvent(t);if(!_||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,i=this.tileQueue_;if(!i.isEmpty()){var r=this.maxTilesLoading_,a=r;if(t){var s=t.viewHints;if(s[be.ANIMATING]||s[be.INTERACTING]){var h=Date.now()-t.time>8;r=h?0:8,a=h?0:2}}i.getTilesLoading()<r&&(i.reprioritize(),i.loadMoreTiles(r,a))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(Mn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Mn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Jn(Be.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Jn(Be.LOADSTART,this,t))));for(var l=this.postRenderFunctions_,c=0,v=l.length;c<v;++c)l[c](this,t);l.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,i=this.targetChangeHandlerKeys_.length;t<i;++t)At(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(ut.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ut.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Br(this.viewport_)}var r=this.getTargetElement();if(!r)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{r.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Dd(this,this.moveTolerance_);for(var a in bt)this.mapBrowserEventHandler_.addEventListener(bt[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(ut.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ut.WHEEL,this.boundHandleBrowserEvent_,Ch?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,h=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[ft(h,ut.KEYDOWN,this.handleBrowserEvent,this),ft(h,ut.KEYPRESS,this.handleBrowserEvent,this),ft(s,ut.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(At(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(At(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=ft(t,ci.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ft(t,ut.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(At),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new mn("addlayer",t)),this.layerGroupPropertyListenerKeys_=[ft(t,ci.PROPERTYCHANGE,this.render,this),ft(t,ut.CHANGE,this.render,this),ft(t,"addlayer",this.handleLayerAdd_,this),ft(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),i=0,r=t.length;i<r;++i){var a=t[i].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var i=this.getLayerGroup().getLayers();return i.remove(t)},e.prototype.handleLayerRemove_=function(t){nu(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var i=this,r=this.getSize(),a=this.getView(),s=this.frameState_,h=null;if(r!==void 0&&Ns(r)&&a&&a.isDef()){var l=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=a.getState();if(h={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Qa(c.center,c.resolution,c.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:c,viewHints:l,wantedTiles:{},mapId:de(this),renderTargets:{}},c.nextCenter&&c.nextResolution){var v=isNaN(c.nextRotation)?c.rotation:c.nextRotation;h.nextExtent=Qa(c.nextCenter,c.nextResolution,v,r)}}if(this.frameState_=h,this.renderer_.renderFrame(h),h){if(h.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,h.postRenderFunctions),s){var _=!this.previousExtent_||!go(this.previousExtent_)&&!$r(h.extent,this.previousExtent_);_&&(this.dispatchEvent(new Jn(Be.MOVESTART,this,s)),this.previousExtent_=aa(this.previousExtent_))}var m=this.previousExtent_&&!h.viewHints[be.ANIMATING]&&!h.viewHints[be.INTERACTING]&&!$r(h.extent,this.previousExtent_);m&&(this.dispatchEvent(new Jn(Be.MOVEEND,this,h)),pf(h.extent,this.previousExtent_))}this.dispatchEvent(new Jn(Be.POSTRENDER,this,h)),this.renderComplete_=this.hasListener(Be.LOADSTART)||this.hasListener(Be.LOADEND)||this.hasListener(Mn.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){i.postRenderTimeoutHandle_=void 0,i.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var i=this.getLayerGroup();i&&this.handleLayerRemove_(new mn("removelayer",i)),this.set(Dt.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Dt.SIZE,t)},e.prototype.setTarget=function(t){this.set(Dt.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof hn){this.set(Dt.VIEW,t);return}this.set(Dt.VIEW,new hn);var i=this;t.then(function(r){i.setView(new hn(r))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),i=void 0;if(t){var r=getComputedStyle(t),a=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(a)&&!isNaN(s)&&(i=[a,s],!Ns(i)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(i),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var i=void 0,r=getComputedStyle(this.viewport_);r.width&&r.height&&(i=[parseInt(r.width,10),parseInt(r.height,10)]),t.setViewportSize(i)}},e}(Ye);function np(n){var e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new ua({layers:n.layers});t[Dt.LAYERGROUP]=i,t[Dt.TARGET]=n.target,t[Dt.VIEW]=n.view instanceof hn?n.view:new hn;var r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new je(n.controls.slice()):(Tt(typeof n.controls.getArray=="function",47),r=n.controls));var a;n.interactions!==void 0&&(Array.isArray(n.interactions)?a=new je(n.interactions.slice()):(Tt(typeof n.interactions.getArray=="function",48),a=n.interactions));var s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new je(n.overlays.slice()):(Tt(typeof n.overlays.getArray=="function",49),s=n.overlays):s=new je,{controls:r,interactions:a,keyboardEventTarget:e,overlays:s,values:t}}var ru=ep,ip=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),rp=function(n){ip(e,n);function e(t){var i=n.call(this)||this,r=t.element;return r&&!t.target&&!r.style.pointerEvents&&(r.style.pointerEvents="auto"),i.element=r||null,i.target_=null,i.map_=null,i.listenerKeys=[],t.render&&(i.render=t.render),t.target&&i.setTarget(t.target),i}return e.prototype.disposeInternal=function(){Br(this.element),n.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Br(this.element);for(var i=0,r=this.listenerKeys.length;i<r;++i)At(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=t,t){var a=this.target_?this.target_:t.getOverlayContainerStopEvent();a.appendChild(this.element),this.render!==Xi&&this.listenerKeys.push(ft(t,Be.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(Ye),Un=rp,ap=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),op=function(n){ap(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this,i.ulElement_=document.createElement("ul"),i.collapsed_=r.collapsed!==void 0?r.collapsed:!0,i.userCollapsed_=i.collapsed_,i.overrideCollapsible_=r.collapsible!==void 0,i.collapsible_=r.collapsible!==void 0?r.collapsible:!0,i.collapsible_||(i.collapsed_=!1);var a=r.className!==void 0?r.className:"ol-attribution",s=r.tipLabel!==void 0?r.tipLabel:"Attributions",h=r.expandClassName!==void 0?r.expandClassName:a+"-expand",l=r.collapseLabel!==void 0?r.collapseLabel:"\u203A",c=r.collapseClassName!==void 0?r.collapseClassName:a+"-collapse";typeof l=="string"?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=l,i.collapseLabel_.className=c):i.collapseLabel_=l;var v=r.label!==void 0?r.label:"i";typeof v=="string"?(i.label_=document.createElement("span"),i.label_.textContent=v,i.label_.className=h):i.label_=v;var _=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_;i.toggleButton_=document.createElement("button"),i.toggleButton_.setAttribute("type","button"),i.toggleButton_.setAttribute("aria-expanded",String(!i.collapsed_)),i.toggleButton_.title=s,i.toggleButton_.appendChild(_),i.toggleButton_.addEventListener(ut.CLICK,i.handleClick_.bind(i),!1);var m=a+" "+Tn+" "+Mi+(i.collapsed_&&i.collapsible_?" "+Xr:"")+(i.collapsible_?"":" ol-uncollapsible"),T=i.element;return T.className=m,T.appendChild(i.toggleButton_),T.appendChild(i.ulElement_),i.renderedAttributions_=[],i.renderedVisible_=!0,i}return e.prototype.collectSourceAttributions_=function(t){for(var i={},r=[],a=!0,s=t.layerStatesArray,h=0,l=s.length;h<l;++h){var c=s[h];if(!!Wr(c,t.viewState)){var v=c.layer.getSource();if(!!v){var _=v.getAttributions();if(!!_){var m=_(t);if(!!m)if(a=a&&v.getAttributionsCollapsible()!==!1,Array.isArray(m))for(var T=0,x=m.length;T<x;++T)m[T]in i||(r.push(m[T]),i[m[T]]=!0);else m in i||(r.push(m),i[m]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(a),r},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var i=this.collectSourceAttributions_(t),r=i.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!po(i,this.renderedAttributions_)){Xh(this.ulElement_);for(var a=0,s=i.length;a<s;++a){var h=document.createElement("li");h.innerHTML=i[a],this.ulElement_.appendChild(h)}this.renderedAttributions_=i}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(Xr),this.collapsed_?vi(this.collapseLabel_,this.label_):vi(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Un),sp=op,hp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),up=function(n){hp(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var a=r.className!==void 0?r.className:"ol-rotate",s=r.label!==void 0?r.label:"\u21E7",h=r.compassClassName!==void 0?r.compassClassName:"ol-compass";i.label_=null,typeof s=="string"?(i.label_=document.createElement("span"),i.label_.className=h,i.label_.textContent=s):(i.label_=s,i.label_.classList.add(h));var l=r.tipLabel?r.tipLabel:"Reset rotation",c=document.createElement("button");c.className=a+"-reset",c.setAttribute("type","button"),c.title=l,c.appendChild(i.label_),c.addEventListener(ut.CLICK,i.handleClick_.bind(i),!1);var v=a+" "+Tn+" "+Mi,_=i.element;return _.className=v,_.appendChild(c),i.callResetNorth_=r.resetNorth?r.resetNorth:void 0,i.duration_=r.duration!==void 0?r.duration:250,i.autoHide_=r.autoHide!==void 0?r.autoHide:!0,i.rotation_=void 0,i.autoHide_&&i.element.classList.add(Pr),i}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),i=t.getView();if(!!i){var r=i.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?i.animate({rotation:0,duration:this.duration_,easing:zn}):i.setRotation(0))}},e.prototype.render=function(t){var i=t.frameState;if(!!i){var r=i.viewState.rotation;if(r!=this.rotation_){var a="rotate("+r+"rad)";if(this.autoHide_){var s=this.element.classList.contains(Pr);!s&&r===0?this.element.classList.add(Pr):s&&r!==0&&this.element.classList.remove(Pr)}this.label_.style.transform=a}this.rotation_=r}},e}(Un),lp=up,fp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),cp=function(n){fp(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{element:document.createElement("div"),target:r.target})||this;var a=r.className!==void 0?r.className:"ol-zoom",s=r.delta!==void 0?r.delta:1,h=r.zoomInClassName!==void 0?r.zoomInClassName:a+"-in",l=r.zoomOutClassName!==void 0?r.zoomOutClassName:a+"-out",c=r.zoomInLabel!==void 0?r.zoomInLabel:"+",v=r.zoomOutLabel!==void 0?r.zoomOutLabel:"\u2013",_=r.zoomInTipLabel!==void 0?r.zoomInTipLabel:"Zoom in",m=r.zoomOutTipLabel!==void 0?r.zoomOutTipLabel:"Zoom out",T=document.createElement("button");T.className=h,T.setAttribute("type","button"),T.title=_,T.appendChild(typeof c=="string"?document.createTextNode(c):c),T.addEventListener(ut.CLICK,i.handleClick_.bind(i,s),!1);var x=document.createElement("button");x.className=l,x.setAttribute("type","button"),x.title=m,x.appendChild(typeof v=="string"?document.createTextNode(v):v),x.addEventListener(ut.CLICK,i.handleClick_.bind(i,-s),!1);var w=a+" "+Tn+" "+Mi,S=i.element;return S.className=w,S.appendChild(T),S.appendChild(x),i.duration_=r.duration!==void 0?r.duration:250,i}return e.prototype.handleClick_=function(t,i){i.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var i=this.getMap(),r=i.getView();if(!!r){var a=r.getZoom();if(a!==void 0){var s=r.getConstrainedZoom(a+t);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:zn})):r.setZoom(s)}}},e}(Un),dp=cp,pp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Us=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],Hs={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},vp=function(n){pp(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{element:document.createElement("div"),target:r.target})||this,i.on,i.once,i.un,i.keys_=r.keys!==void 0?r.keys:!1,i.source_=r.source,i.isInFullscreen_=!1,i.boundHandleMapTargetChange_=i.handleMapTargetChange_.bind(i),i.cssClassName_=r.className!==void 0?r.className:"ol-full-screen",i.documentListeners_=[],i.activeClassName_=r.activeClassName!==void 0?r.activeClassName.split(" "):[i.cssClassName_+"-true"],i.inactiveClassName_=r.inactiveClassName!==void 0?r.inactiveClassName.split(" "):[i.cssClassName_+"-false"];var a=r.label!==void 0?r.label:"\u2922";i.labelNode_=typeof a=="string"?document.createTextNode(a):a;var s=r.labelActive!==void 0?r.labelActive:"\xD7";i.labelActiveNode_=typeof s=="string"?document.createTextNode(s):s;var h=r.tipLabel?r.tipLabel:"Toggle full-screen";return i.button_=document.createElement("button"),i.button_.title=h,i.button_.setAttribute("type","button"),i.button_.appendChild(i.labelNode_),i.button_.addEventListener(ut.CLICK,i.handleClick_.bind(i),!1),i.setClassName_(i.button_,i.isInFullscreen_),i.element.className="".concat(i.cssClassName_," ").concat(Tn," ").concat(Mi),i.element.appendChild(i.button_),i}return e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){var t=this.getMap();if(!!t){var i=t.getOwnerDocument();if(!!Bs(i))if(Xs(i))yp(i);else{var r=void 0;this.source_?r=typeof this.source_=="string"?i.getElementById(this.source_):this.source_:r=t.getTargetElement(),this.keys_?gp(r):au(r)}}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();if(!!t){var i=this.isInFullscreen_;this.isInFullscreen_=Xs(t.getOwnerDocument()),i!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(vi(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(Hs.ENTERFULLSCREEN)):(vi(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(Hs.LEAVEFULLSCREEN)),t.updateSize())}},e.prototype.setClassName_=function(t,i){var r,a,s,h;i?((r=t.classList).remove.apply(r,this.inactiveClassName_),(a=t.classList).add.apply(a,this.activeClassName_)):((s=t.classList).remove.apply(s,this.activeClassName_),(h=t.classList).add.apply(h,this.inactiveClassName_))},e.prototype.setMap=function(t){var i=this.getMap();i&&i.removeChangeListener(Dt.TARGET,this.boundHandleMapTargetChange_),n.prototype.setMap.call(this,t),this.handleMapTargetChange_(),t&&t.addChangeListener(Dt.TARGET,this.boundHandleMapTargetChange_)},e.prototype.handleMapTargetChange_=function(){for(var t=this.documentListeners_,i=0,r=t.length;i<r;++i)At(t[i]);t.length=0;var a=this.getMap();if(a){var s=a.getOwnerDocument();Bs(s)?this.element.classList.remove(js):this.element.classList.add(js);for(var i=0,r=Us.length;i<r;++i)t.push(ft(s,Us[i],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},e}(Un);function Bs(n){var e=n.body;return!!(e.webkitRequestFullscreen||e.msRequestFullscreen&&n.msFullscreenEnabled||e.requestFullscreen&&n.fullscreenEnabled)}function Xs(n){return!!(n.webkitIsFullScreen||n.msFullscreenElement||n.fullscreenElement)}function au(n){n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}function gp(n){n.webkitRequestFullscreen?n.webkitRequestFullscreen():au(n)}function yp(n){n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()}var _p=vp,mp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$a="projection",Ws="coordinateFormat",Mp=function(n){mp(e,n);function e(t){var i=this,r=t||{},a=document.createElement("div");a.className=r.className!==void 0?r.className:"ol-mouse-position",i=n.call(this,{element:a,render:r.render,target:r.target})||this,i.on,i.once,i.un,i.addChangeListener($a,i.handleProjectionChanged_),r.coordinateFormat&&i.setCoordinateFormat(r.coordinateFormat),r.projection&&i.setProjection(r.projection);var s=!0,h="&#160;";return"undefinedHTML"in r?(r.undefinedHTML!==void 0&&(h=r.undefinedHTML),s=!!h):"placeholder"in r&&(r.placeholder===!1?s=!1:h=String(r.placeholder)),i.placeholder_=h,i.renderOnMouseOut_=s,i.renderedHTML_=a.innerHTML,i.mapProjection_=null,i.transform_=null,i}return e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(Ws)},e.prototype.getProjection=function(){return this.get($a)},e.prototype.handleMouseMove=function(t){var i=this.getMap();this.updateHTML_(i.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(t){if(n.prototype.setMap.call(this,t),t){var i=t.getViewport();this.listenerKeys.push(ft(i,Xe.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(ft(i,Xe.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},e.prototype.setCoordinateFormat=function(t){this.set(Ws,t)},e.prototype.setProjection=function(t){this.set($a,Kt(t))},e.prototype.updateHTML_=function(t){var i=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();r?this.transform_=Zi(this.mapProjection_,r):this.transform_=Mo}var a=this.getMap(),s=a.getCoordinateFromPixelInternal(t);if(s){var h=Fh();h&&(this.transform_=Zi(this.mapProjection_,h)),this.transform_(s,s);var l=this.getCoordinateFormat();l?i=l(s):i=s.toString()}}(!this.renderedHTML_||i!==this.renderedHTML_)&&(this.element.innerHTML=i,this.renderedHTML_=i)},e.prototype.render=function(t){var i=t.frameState;i?this.mapProjection_!=i.viewState.projection&&(this.mapProjection_=i.viewState.projection,this.transform_=null):this.mapProjection_=null},e}(Un),Ep=Mp,le={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},xp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),te={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Tp=function(n){xp(e,n);function e(t){var i=n.call(this)||this;i.on,i.once,i.un,i.options=t,i.id=t.id,i.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,i.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,i.element=document.createElement("div"),i.element.className=t.className!==void 0?t.className:"ol-overlay-container "+zc,i.element.style.position="absolute",i.element.style.pointerEvents="auto";var r=t.autoPan;return r&&typeof r!="object"&&(r={animation:t.autoPanAnimation,margin:t.autoPanMargin}),i.autoPan=r||!1,i.rendered={transform_:"",visible:!0},i.mapPostrenderListenerKey=null,i.addChangeListener(te.ELEMENT,i.handleElementChanged),i.addChangeListener(te.MAP,i.handleMapChanged),i.addChangeListener(te.OFFSET,i.handleOffsetChanged),i.addChangeListener(te.POSITION,i.handlePositionChanged),i.addChangeListener(te.POSITIONING,i.handlePositioningChanged),t.element!==void 0&&i.setElement(t.element),i.setOffset(t.offset!==void 0?t.offset:[0,0]),i.setPositioning(t.positioning!==void 0?t.positioning:le.TOP_LEFT),t.position!==void 0&&i.setPosition(t.position),i}return e.prototype.getElement=function(){return this.get(te.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(te.MAP)||null},e.prototype.getOffset=function(){return this.get(te.OFFSET)},e.prototype.getPosition=function(){return this.get(te.POSITION)},e.prototype.getPositioning=function(){return this.get(te.POSITIONING)},e.prototype.handleElementChanged=function(){Xh(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Br(this.element),At(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=ft(t,Be.POSTRENDER,this.render,this),this.updatePixelPosition();var i=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?i.insertBefore(this.element,i.childNodes[0]||null):i.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(te.ELEMENT,t)},e.prototype.setMap=function(t){this.set(te.MAP,t)},e.prototype.setOffset=function(t){this.set(te.OFFSET,t)},e.prototype.setPosition=function(t){this.set(te.POSITION,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var i=this.getMap();if(!(!i||!i.getTargetElement()||!this.get(te.POSITION))){var r=this.getRect(i.getTargetElement(),i.getSize()),a=this.getElement(),s=this.getRect(a,[kc(a),qc(a)]),h=t||{},l=h.margin===void 0?20:h.margin;if(!vo(r,s)){var c=s[0]-r[0],v=r[2]-s[2],_=s[1]-r[1],m=r[3]-s[3],T=[0,0];if(c<0?T[0]=c-l:v<0&&(T[0]=Math.abs(v)+l),_<0?T[1]=_-l:m<0&&(T[1]=Math.abs(m)+l),T[0]!==0||T[1]!==0){var x=i.getView().getCenterInternal(),w=i.getPixelFromCoordinateInternal(x);if(!w)return;var S=[w[0]+T[0],w[1]+T[1]],I=h.animation||{};i.getView().animateInternal({center:i.getCoordinateFromPixelInternal(S),duration:I.duration,easing:I.easing})}}}},e.prototype.getRect=function(t,i){var r=t.getBoundingClientRect(),a=r.left+window.pageXOffset,s=r.top+window.pageYOffset;return[a,s,a+i[0],s+i[1]]},e.prototype.setPositioning=function(t){this.set(te.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),i=this.getPosition();if(!t||!t.isRendered()||!i){this.setVisible(!1);return}var r=t.getPixelFromCoordinate(i),a=t.getSize();this.updateRenderedPosition(r,a)},e.prototype.updateRenderedPosition=function(t,i){var r=this.element.style,a=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var h=Math.round(t[0]+a[0])+"px",l=Math.round(t[1]+a[1])+"px",c="0%",v="0%";s==le.BOTTOM_RIGHT||s==le.CENTER_RIGHT||s==le.TOP_RIGHT?c="-100%":(s==le.BOTTOM_CENTER||s==le.CENTER_CENTER||s==le.TOP_CENTER)&&(c="-50%"),s==le.BOTTOM_LEFT||s==le.BOTTOM_CENTER||s==le.BOTTOM_RIGHT?v="-100%":(s==le.CENTER_LEFT||s==le.CENTER_CENTER||s==le.CENTER_RIGHT)&&(v="-50%");var _="translate(".concat(c,", ").concat(v,") translate(").concat(h,", ").concat(l,")");this.rendered.transform_!=_&&(this.rendered.transform_=_,r.transform=_,r.msTransform=_)},e.prototype.getOptions=function(){return this.options},e}(Ye),Cp=Tp,ou=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),za=.75,Sr=.1,wp=function(n){ou(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createRenderer=function(){return new tu(this)},e}(ru),Op=function(n){ou(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this,i.boundHandleRotationChanged_=i.handleRotationChanged_.bind(i),i.collapsed_=r.collapsed!==void 0?r.collapsed:!0,i.collapsible_=r.collapsible!==void 0?r.collapsible:!0,i.collapsible_||(i.collapsed_=!1),i.rotateWithView_=r.rotateWithView!==void 0?r.rotateWithView:!1,i.viewExtent_=void 0;var a=r.className!==void 0?r.className:"ol-overviewmap",s=r.tipLabel!==void 0?r.tipLabel:"Overview map",h=r.collapseLabel!==void 0?r.collapseLabel:"\u2039";typeof h=="string"?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=h):i.collapseLabel_=h;var l=r.label!==void 0?r.label:"\u203A";typeof l=="string"?(i.label_=document.createElement("span"),i.label_.textContent=l):i.label_=l;var c=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_,v=document.createElement("button");v.setAttribute("type","button"),v.title=s,v.appendChild(c),v.addEventListener(ut.CLICK,i.handleClick_.bind(i),!1),i.ovmapDiv_=document.createElement("div"),i.ovmapDiv_.className="ol-overviewmap-map",i.view_=r.view,i.ovmap_=new wp({view:r.view});var _=i.ovmap_;r.layers&&r.layers.forEach(function(H){_.addLayer(H)});var m=document.createElement("div");m.className="ol-overviewmap-box",m.style.boxSizing="border-box",i.boxOverlay_=new Cp({position:[0,0],positioning:le.CENTER_CENTER,element:m}),i.ovmap_.addOverlay(i.boxOverlay_);var T=a+" "+Tn+" "+Mi+(i.collapsed_&&i.collapsible_?" "+Xr:"")+(i.collapsible_?"":" ol-uncollapsible"),x=i.element;x.className=T,x.appendChild(i.ovmapDiv_),x.appendChild(v);var w=i,S=i.boxOverlay_,I=i.boxOverlay_.getElement(),k=function(H){return{clientX:H.clientX,clientY:H.clientY}},F=function(H){var p=k(H),Z=_.getEventCoordinateInternal(p);S.setPosition(Z)},j=function(H){var p=_.getEventCoordinateInternal(H);w.getMap().getView().setCenterInternal(p),window.removeEventListener("mousemove",F),window.removeEventListener("mouseup",j)};return I.addEventListener("mousedown",function(){window.addEventListener("mousemove",F),window.addEventListener("mouseup",j)}),i}return e.prototype.setMap=function(t){var i=this.getMap();if(t!==i){if(i){var r=i.getView();r&&this.unbindView_(r),this.ovmap_.setTarget(null)}if(n.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(ft(t,ci.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var a=t.getView();a&&(this.bindView_(a),a.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===Dt.VIEW){var i=t.oldValue;i&&this.unbindView_(i);var r=this.getMap().getView();this.bindView_(r)}else!this.ovmap_.isRendered()&&(t.key===Dt.TARGET||t.key===Dt.SIZE)&&this.ovmap_.updateSize()},e.prototype.bindView_=function(t){if(!this.view_){var i=new hn({projection:t.getProjection()});this.ovmap_.setView(i)}t.addChangeListener(xe.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()},e.prototype.unbindView_=function(t){t.removeChangeListener(xe.ROTATION,this.boundHandleRotationChanged_)},e.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),i=this.ovmap_;if(!(!t.isRendered()||!i.isRendered())){var r=t.getSize(),a=t.getView(),s=a.calculateExtentInternal(r);if(!(this.viewExtent_&&$r(s,this.viewExtent_))){this.viewExtent_=s;var h=i.getSize(),l=i.getView(),c=l.calculateExtentInternal(h),v=i.getPixelFromCoordinateInternal(Rn(s)),_=i.getPixelFromCoordinateInternal(er(s)),m=Math.abs(v[0]-_[0]),T=Math.abs(v[1]-_[1]),x=h[0],w=h[1];m<x*Sr||T<w*Sr||m>x*za||T>w*za?this.resetExtent_():vo(c,s)||this.recenter_()}}},e.prototype.resetExtent_=function(){var t=this.getMap(),i=this.ovmap_,r=t.getSize(),a=t.getView(),s=a.calculateExtentInternal(r),h=i.getView(),l=Math.log(za/Sr)/Math.LN2,c=1/(Math.pow(2,l/2)*Sr);Ef(s,c),h.fitInternal(io(s))},e.prototype.recenter_=function(){var t=this.getMap(),i=this.ovmap_,r=t.getView(),a=i.getView();a.setCenterInternal(r.getCenterInternal())},e.prototype.updateBox_=function(){var t=this.getMap(),i=this.ovmap_;if(!(!t.isRendered()||!i.isRendered())){var r=t.getSize(),a=t.getView(),s=i.getView(),h=this.rotateWithView_?0:-a.getRotation(),l=this.boxOverlay_,c=this.boxOverlay_.getElement(),v=a.getCenterInternal(),_=a.getResolution(),m=s.getResolution(),T=r[0]*_/m,x=r[1]*_/m;if(l.setPosition(v),c){c.style.width=T+"px",c.style.height=x+"px";var w="rotate("+h+"rad)";c.style.transform=w}}},e.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Wi(this.ovmap_,Be.POSTRENDER,function(t){delete this.ovmapPostrenderKey_,this.updateBox_()},this))},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(Xr),this.collapsed_?vi(this.collapseLabel_,this.label_):vi(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered()){this.viewExtent_=void 0,t.render();return}t.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){!this.collapsible_||this.collapsed_===t||this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,this.getMap().getView().getRotation()!==0&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},e.prototype.getOverviewMap=function(){return this.ovmap_},e.prototype.render=function(t){this.validateExtent_(),this.updateBox_()},e}(Un),Rp=Op,Pp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fi={VERTICAL:0,HORIZONTAL:1},bp=function(n){Pp(e,n);function e(t){var i=this,r=t||{};i=n.call(this,{element:document.createElement("div"),render:r.render})||this,i.dragListenerKeys_=[],i.currentResolution_=void 0,i.direction_=Fi.VERTICAL,i.dragging_,i.heightLimit_=0,i.widthLimit_=0,i.startX_,i.startY_,i.thumbSize_=null,i.sliderInitialized_=!1,i.duration_=r.duration!==void 0?r.duration:200;var a=r.className!==void 0?r.className:"ol-zoomslider",s=document.createElement("button");s.setAttribute("type","button"),s.className=a+"-thumb "+Tn;var h=i.element;return h.className=a+" "+Tn+" "+Mi,h.appendChild(s),h.addEventListener(Xe.POINTERDOWN,i.handleDraggerStart_.bind(i),!1),h.addEventListener(Xe.POINTERMOVE,i.handleDraggerDrag_.bind(i),!1),h.addEventListener(Xe.POINTERUP,i.handleDraggerEnd_.bind(i),!1),h.addEventListener(ut.CLICK,i.handleContainerClick_.bind(i),!1),s.addEventListener(ut.CLICK,Wl,!1),i}return e.prototype.setMap=function(t){n.prototype.setMap.call(this,t),t&&t.render()},e.prototype.initSlider_=function(){var t=this.element,i=t.offsetWidth,r=t.offsetHeight;if(i===0&&r===0)return this.sliderInitialized_=!1;var a=getComputedStyle(t);i-=parseFloat(a.paddingRight)+parseFloat(a.paddingLeft),r-=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom);var s=t.firstElementChild,h=getComputedStyle(s),l=s.offsetWidth+parseFloat(h.marginRight)+parseFloat(h.marginLeft),c=s.offsetHeight+parseFloat(h.marginTop)+parseFloat(h.marginBottom);return this.thumbSize_=[l,c],i>r?(this.direction_=Fi.HORIZONTAL,this.widthLimit_=i-l):(this.direction_=Fi.VERTICAL,this.heightLimit_=r-c),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var i=this.getMap().getView(),r=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),a=this.getResolutionForPosition_(r),s=i.getConstrainedZoom(i.getZoomForResolution(a));i.animateInternal({zoom:s,duration:this.duration_,easing:zn})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var i=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(i.style.left),this.startY_=t.clientY-parseFloat(i.style.top),this.dragging_=!0,this.dragListenerKeys_.length===0){var r=this.handleDraggerDrag_,a=this.handleDraggerEnd_,s=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(ft(s,Xe.POINTERMOVE,r,this),ft(s,Xe.POINTERUP,a,this))}}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var i=t.clientX-this.startX_,r=t.clientY-this.startY_,a=this.getRelativePosition_(i,r);this.currentResolution_=this.getResolutionForPosition_(a),this.getMap().getView().setResolution(this.currentResolution_)}},e.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var i=this.getMap().getView();i.endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(At),this.dragListenerKeys_.length=0}},e.prototype.setThumbPosition_=function(t){var i=this.getPositionForResolution_(t),r=this.element.firstElementChild;this.direction_==Fi.HORIZONTAL?r.style.left=this.widthLimit_*i+"px":r.style.top=this.heightLimit_*i+"px"},e.prototype.getRelativePosition_=function(t,i){var r;return this.direction_===Fi.HORIZONTAL?r=t/this.widthLimit_:r=i/this.heightLimit_,Nt(r,0,1)},e.prototype.getResolutionForPosition_=function(t){var i=this.getMap().getView().getResolutionForValueFunction();return i(1-t)},e.prototype.getPositionForResolution_=function(t){var i=this.getMap().getView().getValueForResolutionFunction();return Nt(1-i(t),0,1)},e.prototype.render=function(t){if(!!t.frameState&&!(!this.sliderInitialized_&&!this.initSlider_())){var i=t.frameState.viewState.resolution;this.currentResolution_=i,this.setThumbPosition_(i)}},e}(Un),Sp=bp;function Ap(n){var e=n||{},t=new je,i=e.zoom!==void 0?e.zoom:!0;i&&t.push(new dp(e.zoomOptions));var r=e.rotate!==void 0?e.rotate:!0;r&&t.push(new lp(e.rotateOptions));var a=e.attribution!==void 0?e.attribution:!0;return a&&t.push(new sp(e.attributionOptions)),t}var Vs={ACTIVE:"active"},Ip=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lp=function(n){Ip(e,n);function e(t){var i=n.call(this)||this;return i.on,i.once,i.un,t&&t.handleEvent&&(i.handleEvent=t.handleEvent),i.map_=null,i.setActive(!0),i}return e.prototype.getActive=function(){return this.get(Vs.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(Vs.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(Ye);function Np(n,e,t){var i=n.getCenterInternal();if(i){var r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:pd,center:n.getConstrainedCenter(r)})}}function Po(n,e,t,i){var r=n.getZoom();if(r!==void 0){var a=n.getConstrainedZoom(r+e),s=n.getResolutionForZoom(a);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:i!==void 0?i:250,easing:zn})}}var ir=Lp,Dp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fp=function(n){Dp(e,n);function e(t){var i=n.call(this)||this,r=t||{};return i.delta_=r.delta?r.delta:1,i.duration_=r.duration!==void 0?r.duration:250,i}return e.prototype.handleEvent=function(t){var i=!1;if(t.type==bt.DBLCLICK){var r=t.originalEvent,a=t.map,s=t.coordinate,h=r.shiftKey?-this.delta_:this.delta_,l=a.getView();Po(l,h,s,this.duration_),r.preventDefault(),i=!0}return!i},e}(ir),jp=Fp,Gp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),kp=function(n){Gp(e,n);function e(t){var i=this,r=t||{};return i=n.call(this,r)||this,r.handleDownEvent&&(i.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(i.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(i.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(i.handleUpEvent=r.handleUpEvent),r.stopDown&&(i.stopDown=r.stopDown),i.handlingDownUpSequence=!1,i.trackedPointers_={},i.targetPointers=[],i}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var i=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==bt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==bt.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==bt.POINTERDOWN){var a=this.handleDownEvent(t);this.handlingDownUpSequence=a,i=this.stopDown(a)}else t.type==bt.POINTERMOVE&&this.handleMoveEvent(t);return!i},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(qp(t)){var i=t.originalEvent,r=i.pointerId.toString();t.type==bt.POINTERUP?delete this.trackedPointers_[r]:t.type==bt.POINTERDOWN?this.trackedPointers_[r]=i:r in this.trackedPointers_&&(this.trackedPointers_[r]=i),this.targetPointers=Ql(this.trackedPointers_)}},e}(ir);function bo(n){for(var e=n.length,t=0,i=0,r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return[t/e,i/e]}function qp(n){var e=n.type;return e===bt.POINTERDOWN||e===bt.POINTERDRAG||e===bt.POINTERUP}var rr=kp;function ro(n){var e=arguments;return function(t){for(var i=!0,r=0,a=e.length;r<a&&(i=i&&e[r](t),!!i);++r);return i}}var $p=function(n){var e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},zp=function(n){var e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},su=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?zp(n):!0},Up=Ui,hu=function(n){var e=n.originalEvent;return e.button==0&&!(uf&&lf&&e.ctrlKey)},uu=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Hp=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},lu=function(n){var e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},Ua=function(n){var e=n.originalEvent;return Tt(e!==void 0,56),e.pointerType=="mouse"},Bp=function(n){var e=n.originalEvent;return Tt(e!==void 0,56),e.isPrimary&&e.button===0},Xp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wp=function(n){Xp(e,n);function e(t){var i=n.call(this,{stopDown:ta})||this,r=t||{};i.kinetic_=r.kinetic,i.lastCentroid=null,i.lastPointersCount_,i.panning_=!1;var a=r.condition?r.condition:ro(uu,Bp);return i.condition_=r.onFocusOnly?ro(su,a):a,i.noKinetic_=!1,i}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var i=this.targetPointers,r=bo(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var a=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],s=t.map,h=s.getView();zf(a,h.getResolution()),_o(a,h.getRotation()),h.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var i=t.map,r=i.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),h=r.getCenterInternal(),l=i.getPixelFromCoordinateInternal(h),c=i.getCoordinateFromPixelInternal([l[0]-a*Math.cos(s),l[1]-a*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(c),duration:500,easing:zn})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var i=t.map,r=i.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(rr),Vp=Wp,Kp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zp=function(n){Kp(e,n);function e(t){var i=this,r=t||{};return i=n.call(this,{stopDown:ta})||this,i.condition_=r.condition?r.condition:$p,i.lastAngle_=void 0,i.duration_=r.duration!==void 0?r.duration:250,i}return e.prototype.handleDragEvent=function(t){if(!!Ua(t)){var i=t.map,r=i.getView();if(r.getConstraints().rotation!==Ro){var a=i.getSize(),s=t.pixel,h=Math.atan2(a[1]/2-s[1],s[0]-a[0]/2);if(this.lastAngle_!==void 0){var l=h-this.lastAngle_;r.adjustRotationInternal(-l)}this.lastAngle_=h}}},e.prototype.handleUpEvent=function(t){if(!Ua(t))return!0;var i=t.map,r=i.getView();return r.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Ua(t))return!1;if(hu(t)&&this.condition_(t)){var i=t.map;return i.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(rr),Yp=Zp,Qp=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Jp=function(n){Qp(e,n);function e(t){var i=n.call(this)||this;return i.geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.style.pointerEvents="auto",i.element_.className="ol-box "+t,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,i=this.endPixel_,r="px",a=this.element_.style;a.left=Math.min(t[0],i[0])+r,a.top=Math.min(t[1],i[1])+r,a.width=Math.abs(i[0]-t[0])+r,a.height=Math.abs(i[1]-t[1])+r},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var i=this.element_.style;i.left="inherit",i.top="inherit",i.width="inherit",i.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,i){this.startPixel_=t,this.endPixel_=i,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,i=this.endPixel_,r=[t,[t[0],i[1]],i,[i[0],t[1]]],a=r.map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new Bh([a])},e.prototype.getGeometry=function(){return this.geometry_},e}(lo),tv=Jp,fu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ar={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Ha=function(n){fu(e,n);function e(t,i,r){var a=n.call(this,t)||this;return a.coordinate=i,a.mapBrowserEvent=r,a}return e}(On),ev=function(n){fu(e,n);function e(t){var i=n.call(this)||this;i.on,i.once,i.un;var r=t||{};return i.box_=new tv(r.className||"ol-dragbox"),i.minArea_=r.minArea!==void 0?r.minArea:64,r.onBoxEnd&&(i.onBoxEnd=r.onBoxEnd),i.startPixel_=null,i.condition_=r.condition?r.condition:hu,i.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:i.defaultBoxEndCondition,i}return e.prototype.defaultBoxEndCondition=function(t,i,r){var a=r[0]-i[0],s=r[1]-i[1];return a*a+s*s>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Ha(Ar.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var i=this.boxEndCondition_(t,this.startPixel_,t.pixel);return i&&this.onBoxEnd(t),this.dispatchEvent(new Ha(i?Ar.BOXEND:Ar.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ha(Ar.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(rr),nv=ev,iv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),rv=function(n){iv(e,n);function e(t){var i=this,r=t||{},a=r.condition?r.condition:Hp;return i=n.call(this,{condition:a,className:r.className||"ol-dragzoom",minArea:r.minArea})||this,i.duration_=r.duration!==void 0?r.duration:200,i.out_=r.out!==void 0?r.out:!1,i}return e.prototype.onBoxEnd=function(t){var i=this.getMap(),r=i.getView(),a=this.getGeometry();if(this.out_){var s=r.rotatedExtentForGeometry(a),h=r.getResolutionForExtentInternal(s),l=r.getResolution()/h;a=a.clone(),a.scale(l*l)}r.fitInternal(a,{duration:this.duration_,easing:zn})},e}(nv),av=rv,jn={LEFT:37,UP:38,RIGHT:39,DOWN:40},ov=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sv=function(n){ov(e,n);function e(t){var i=n.call(this)||this,r=t||{};return i.defaultCondition_=function(a){return uu(a)&&lu(a)},i.condition_=r.condition!==void 0?r.condition:i.defaultCondition_,i.duration_=r.duration!==void 0?r.duration:100,i.pixelDelta_=r.pixelDelta!==void 0?r.pixelDelta:128,i}return e.prototype.handleEvent=function(t){var i=!1;if(t.type==ut.KEYDOWN){var r=t.originalEvent,a=r.keyCode;if(this.condition_(t)&&(a==jn.DOWN||a==jn.LEFT||a==jn.RIGHT||a==jn.UP)){var s=t.map,h=s.getView(),l=h.getResolution()*this.pixelDelta_,c=0,v=0;a==jn.DOWN?v=-l:a==jn.LEFT?c=-l:a==jn.RIGHT?c=l:v=l;var _=[c,v];_o(_,h.getRotation()),Np(h,_,this.duration_),r.preventDefault(),i=!0}}return!i},e}(ir),hv=sv,uv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),lv=function(n){uv(e,n);function e(t){var i=n.call(this)||this,r=t||{};return i.condition_=r.condition?r.condition:lu,i.delta_=r.delta?r.delta:1,i.duration_=r.duration!==void 0?r.duration:100,i}return e.prototype.handleEvent=function(t){var i=!1;if(t.type==ut.KEYDOWN||t.type==ut.KEYPRESS){var r=t.originalEvent,a=r.charCode;if(this.condition_(t)&&(a=="+".charCodeAt(0)||a=="-".charCodeAt(0))){var s=t.map,h=a=="+".charCodeAt(0)?this.delta_:-this.delta_,l=s.getView();Po(l,h,void 0,this.duration_),r.preventDefault(),i=!0}}return!i},e}(ir),fv=lv,cv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ba={TRACKPAD:"trackpad",WHEEL:"wheel"},dv=function(n){cv(e,n);function e(t){var i=this,r=t||{};i=n.call(this,r)||this,i.totalDelta_=0,i.lastDelta_=0,i.maxDelta_=r.maxDelta!==void 0?r.maxDelta:1,i.duration_=r.duration!==void 0?r.duration:250,i.timeout_=r.timeout!==void 0?r.timeout:80,i.useAnchor_=r.useAnchor!==void 0?r.useAnchor:!0,i.constrainResolution_=r.constrainResolution!==void 0?r.constrainResolution:!1;var a=r.condition?r.condition:Up;return i.condition_=r.onFocusOnly?ro(su,a):a,i.lastAnchor_=null,i.startTime_=void 0,i.timeoutId_,i.mode_=void 0,i.trackpadEventGap_=400,i.trackpadTimeoutId_,i.deltaPerZoom_=300,i}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var i=t.type;if(i!==ut.WHEEL)return!0;var r=t.map,a=t.originalEvent;a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==ut.WHEEL&&(s=a.deltaY,sf&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=xh),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var h=Date.now();this.startTime_===void 0&&(this.startTime_=h),(!this.mode_||h-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?Ba.TRACKPAD:Ba.WHEEL);var l=r.getView();if(this.mode_===Ba.TRACKPAD&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=h,!1;this.totalDelta_+=s;var c=Math.max(this.timeout_-(h-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),c),!1},e.prototype.handleWheelZoom_=function(t){var i=t.getView();i.getAnimating()&&i.cancelAnimations();var r=-Nt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(i.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),Po(i,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(ir),pv=dv,vv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gv=function(n){vv(e,n);function e(t){var i=this,r=t||{},a=r;return a.stopDown||(a.stopDown=ta),i=n.call(this,a)||this,i.anchor_=null,i.lastAngle_=void 0,i.rotating_=!1,i.rotationDelta_=0,i.threshold_=r.threshold!==void 0?r.threshold:.3,i.duration_=r.duration!==void 0?r.duration:250,i}return e.prototype.handleDragEvent=function(t){var i=0,r=this.targetPointers[0],a=this.targetPointers[1],s=Math.atan2(a.clientY-r.clientY,a.clientX-r.clientX);if(this.lastAngle_!==void 0){var h=s-this.lastAngle_;this.rotationDelta_+=h,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),i=h}this.lastAngle_=s;var l=t.map,c=l.getView();if(c.getConstraints().rotation!==Ro){var v=l.getViewport().getBoundingClientRect(),_=bo(this.targetPointers);_[0]-=v.left,_[1]-=v.top,this.anchor_=l.getCoordinateFromPixelInternal(_),this.rotating_&&(l.render(),c.adjustRotationInternal(i,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var i=t.map,r=i.getView();return r.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var i=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}else return!1},e}(rr),yv=gv,_v=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),mv=function(n){_v(e,n);function e(t){var i=this,r=t||{},a=r;return a.stopDown||(a.stopDown=ta),i=n.call(this,a)||this,i.anchor_=null,i.duration_=r.duration!==void 0?r.duration:400,i.lastDistance_=void 0,i.lastScaleDelta_=1,i}return e.prototype.handleDragEvent=function(t){var i=1,r=this.targetPointers[0],a=this.targetPointers[1],s=r.clientX-a.clientX,h=r.clientY-a.clientY,l=Math.sqrt(s*s+h*h);this.lastDistance_!==void 0&&(i=this.lastDistance_/l),this.lastDistance_=l;var c=t.map,v=c.getView();i!=1&&(this.lastScaleDelta_=i);var _=c.getViewport().getBoundingClientRect(),m=bo(this.targetPointers);m[0]-=_.left,m[1]-=_.top,this.anchor_=c.getCoordinateFromPixelInternal(m),c.render(),v.adjustResolutionInternal(i,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var i=t.map,r=i.getView(),a=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,a),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var i=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}else return!1},e}(rr),Mv=mv;function Ev(n){var e=n||{},t=new je,i=new Ed(-.005,.05,100),r=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;r&&t.push(new Yp);var a=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;a&&t.push(new jp({delta:e.zoomDelta,duration:e.zoomDuration}));var s=e.dragPan!==void 0?e.dragPan:!0;s&&t.push(new Vp({onFocusOnly:e.onFocusOnly,kinetic:i}));var h=e.pinchRotate!==void 0?e.pinchRotate:!0;h&&t.push(new yv);var l=e.pinchZoom!==void 0?e.pinchZoom:!0;l&&t.push(new Mv({duration:e.zoomDuration}));var c=e.keyboard!==void 0?e.keyboard:!0;c&&(t.push(new hv),t.push(new fv({delta:e.zoomDelta,duration:e.zoomDuration})));var v=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;v&&t.push(new pv({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var _=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return _&&t.push(new av({duration:e.zoomDuration})),t}var xv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tv=function(n){xv(e,n);function e(t){return t=Vt({},t),t.controls||(t.controls=Ap()),t.interactions||(t.interactions=Ev({onFocusOnly:!0})),n.call(this,t)||this}return e.prototype.createRenderer=function(){return new tu(this)},e}(ru),Cv=Tv,wv=function(){function n(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(e,t){var i=this.entries_[e];return Tt(i!==void 0,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},n.prototype.remove=function(e){var t=this.entries_[e];return Tt(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e},n.prototype.getValues=function(){var e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(e,t){Tt(!(e in this.entries_),16);var i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_},n.prototype.setSize=function(e){this.highWaterMark=e},n}(),Ov=wv;function Ks(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function la(n,e,t){return n+"/"+e+"/"+t}function cu(n){return la(n[0],n[1],n[2])}function Rv(n){return n.split("/").map(Number)}function Pv(n){return(n[1]<<n[0])+n[2]}function bv(n,e){var t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var a=e.getFullTileRange(t);return a?a.containsXY(i,r):!0}var Sv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Av=function(n){Sv(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var i=this.peekLast();if(i.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),i=Rv(t),r=i[0];this.forEach(function(a){a.tileCoord[0]!==r&&(this.remove(cu(a.tileCoord)),a.release())}.bind(this))}},e}(Ov),du=Av,pu=function(){function n(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}return n.prototype.contains=function(e){return this.containsXY(e[1],e[2])},n.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},n.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},n.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},n}();function Yn(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new pu(n,e,t,i)}var vu=pu,Ir={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},Iv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lv=function(n){Iv(e,n);function e(t){var i=this,r=t||{},a=Vt({},r);return delete a.preload,delete a.useInterimTilesOnError,i=n.call(this,a)||this,i.on,i.once,i.un,i.setPreload(r.preload!==void 0?r.preload:0),i.setUseInterimTilesOnError(r.useInterimTilesOnError!==void 0?r.useInterimTilesOnError:!0),i}return e.prototype.getPreload=function(){return this.get(Ir.PRELOAD)},e.prototype.setPreload=function(t){this.set(Ir.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Ir.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Ir.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return n.prototype.getData.call(this,t)},e}(To),Nv=Lv,Dv=.5,rn=!0,Fv=10,Zs=.25,jv=function(){function n(e,t,i,r,a,s){this.sourceProj_=e,this.targetProj_=t;var h={},l=Ur(this.targetProj_,this.sourceProj_);this.transformInv_=function(F){var j=F[0]+"/"+F[1];return h[j]||(h[j]=l(F)),h[j]},this.maxSourceExtent_=r,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&zt(r)==zt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?zt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?zt(this.targetProj_.getExtent()):null;var c=Rn(i),v=sa(i),_=er(i),m=oa(i),T=this.transformInv_(c),x=this.transformInv_(v),w=this.transformInv_(_),S=this.transformInv_(m),I=Fv+(s?Math.max(0,Math.ceil(wf(Ya(i)/(s*s*256*256)))):0);if(this.addQuad_(c,v,_,m,T,x,w,S,I),this.wrapsXInSource_){var k=1/0;this.triangles_.forEach(function(F,j,H){k=Math.min(k,F.source[0][0],F.source[1][0],F.source[2][0])}),this.triangles_.forEach(function(F){if(Math.max(F.source[0][0],F.source[1][0],F.source[2][0])-k>this.sourceWorldWidth_/2){var j=[[F.source[0][0],F.source[0][1]],[F.source[1][0],F.source[1][1]],[F.source[2][0],F.source[2][1]]];j[0][0]-k>this.sourceWorldWidth_/2&&(j[0][0]-=this.sourceWorldWidth_),j[1][0]-k>this.sourceWorldWidth_/2&&(j[1][0]-=this.sourceWorldWidth_),j[2][0]-k>this.sourceWorldWidth_/2&&(j[2][0]-=this.sourceWorldWidth_);var H=Math.min(j[0][0],j[1][0],j[2][0]),p=Math.max(j[0][0],j[1][0],j[2][0]);p-H<this.sourceWorldWidth_/2&&(F.source=j)}}.bind(this))}h={}}return n.prototype.addTriangle_=function(e,t,i,r,a,s){this.triangles_.push({source:[r,a,s],target:[e,t,i]})},n.prototype.addQuad_=function(e,t,i,r,a,s,h,l,c){var v=Ms([a,s,h,l]),_=this.sourceWorldWidth_?zt(v)/this.sourceWorldWidth_:null,m=this.sourceWorldWidth_,T=this.sourceProj_.canWrapX()&&_>.5&&_<1,x=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var w=Ms([e,t,i,r]),S=zt(w)/this.targetWorldWidth_;x=S>Zs||x}!T&&this.sourceProj_.isGlobal()&&_&&(x=_>Zs||x)}if(!(!x&&this.maxSourceExtent_&&isFinite(v[0])&&isFinite(v[1])&&isFinite(v[2])&&isFinite(v[3])&&!ha(v,this.maxSourceExtent_))){var I=0;if(!x&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)x=!0;else if(I=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),I!=1&&I!=2&&I!=4&&I!=8)return}if(c>0){if(!x){var k=[(e[0]+i[0])/2,(e[1]+i[1])/2],F=this.transformInv_(k),j=void 0;if(T){var H=(ui(a[0],m)+ui(h[0],m))/2;j=H-ui(F[0],m)}else j=(a[0]+h[0])/2-F[0];var p=(a[1]+h[1])/2-F[1],Z=j*j+p*p;x=Z>this.errorThresholdSquared_}if(x){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){var K=[(t[0]+i[0])/2,(t[1]+i[1])/2],ht=this.transformInv_(K),dt=[(r[0]+e[0])/2,(r[1]+e[1])/2],yt=this.transformInv_(dt);this.addQuad_(e,t,K,dt,a,s,ht,yt,c-1),this.addQuad_(dt,K,i,r,yt,ht,h,l,c-1)}else{var pt=[(e[0]+t[0])/2,(e[1]+t[1])/2],Ut=this.transformInv_(pt),Zt=[(i[0]+r[0])/2,(i[1]+r[1])/2],ct=this.transformInv_(Zt);this.addQuad_(e,pt,Zt,r,a,Ut,ct,l,c-1),this.addQuad_(pt,t,i,Zt,Ut,s,h,ct,c-1)}return}}if(T){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(I&11)==0&&this.addTriangle_(e,i,r,a,h,l),(I&14)==0&&this.addTriangle_(e,i,t,a,h,s),I&&((I&13)==0&&this.addTriangle_(t,r,e,s,l,a),(I&7)==0&&this.addTriangle_(t,r,i,s,l,h))}},n.prototype.calculateSourceExtent=function(){var e=$n();return this.triangles_.forEach(function(t,i,r){var a=t.source;Dr(e,a[0]),Dr(e,a[1]),Dr(e,a[2])}),e},n.prototype.getTriangles=function(){return this.triangles_},n}(),Gv=jv,ao={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},kv={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Xa;function Ys(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function Wa(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function qv(){if(Xa===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",Ys(n,4,5,4,0),Ys(n,4,5,0,5);var e=n.getImageData(0,0,3,3).data;Xa=Wa(e,0)||Wa(e,4)||Wa(e,8)}return Xa}function Qs(n,e,t,i){var r=Dh(t,e,n),a=Os(e,i,t),s=e.getMetersPerUnit();s!==void 0&&(a*=s);var h=n.getMetersPerUnit();h!==void 0&&(a/=h);var l=n.getExtent();if(!l||ra(l,r)){var c=Os(n,a,r)/a;isFinite(c)&&c>0&&(a/=c)}return a}function $v(n,e,t,i){var r=Ki(t),a=Qs(n,e,r,i);return(!isFinite(a)||a<=0)&&bh(t,function(s){return a=Qs(n,e,s,i),isFinite(a)&&a>0}),a}function zv(n,e,t,i,r,a,s,h,l,c,v,_){var m=Hr(Math.round(t*n),Math.round(t*e));if(_||Vt(m,ao),l.length===0)return m.canvas;m.scale(t,t);function T(j){return Math.round(j*t)/t}m.globalCompositeOperation="lighter";var x=$n();l.forEach(function(j,H,p){yf(x,j.extent)});var w=zt(x),S=ke(x),I=Hr(Math.round(t*w/i),Math.round(t*S/i));_||Vt(I,ao);var k=t/i;l.forEach(function(j,H,p){var Z=j.extent[0]-x[0],K=-(j.extent[3]-x[3]),ht=zt(j.extent),dt=ke(j.extent);j.image.width>0&&j.image.height>0&&I.drawImage(j.image,c,c,j.image.width-2*c,j.image.height-2*c,Z*k,K*k,ht*k,dt*k)});var F=Rn(s);return h.getTriangles().forEach(function(j,H,p){var Z=j.source,K=j.target,ht=Z[0][0],dt=Z[0][1],yt=Z[1][0],pt=Z[1][1],Ut=Z[2][0],Zt=Z[2][1],ct=T((K[0][0]-F[0])/a),Ct=T(-(K[0][1]-F[1])/a),wt=T((K[1][0]-F[0])/a),ge=T(-(K[1][1]-F[1])/a),qe=T((K[2][0]-F[0])/a),Qe=T(-(K[2][1]-F[1])/a),Bt=ht,$e=dt;ht=0,dt=0,yt-=Bt,pt-=$e,Ut-=Bt,Zt-=$e;var Ce=[[yt,pt,0,0,wt-ct],[Ut,Zt,0,0,qe-ct],[0,0,yt,pt,ge-Ct],[0,0,Ut,Zt,Qe-Ct]],gt=Rf(Ce);if(!!gt){if(m.save(),m.beginPath(),qv()||!_){m.moveTo(wt,ge);for(var Yt=4,ze=ct-wt,ye=Ct-ge,Qt=0;Qt<Yt;Qt++)m.lineTo(wt+T((Qt+1)*ze/Yt),ge+T(Qt*ye/(Yt-1))),Qt!=Yt-1&&m.lineTo(wt+T((Qt+1)*ze/Yt),ge+T((Qt+1)*ye/(Yt-1)));m.lineTo(qe,Qe)}else m.moveTo(wt,ge),m.lineTo(ct,Ct),m.lineTo(qe,Qe);m.clip(),m.transform(gt[0],gt[2],gt[1],gt[3],ct,Ct),m.translate(x[0]-Bt,x[3]-$e),m.scale(i/t,-i/t),m.drawImage(I.canvas,0,0),m.restore()}}),v&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,h.getTriangles().forEach(function(j,H,p){var Z=j.target,K=(Z[0][0]-F[0])/a,ht=-(Z[0][1]-F[1])/a,dt=(Z[1][0]-F[0])/a,yt=-(Z[1][1]-F[1])/a,pt=(Z[2][0]-F[0])/a,Ut=-(Z[2][1]-F[1])/a;m.beginPath(),m.moveTo(dt,yt),m.lineTo(K,ht),m.lineTo(pt,Ut),m.closePath(),m.stroke()}),m.restore()),m.canvas}var Uv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Hv=function(n){Uv(e,n);function e(t,i,r,a,s,h,l,c,v,_,m,T){var x=n.call(this,s,rt.IDLE,{interpolate:!!T})||this;x.renderEdges_=m!==void 0?m:!1,x.pixelRatio_=l,x.gutter_=c,x.canvas_=null,x.sourceTileGrid_=i,x.targetTileGrid_=a,x.wrappedTileCoord_=h||s,x.sourceTiles_=[],x.sourcesListenerKeys_=null,x.sourceZ_=0;var w=a.getTileCoordExtent(x.wrappedTileCoord_),S=x.targetTileGrid_.getExtent(),I=x.sourceTileGrid_.getExtent(),k=S?Hi(w,S):w;if(Ya(k)===0)return x.state=rt.EMPTY,x;var F=t.getExtent();F&&(I?I=Hi(I,F):I=F);var j=a.getResolution(x.wrappedTileCoord_[0]),H=$v(t,r,k,j);if(!isFinite(H)||H<=0)return x.state=rt.EMPTY,x;var p=_!==void 0?_:Dv;if(x.triangulation_=new Gv(t,r,k,I,H*p,j),x.triangulation_.getTriangles().length===0)return x.state=rt.EMPTY,x;x.sourceZ_=i.getZForResolution(H);var Z=x.triangulation_.calculateSourceExtent();if(I&&(t.canWrapX()?(Z[1]=Nt(Z[1],I[1],I[3]),Z[3]=Nt(Z[3],I[1],I[3])):Z=Hi(Z,I)),!Ya(Z))x.state=rt.EMPTY;else{for(var K=i.getTileRangeForExtentAndZ(Z,x.sourceZ_),ht=K.minX;ht<=K.maxX;ht++)for(var dt=K.minY;dt<=K.maxY;dt++){var yt=v(x.sourceZ_,ht,dt,l);yt&&x.sourceTiles_.push(yt)}x.sourceTiles_.length===0&&(x.state=rt.EMPTY)}return x}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(v,_,m){v&&v.getState()==rt.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(v.tileCoord),image:v.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=rt.ERROR;else{var i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),a=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],h=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=zv(a,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),h,c,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=rt.LOADED}this.changed()},e.prototype.load=function(){if(this.state==rt.IDLE){this.state=rt.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(i,r,a){var s=i.getState();if(s==rt.IDLE||s==rt.LOADING){t++;var h=ft(i,ut.CHANGE,function(l){var c=i.getState();(c==rt.LOADED||c==rt.ERROR||c==rt.EMPTY)&&(At(h),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(h)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(i,r,a){var s=i.getState();s==rt.IDLE&&i.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(At),this.sourcesListenerKeys_=null},e}(Qh),gu=Hv,Bv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Xv=function(n){Bv(e,n);function e(t){var i=n.call(this,t)||this;return i.extentChanged=!0,i.renderedExtent_=null,i.renderedPixelRatio,i.renderedProjection=null,i.renderedRevision,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=$n(),i.tmpTileRange_=new vu(0,0,0,0),i}return e.prototype.isDrawableTile=function(t){var i=this.getLayer(),r=t.getState(),a=i.getUseInterimTilesOnError();return r==rt.LOADED||r==rt.EMPTY||r==rt.ERROR&&!a},e.prototype.getTile=function(t,i,r,a){var s=a.pixelRatio,h=a.viewState.projection,l=this.getLayer(),c=l.getSource(),v=c.getTile(t,i,r,s,h);return v.getState()==rt.ERROR&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(this.newTiles_=!0):v.setState(rt.LOADED)),this.isDrawableTile(v)||(v=v.getInterimTile()),v},e.prototype.getData=function(t){var i=this.frameState;if(!i)return null;var r=this.getLayer(),a=ce(i.pixelToCoordinateTransform,t.slice()),s=r.getExtent();if(s&&!ra(s,a))return null;for(var h=i.pixelRatio,l=i.viewState.projection,c=i.viewState,v=r.getRenderSource(),_=v.getTileGridForProjection(c.projection),m=v.getTilePixelRatio(i.pixelRatio),T=_.getZForResolution(c.resolution);T>=_.getMinZoom();--T){var x=_.getTileCoordForCoordAndZ(a,T),w=v.getTile(T,x[1],x[2],h,l);if(!(w instanceof Jh||w instanceof gu))return null;if(w.getState()===rt.LOADED){var S=_.getOrigin(T),I=sn(_.getTileSize(T)),k=_.getResolution(T),F=Math.floor(m*((a[0]-S[0])/k-x[1]*I[0])),j=Math.floor(m*((S[1]-a[1])/k-x[2]*I[1]));return this.getImageData(w.getImage(),F,j)}}return null},e.prototype.loadedTileCallback=function(t,i,r){return this.isDrawableTile(r)?n.prototype.loadedTileCallback.call(this,t,i,r):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,i){var r=t.layerStatesArray[t.layerIndex],a=t.viewState,s=a.projection,h=a.resolution,l=a.center,c=a.rotation,v=t.pixelRatio,_=this.getLayer(),m=_.getSource(),T=m.getRevision(),x=m.getTileGridForProjection(s),w=x.getZForResolution(h,m.zDirection),S=x.getResolution(w),I=t.extent,k=r.extent&&ni(r.extent);k&&(I=Hi(I,ni(r.extent)));var F=m.getTilePixelRatio(v),j=Math.round(t.size[0]*F),H=Math.round(t.size[1]*F);if(c){var p=Math.round(Math.sqrt(j*j+H*H));j=p,H=p}var Z=S*j/2/F,K=S*H/2/F,ht=[l[0]-Z,l[1]-K,l[0]+Z,l[1]+K],dt=x.getTileRangeForExtentAndZ(I,w),yt={};yt[w]={};var pt=this.createLoadedTileFinder(m,s,yt),Ut=this.tmpExtent,Zt=this.tmpTileRange_;this.newTiles_=!1;for(var ct=dt.minX;ct<=dt.maxX;++ct)for(var Ct=dt.minY;Ct<=dt.maxY;++Ct){var wt=this.getTile(w,ct,Ct,t);if(this.isDrawableTile(wt)){var ge=de(this);if(wt.getState()==rt.LOADED){yt[w][wt.tileCoord.toString()]=wt;var qe=wt.inTransition(ge);!this.newTiles_&&(qe||this.renderedTiles.indexOf(wt)===-1)&&(this.newTiles_=!0)}if(wt.getAlpha(ge,t.time)===1)continue}var Qe=x.getTileCoordChildTileRange(wt.tileCoord,Zt,Ut),Bt=!1;Qe&&(Bt=pt(w+1,Qe)),Bt||x.forEachTileCoordParentTileRange(wt.tileCoord,pt,Zt,Ut)}var $e=S/h;Vi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/F,1/F,c,-j/2,-H/2);var Ce=df(this.pixelTransform);this.useContainer(i,Ce,r.opacity,this.getBackground(t));var gt=this.context,Yt=gt.canvas;wh(this.inversePixelTransform,this.pixelTransform),Vi(this.tempTransform,j/2,H/2,$e,$e,0,-j/2,-H/2),Yt.width!=j||Yt.height!=H?(Yt.width=j,Yt.height=H):this.containerReused||gt.clearRect(0,0,j,H),k&&this.clipUnrotated(gt,t,k),m.getInterpolate()||Vt(gt,ao),this.preRender(gt,t),this.renderedTiles.length=0;var ze=Object.keys(yt).map(Number);ze.sort(fo);var ye,Qt,jt;r.opacity===1&&(!this.containerReused||m.getOpaque(t.viewState.projection))?ze=ze.reverse():(ye=[],Qt=[]);for(var Ti=ze.length-1;Ti>=0;--Ti){var Ue=ze[Ti],lr=m.getTilePixelSize(Ue,v,s),we=x.getResolution(Ue),fn=we/S,cn=lr[0]*fn*$e,J=lr[1]*fn*$e,Ht=x.getTileCoordForCoordAndZ(Rn(ht),Ue),fr=x.getTileCoordExtent(Ht),Hn=ce(this.tempTransform,[F*(fr[0]-ht[0])/S,F*(ht[3]-fr[3])/S]),va=F*m.getGutterForProjection(s),Ci=yt[Ue];for(var cr in Ci){var wt=Ci[cr],dn=wt.tileCoord,Oe=Ht[1]-dn[1],Je=Math.round(Hn[0]-(Oe-1)*cn),tn=Ht[2]-dn[2],ga=Math.round(Hn[1]-(tn-1)*J),ct=Math.round(Hn[0]-Oe*cn),Ct=Math.round(Hn[1]-tn*J),He=Je-ct,pn=ga-Ct,wi=w===Ue,qe=wi&&wt.getAlpha(de(this),t.time)!==1,Oi=!1;if(!qe)if(ye){jt=[ct,Ct,ct+He,Ct,ct+He,Ct+pn,ct,Ct+pn];for(var Ie=0,Pn=ye.length;Ie<Pn;++Ie)if(w!==Ue&&Ue<Qt[Ie]){var ne=ye[Ie];ha([ct,Ct,ct+He,Ct+pn],[ne[0],ne[3],ne[4],ne[7]])&&(Oi||(gt.save(),Oi=!0),gt.beginPath(),gt.moveTo(jt[0],jt[1]),gt.lineTo(jt[2],jt[3]),gt.lineTo(jt[4],jt[5]),gt.lineTo(jt[6],jt[7]),gt.moveTo(ne[6],ne[7]),gt.lineTo(ne[4],ne[5]),gt.lineTo(ne[2],ne[3]),gt.lineTo(ne[0],ne[1]),gt.clip())}ye.push(jt),Qt.push(Ue)}else gt.clearRect(ct,Ct,He,pn);this.drawTileImage(wt,t,ct,Ct,He,pn,va,wi),ye&&!qe?(Oi&&gt.restore(),this.renderedTiles.unshift(wt)):this.renderedTiles.push(wt),this.updateUsedTiles(t.usedTiles,m,wt)}}this.renderedRevision=T,this.renderedResolution=S,this.extentChanged=!this.renderedExtent_||!$r(this.renderedExtent_,ht),this.renderedExtent_=ht,this.renderedPixelRatio=v,this.renderedProjection=s,this.manageTilePyramid(t,m,x,v,s,I,w,_.getPreload()),this.scheduleExpireCache(t,m),this.postRender(gt,t),r.extent&&gt.restore(),Vt(gt,kv),Ce!==Yt.style.transform&&(Yt.style.transform=Ce);var Ri=Uc(r.opacity),ie=this.container;return Ri!==ie.style.opacity&&(ie.style.opacity=Ri),this.container},e.prototype.drawTileImage=function(t,i,r,a,s,h,l,c){var v=this.getTileImage(t);if(!!v){var _=de(this),m=c?t.getAlpha(_,i.time):1,T=m!==this.context.globalAlpha;T&&(this.context.save(),this.context.globalAlpha=m),this.context.drawImage(v,l,l,v.width-2*l,v.height-2*l,r,a,s,h),T&&this.context.restore(),m!==1?i.animate=!0:c&&t.endTransition(_)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,i){if(i.canExpireCache()){var r=function(a,s,h){var l=de(a);l in h.usedTiles&&a.expireCache(h.viewState.projection,h.usedTiles[l])}.bind(null,i);t.postRenderFunctions.push(r)}},e.prototype.updateUsedTiles=function(t,i,r){var a=de(i);a in t||(t[a]={}),t[a][r.getKey()]=!0},e.prototype.manageTilePyramid=function(t,i,r,a,s,h,l,c,v){var _=de(i);_ in t.wantedTiles||(t.wantedTiles[_]={});var m=t.wantedTiles[_],T=t.tileQueue,x=r.getMinZoom(),w=0,S,I,k,F,j,H;for(H=x;H<=l;++H)for(I=r.getTileRangeForExtentAndZ(h,H,I),k=r.getResolution(H),F=I.minX;F<=I.maxX;++F)for(j=I.minY;j<=I.maxY;++j)l-H<=c?(++w,S=i.getTile(H,F,j,a,s),S.getState()==rt.IDLE&&(m[S.getKey()]=!0,T.isKeyQueued(S.getKey())||T.enqueue([S,_,r.getTileCoordCenter(S.tileCoord),k])),v!==void 0&&v(S)):i.useTile(H,F,j,s);i.updateCacheSize(w,s)},e}(rd),Wv=Xv,Vv=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Kv=function(n){Vv(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new Wv(this)},e}(Nv),fa=Kv,Va={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},Zv=[0,0,0],yn=5,Yv=function(){function n(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Tt(Zl(this.resolutions_,function(s,h){return h-s},!0),17);var t;if(!e.origins){for(var i=0,r=this.resolutions_.length-1;i<r;++i)if(!t)t=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Tt(this.origins_.length==this.resolutions_.length,20));var a=e.extent;a!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Rn(a)),Tt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Tt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Co,Tt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=a!==void 0?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,h){var l=new vu(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(a){var c=this.getTileRangeForExtentAndZ(a,h);l.minX=Math.max(c.minX,l.minX),l.maxX=Math.min(c.maxX,l.maxX),l.minY=Math.max(c.minY,l.minY),l.maxY=Math.min(c.maxY,l.maxY)}return l},this):a&&this.calculateTileRanges_(a)}return n.prototype.forEachTileCoord=function(e,t,i){for(var r=this.getTileRangeForExtentAndZ(e,t),a=r.minX,s=r.maxX;a<=s;++a)for(var h=r.minY,l=r.maxY;h<=l;++h)i([t,a,h])},n.prototype.forEachTileCoordParentTileRange=function(e,t,i,r){var a,s,h,l=null,c=e[0]-1;for(this.zoomFactor_===2?(s=e[1],h=e[2]):l=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),h=Math.floor(h/2),a=Yn(s,s,h,h,i)):a=this.getTileRangeForExtentAndZ(l,c,i),t(c,a))return!0;--c}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},n.prototype.getResolution=function(e){return this.resolutions_[e]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var r=e[1]*2,a=e[2]*2;return Yn(r,r+1,a,a+1,t)}var s=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;var r=e[0],a=e[1],s=e[2];if(t===r)return Yn(a,s,a,s,i);if(this.zoomFactor_){var h=Math.pow(this.zoomFactor_,t-r),l=Math.floor(a*h),c=Math.floor(s*h);if(t<r)return Yn(l,l,c,c,i);var v=Math.floor(h*(a+1))-1,_=Math.floor(h*(s+1))-1;return Yn(l,v,c,_,i)}var m=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(m,t,i)},n.prototype.getTileRangeExtent=function(e,t,i){var r=this.getOrigin(e),a=this.getResolution(e),s=sn(this.getTileSize(e),this.tmpSize_),h=r[0]+t.minX*s[0]*a,l=r[0]+(t.maxX+1)*s[0]*a,c=r[1]+t.minY*s[1]*a,v=r[1]+(t.maxY+1)*s[1]*a;return di(h,c,l,v,i)},n.prototype.getTileRangeForExtentAndZ=function(e,t,i){var r=Zv;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,r);var a=r[1],s=r[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,r),Yn(a,r[1],s,r[2],i)},n.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=sn(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]},n.prototype.getTileCoordExtent=function(e,t){var i=this.getOrigin(e[0]),r=this.getResolution(e[0]),a=sn(this.getTileSize(e[0]),this.tmpSize_),s=i[0]+e[1]*a[0]*r,h=i[1]-(e[2]+1)*a[1]*r,l=s+a[0]*r,c=h+a[1]*r;return di(s,h,l,c,t)},n.prototype.getTileCoordForCoordAndResolution=function(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)},n.prototype.getTileCoordForXYAndResolution_=function(e,t,i,r,a){var s=this.getZForResolution(i),h=i/this.getResolution(s),l=this.getOrigin(s),c=sn(this.getTileSize(s),this.tmpSize_),v=h*(e-l[0])/i/c[0],_=h*(l[1]-t)/i/c[1];return r?(v=Or(v,yn)-1,_=Or(_,yn)-1):(v=wr(v,yn),_=wr(_,yn)),Ks(s,v,_,a)},n.prototype.getTileCoordForXYAndZ_=function(e,t,i,r,a){var s=this.getOrigin(i),h=this.getResolution(i),l=sn(this.getTileSize(i),this.tmpSize_),c=(e-s[0])/h/l[0],v=(s[1]-t)/h/l[1];return r?(c=Or(c,yn)-1,v=Or(v,yn)-1):(c=wr(c,yn),v=wr(v,yn)),Ks(i,c,v,a)},n.prototype.getTileCoordForCoordAndZ=function(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)},n.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},n.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},n.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},n.prototype.getZForResolution=function(e,t){var i=co(this.resolutions_,e,t||0);return Nt(i,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,i=new Array(t),r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i},n}(),yu=Yv;function _u(n){var e=n.getDefaultTileGrid();return e||(e=eg(n),n.setDefaultTileGrid(e)),e}function Qv(n,e,t){var i=e[0],r=n.getTileCoordCenter(e),a=So(t);if(ra(a,r))return e;var s=zt(a),h=Math.ceil((a[0]-r[0])/s);return r[0]+=s*h,n.getTileCoordForCoordAndZ(r,i)}function Jv(n,e,t,i){var r=i!==void 0?i:Gi.TOP_LEFT,a=mu(n,e,t);return new yu({extent:n,origin:mf(n,r),resolutions:a,tileSize:t})}function tg(n){var e=n||{},t=e.extent||Kt("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:mu(t,e.maxZoom,e.tileSize,e.maxResolution)};return new yu(i)}function mu(n,e,t,i){for(var r=e!==void 0?e:zd,a=ke(n),s=zt(n),h=sn(t!==void 0?t:Co),l=i>0?i:Math.max(s/h[0],a/h[1]),c=r+1,v=new Array(c),_=0;_<c;++_)v[_]=l/Math.pow(2,_);return v}function eg(n,e,t,i){var r=So(n);return Jv(r,e,t,i)}function So(n){n=Kt(n);var e=n.getExtent();if(!e){var t=180*Ke[un.DEGREES]/n.getMetersPerUnit();e=di(-t,-t,t,t)}return e}var Mu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ng=function(n){Mu(e,n);function e(t){var i=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;i.on,i.once,i.un,i.opaque_=t.opaque!==void 0?t.opaque:!1,i.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,i.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var r=[256,256];return i.tileGrid&&sn(i.tileGrid.getTileSize(i.tileGrid.getMinZoom()),r),i.tileCache=new du(t.cacheSize||0),i.tmpSize=[0,0],i.key_=t.key||"",i.tileOptions={transition:t.transition,interpolate:t.interpolate},i.zDirection=t.zDirection?t.zDirection:0,i}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,i){var r=this.getTileCacheForProjection(t);r&&r.expireCache(i)},e.prototype.forEachLoadedTile=function(t,i,r,a){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var h=!0,l,c,v,_=r.minX;_<=r.maxX;++_)for(var m=r.minY;m<=r.maxY;++m)c=la(i,_,m),v=!1,s.containsKey(c)&&(l=s.get(c),v=l.getState()===rt.LOADED,v&&(v=a(l)!==!1)),v||(h=!1);return h},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,i,r,a,s){return Pt()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:_u(t)},e.prototype.getTileCacheForProjection=function(t){return Tt(Qn(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,i,r){var a=this.getTileGridForProjection(r),s=this.getTilePixelRatio(i),h=sn(a.getTileSize(t),this.tmpSize);return s==1?h:Ac(h,s,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,i){var r=i!==void 0?i:this.getProjection(),a=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(t=Qv(a,t,r)),bv(t,a)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,i){var r=this.getTileCacheForProjection(i);t>r.highWaterMark&&(r.highWaterMark=t)},e.prototype.useTile=function(t,i,r,a){},e}(cd),ig=function(n){Mu(e,n);function e(t,i){var r=n.call(this,t)||this;return r.tile=i,r}return e}(On),rg=ng;function ag(n,e){var t=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,a=/\{-y\}/g;return function(s,h,l){if(s)return n.replace(t,s[0].toString()).replace(i,s[1].toString()).replace(r,s[2].toString()).replace(a,function(){var c=s[0],v=e.getFullTileRange(c);Tt(v,55);var _=v.getHeight()-s[2]-1;return _.toString()})}}function og(n,e){for(var t=n.length,i=new Array(t),r=0;r<t;++r)i[r]=ag(n[r],e);return sg(i)}function sg(n){return n.length===1?n[0]:function(e,t,i){if(e){var r=Pv(e),a=ui(r,n.length);return n[a](e,t,i)}else return}}function hg(n){var e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var i=t[1].charCodeAt(0),r=t[2].charCodeAt(0),a=void 0;for(a=i;a<=r;++a)e.push(n.replace(t[0],String.fromCharCode(a)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var s=parseInt(t[2],10),h=parseInt(t[1],10);h<=s;h++)e.push(n.replace(t[0],h.toString()));return e}return e.push(n),e}var ug=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),lg=function(n){ug(e,n);function e(t){var i=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===e.prototype.tileUrlFunction,i.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(i.tileUrlFunction=t.tileUrlFunction),i.urls=null,t.urls?i.setUrls(t.urls):t.url&&i.setUrl(t.url),i.tileLoadingKeys_={},i}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var i=t.target,r=de(i),a=i.getState(),s;a==rt.LOADING?(this.tileLoadingKeys_[r]=!0,s=Va.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=a==rt.ERROR?Va.TILELOADERROR:a==rt.LOADED?Va.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new ig(s,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,i){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof i!="undefined"?this.setKey(i):this.changed()},e.prototype.setUrl=function(t){var i=hg(t);this.urls=i,this.setUrls(i)},e.prototype.setUrls=function(t){this.urls=t;var i=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(og(t,this.tileGrid),i):this.setKey(i)},e.prototype.tileUrlFunction=function(t,i,r){},e.prototype.useTile=function(t,i,r){var a=la(t,i,r);this.tileCache.containsKey(a)&&this.tileCache.get(a)},e}(rg),fg=lg,cg=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),dg=function(n){cg(e,n);function e(t){var i=this,r=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(r=t.interpolate),i=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:pg,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:r,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,i.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,i.tileClass=t.tileClass!==void 0?t.tileClass:Jh,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,i.renderReprojectionEdges_=!1,i}return e.prototype.canExpireCache=function(){if(!rn)return n.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,i){if(!rn){n.prototype.expireCache.call(this,t,i);return}var r=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==r?i:{});for(var a in this.tileCacheForProjection){var s=this.tileCacheForProjection[a];s.expireCache(s==r?i:{})}},e.prototype.getGutterForProjection=function(t){return rn&&this.getProjection()&&t&&!Qn(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return rn&&this.getProjection()&&t&&!Qn(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){if(!rn)return n.prototype.getTileGridForProjection.call(this,t);var i=this.getProjection();if(this.tileGrid&&(!i||Qn(i,t)))return this.tileGrid;var r=de(t);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=_u(t)),this.tileGridForProjection[r]},e.prototype.getTileCacheForProjection=function(t){if(!rn)return n.prototype.getTileCacheForProjection.call(this,t);var i=this.getProjection();if(!i||Qn(i,t))return this.tileCache;var r=de(t);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new du(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},e.prototype.createTile_=function(t,i,r,a,s,h){var l=[t,i,r],c=this.getTileCoordForTileUrlFunction(l,s),v=c?this.tileUrlFunction(c,a,s):void 0,_=new this.tileClass(l,v!==void 0?rt.IDLE:rt.EMPTY,v!==void 0?v:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return _.key=h,_.addEventListener(ut.CHANGE,this.handleTileChange.bind(this)),_},e.prototype.getTile=function(t,i,r,a,s){var h=this.getProjection();if(!rn||!h||!s||Qn(h,s))return this.getTileInternal(t,i,r,a,h||s);var l=this.getTileCacheForProjection(s),c=[t,i,r],v=void 0,_=cu(c);l.containsKey(_)&&(v=l.get(_));var m=this.getKey();if(v&&v.key==m)return v;var T=this.getTileGridForProjection(h),x=this.getTileGridForProjection(s),w=this.getTileCoordForTileUrlFunction(c,s),S=new gu(h,T,s,x,c,w,this.getTilePixelRatio(a),this.getGutter(),function(I,k,F,j){return this.getTileInternal(I,k,F,j,h)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return S.key=m,v?(S.interimTile=v,S.refreshInterimChain(),l.replace(_,S)):l.set(_,S),S},e.prototype.getTileInternal=function(t,i,r,a,s){var h=null,l=la(t,i,r),c=this.getKey();if(!this.tileCache.containsKey(l))h=this.createTile_(t,i,r,a,s,c),this.tileCache.set(l,h);else if(h=this.tileCache.get(l),h.key!=c){var v=h;h=this.createTile_(t,i,r,a,s,c),v.getState()==rt.IDLE?h.interimTile=v.interimTile:h.interimTile=v,h.refreshInterimChain(),this.tileCache.replace(l,h)}return h},e.prototype.setRenderReprojectionEdges=function(t){if(!(!rn||this.renderReprojectionEdges_==t)){this.renderReprojectionEdges_=t;for(var i in this.tileCacheForProjection)this.tileCacheForProjection[i].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,i){if(rn){var r=Kt(t);if(r){var a=de(r);a in this.tileGridForProjection||(this.tileGridForProjection[a]=i)}}},e}(fg);function pg(n,e){n.getImage().src=e}var vg=dg,gg=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yg=function(n){gg(e,n);function e(t){var i=t||{},r=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(r=i.interpolate);var a=i.projection!==void 0?i.projection:"EPSG:3857",s=i.tileGrid!==void 0?i.tileGrid:tg({extent:So(a),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return n.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:r,opaque:i.opaque,projection:a,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return e}(vg),ca=yg;function _g(n){n("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),n("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),n.WGS84=n["EPSG:4326"],n["EPSG:3785"]=n["EPSG:3857"],n.GOOGLE=n["EPSG:3857"],n["EPSG:900913"]=n["EPSG:3857"],n["EPSG:102113"]=n["EPSG:3857"]}var kn=1,qn=2,jr=3,mg=4,oo=5,Js=6378137,Mg=6356752314e-3,th=.0066943799901413165,Bi=484813681109536e-20,U=Math.PI/2,Eg=.16666666666666666,xg=.04722222222222222,Tg=.022156084656084655,W=1e-10,Xt=.017453292519943295,We=57.29577951308232,mt=Math.PI/4,Yi=Math.PI*2,Ft=3.14159265359,ve={};ve.greenwich=0;ve.lisbon=-9.131906111111;ve.paris=2.337229166667;ve.bogota=-74.080916666667;ve.madrid=-3.687938888889;ve.rome=12.452333333333;ve.bern=7.439583333333;ve.jakarta=106.807719444444;ve.ferro=-17.666666666667;ve.brussels=4.367975;ve.stockholm=18.058277777778;ve.athens=23.7163375;ve.oslo=10.722916666667;var Cg={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},eh=/[\s_\-\/\(\)]/g;function Cn(n,e){if(n[e])return n[e];for(var t=Object.keys(n),i=e.toLowerCase().replace(eh,""),r=-1,a,s;++r<t.length;)if(a=t[r],s=a.toLowerCase().replace(eh,""),s===i)return n[a]}function so(n){var e={},t=n.split("+").map(function(h){return h.trim()}).filter(function(h){return h}).reduce(function(h,l){var c=l.split("=");return c.push(!0),h[c[0].toLowerCase()]=c[1],h},{}),i,r,a,s={proj:"projName",datum:"datumCode",rf:function(h){e.rf=parseFloat(h)},lat_0:function(h){e.lat0=h*Xt},lat_1:function(h){e.lat1=h*Xt},lat_2:function(h){e.lat2=h*Xt},lat_ts:function(h){e.lat_ts=h*Xt},lon_0:function(h){e.long0=h*Xt},lon_1:function(h){e.long1=h*Xt},lon_2:function(h){e.long2=h*Xt},alpha:function(h){e.alpha=parseFloat(h)*Xt},gamma:function(h){e.rectified_grid_angle=parseFloat(h)},lonc:function(h){e.longc=h*Xt},x_0:function(h){e.x0=parseFloat(h)},y_0:function(h){e.y0=parseFloat(h)},k_0:function(h){e.k0=parseFloat(h)},k:function(h){e.k0=parseFloat(h)},a:function(h){e.a=parseFloat(h)},b:function(h){e.b=parseFloat(h)},r_a:function(){e.R_A=!0},zone:function(h){e.zone=parseInt(h,10)},south:function(){e.utmSouth=!0},towgs84:function(h){e.datum_params=h.split(",").map(function(l){return parseFloat(l)})},to_meter:function(h){e.to_meter=parseFloat(h)},units:function(h){e.units=h;var l=Cn(Cg,h);l&&(e.to_meter=l.to_meter)},from_greenwich:function(h){e.from_greenwich=h*Xt},pm:function(h){var l=Cn(ve,h);e.from_greenwich=(l||parseFloat(h))*Xt},nadgrids:function(h){h==="@null"?e.datumCode="none":e.nadgrids=h},axis:function(h){var l="ewnsud";h.length===3&&l.indexOf(h.substr(0,1))!==-1&&l.indexOf(h.substr(1,1))!==-1&&l.indexOf(h.substr(2,1))!==-1&&(e.axis=h)},approx:function(){e.approx=!0}};for(i in t)r=t[i],i in s?(a=s[i],typeof a=="function"?a(r):e[a]=r):e[i]=r;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Qi=1,Eu=2,xu=3,Kr=4,Tu=5,Ao=-1,wg=/\s/,Og=/[A-Za-z]/,Rg=/[A-Za-z84_]/,da=/[,\]]/,Cu=/[\d\.E\-\+]/;function ln(n){if(typeof n!="string")throw new Error("not a string");this.text=n.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Qi}ln.prototype.readCharicter=function(){var n=this.text[this.place++];if(this.state!==Kr)for(;wg.test(n);){if(this.place>=this.text.length)return;n=this.text[this.place++]}switch(this.state){case Qi:return this.neutral(n);case Eu:return this.keyword(n);case Kr:return this.quoted(n);case Tu:return this.afterquote(n);case xu:return this.number(n);case Ao:return}};ln.prototype.afterquote=function(n){if(n==='"'){this.word+='"',this.state=Kr;return}if(da.test(n)){this.word=this.word.trim(),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in afterquote yet, index '+this.place)};ln.prototype.afterItem=function(n){if(n===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Qi;return}if(n==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Qi,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Ao);return}};ln.prototype.number=function(n){if(Cu.test(n)){this.word+=n;return}if(da.test(n)){this.word=parseFloat(this.word),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in number yet, index '+this.place)};ln.prototype.quoted=function(n){if(n==='"'){this.state=Tu;return}this.word+=n};ln.prototype.keyword=function(n){if(Rg.test(n)){this.word+=n;return}if(n==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Qi;return}if(da.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in keyword yet, index '+this.place)};ln.prototype.neutral=function(n){if(Og.test(n)){this.word=n,this.state=Eu;return}if(n==='"'){this.word="",this.state=Kr;return}if(Cu.test(n)){this.word=n,this.state=xu;return}if(da.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in neutral yet, index '+this.place)};ln.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Ao)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Pg(n){var e=new ln(n);return e.output()}function nh(n,e,t){Array.isArray(e)&&(t.unshift(e),e=null);var i=e?{}:n,r=t.reduce(function(a,s){return ii(s,a),a},i);e&&(n[e]=r)}function ii(n,e){if(!Array.isArray(n)){e[n]=!0;return}var t=n.shift();if(t==="PARAMETER"&&(t=n.shift()),n.length===1){if(Array.isArray(n[0])){e[t]={},ii(n[0],e[t]);return}e[t]=n[0];return}if(!n.length){e[t]=!0;return}if(t==="TOWGS84"){e[t]=n;return}if(t==="AXIS"){t in e||(e[t]=[]),e[t].push(n);return}Array.isArray(t)||(e[t]={});var i;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[t]={name:n[0].toLowerCase(),convert:n[1]},n.length===3&&ii(n[2],e[t]);return;case"SPHEROID":case"ELLIPSOID":e[t]={name:n[0],a:n[1],rf:n[2]},n.length===4&&ii(n[3],e[t]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":n[0]=["name",n[0]],nh(e,t,n);return;default:for(i=-1;++i<n.length;)if(!Array.isArray(n[i]))return ii(n,e[t]);return nh(e,t,n)}}var bg=.017453292519943295;function Sg(n,e){var t=e[0],i=e[1];!(t in n)&&i in n&&(n[t]=n[i],e.length===3&&(n[t]=e[2](n[t])))}function an(n){return n*bg}function Ag(n){if(n.type==="GEOGCS"?n.projName="longlat":n.type==="LOCAL_CS"?(n.projName="identity",n.local=!0):typeof n.PROJECTION=="object"?n.projName=Object.keys(n.PROJECTION)[0]:n.projName=n.PROJECTION,n.AXIS){for(var e="",t=0,i=n.AXIS.length;t<i;++t){var r=[n.AXIS[t][0].toLowerCase(),n.AXIS[t][1].toLowerCase()];r[0].indexOf("north")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="north"?e+="n":r[0].indexOf("south")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="south"?e+="s":r[0].indexOf("east")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="east"?e+="e":(r[0].indexOf("west")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(n.axis=e)}n.UNIT&&(n.units=n.UNIT.name.toLowerCase(),n.units==="metre"&&(n.units="meter"),n.UNIT.convert&&(n.type==="GEOGCS"?n.DATUM&&n.DATUM.SPHEROID&&(n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a):n.to_meter=n.UNIT.convert));var a=n.GEOGCS;n.type==="GEOGCS"&&(a=n),a&&(a.DATUM?n.datumCode=a.DATUM.name.toLowerCase():n.datumCode=a.name.toLowerCase(),n.datumCode.slice(0,2)==="d_"&&(n.datumCode=n.datumCode.slice(2)),(n.datumCode==="new_zealand_geodetic_datum_1949"||n.datumCode==="new_zealand_1949")&&(n.datumCode="nzgd49"),(n.datumCode==="wgs_1984"||n.datumCode==="world_geodetic_system_1984")&&(n.PROJECTION==="Mercator_Auxiliary_Sphere"&&(n.sphere=!0),n.datumCode="wgs84"),n.datumCode.slice(-6)==="_ferro"&&(n.datumCode=n.datumCode.slice(0,-6)),n.datumCode.slice(-8)==="_jakarta"&&(n.datumCode=n.datumCode.slice(0,-8)),~n.datumCode.indexOf("belge")&&(n.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(n.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),n.ellps.toLowerCase().slice(0,13)==="international"&&(n.ellps="intl"),n.a=a.DATUM.SPHEROID.a,n.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(n.datum_params=a.DATUM.TOWGS84),~n.datumCode.indexOf("osgb_1936")&&(n.datumCode="osgb36"),~n.datumCode.indexOf("osni_1952")&&(n.datumCode="osni52"),(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965"))&&(n.datumCode="ire65"),n.datumCode==="ch1903+"&&(n.datumCode="ch1903"),~n.datumCode.indexOf("israel")&&(n.datumCode="isr93")),n.b&&!isFinite(n.b)&&(n.b=n.a);function s(c){var v=n.to_meter||1;return c*v}var h=function(c){return Sg(n,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",an],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",an],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",an],["lat0","latitude_of_origin",an],["lat0","standard_parallel_1",an],["lat1","standard_parallel_1",an],["lat2","standard_parallel_2",an],["azimuth","Azimuth"],["alpha","azimuth",an],["srsCode","name"]];l.forEach(h),!n.long0&&n.longc&&(n.projName==="Albers_Conic_Equal_Area"||n.projName==="Lambert_Azimuthal_Equal_Area")&&(n.long0=n.longc),!n.lat_ts&&n.lat1&&(n.projName==="Stereographic_South_Pole"||n.projName==="Polar Stereographic (variant B)")&&(n.lat0=an(n.lat1>0?90:-90),n.lat_ts=n.lat1)}function wu(n){var e=Pg(n),t=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",t]);var r={};return ii(e,r),Ag(r),r}function re(n){var e=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?re[n]=so(arguments[1]):re[n]=wu(arguments[1]):re[n]=t}else if(arguments.length===1){if(Array.isArray(n))return n.map(function(i){Array.isArray(i)?re.apply(e,i):re(i)});if(typeof n=="string"){if(n in re)return re[n]}else"EPSG"in n?re["EPSG:"+n.EPSG]=n:"ESRI"in n?re["ESRI:"+n.ESRI]=n:"IAU2000"in n?re["IAU2000:"+n.IAU2000]=n:console.log(n);return}}_g(re);function Ig(n){return typeof n=="string"}function Lg(n){return n in re}var Ng=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Dg(n){return Ng.some(function(e){return n.indexOf(e)>-1})}var Fg=["3857","900913","3785","102113"];function jg(n){var e=Cn(n,"authority");if(!!e){var t=Cn(e,"epsg");return t&&Fg.indexOf(t)>-1}}function Gg(n){var e=Cn(n,"extension");if(!!e)return Cn(e,"proj4")}function kg(n){return n[0]==="+"}function qg(n){if(Ig(n)){if(Lg(n))return re[n];if(Dg(n)){var e=wu(n);if(jg(e))return re["EPSG:3857"];var t=Gg(e);return t?so(t):e}if(kg(n))return so(n)}else return n}function ih(n,e){n=n||{};var t,i;if(!e)return n;for(i in e)t=e[i],t!==void 0&&(n[i]=t);return n}function Ze(n,e,t){var i=n*e;return t/Math.sqrt(1-i*i)}function ar(n){return n<0?-1:1}function V(n){return Math.abs(n)<=Ft?n:n-ar(n)*Yi}function Ge(n,e,t){var i=n*t,r=.5*n;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(U-e))/i}function Ji(n,e){for(var t=.5*n,i,r,a=U-2*Math.atan(e),s=0;s<=15;s++)if(i=n*Math.sin(a),r=U-2*Math.atan(e*Math.pow((1-i)/(1+i),t))-a,a+=r,Math.abs(r)<=1e-10)return a;return-9999}function $g(){var n=this.b/this.a;this.es=1-n*n,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ze(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function zg(n){var e=n.x,t=n.y;if(t*We>90&&t*We<-90&&e*We>180&&e*We<-180)return null;var i,r;if(Math.abs(Math.abs(t)-U)<=W)return null;if(this.sphere)i=this.x0+this.a*this.k0*V(e-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(mt+.5*t));else{var a=Math.sin(t),s=Ge(this.e,t,a);i=this.x0+this.a*this.k0*V(e-this.long0),r=this.y0-this.a*this.k0*Math.log(s)}return n.x=i,n.y=r,n}function Ug(n){var e=n.x-this.x0,t=n.y-this.y0,i,r;if(this.sphere)r=U-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var a=Math.exp(-t/(this.a*this.k0));if(r=Ji(this.e,a),r===-9999)return null}return i=V(this.long0+e/(this.a*this.k0)),n.x=i,n.y=r,n}var Hg=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],Bg={init:$g,forward:zg,inverse:Ug,names:Hg};function Xg(){}function rh(n){return n}var Wg=["longlat","identity"],Vg={init:Xg,forward:rh,inverse:rh,names:Wg},Kg=[Bg,Vg],Gr={},Zr=[];function Ou(n,e){var t=Zr.length;return n.names?(Zr[t]=n,n.names.forEach(function(i){Gr[i.toLowerCase()]=t}),this):(console.log(e),!0)}function Zg(n){if(!n)return!1;var e=n.toLowerCase();if(typeof Gr[e]!="undefined"&&Zr[Gr[e]])return Zr[Gr[e]]}function Yg(){Kg.forEach(Ou)}var Qg={start:Yg,add:Ou,get:Zg},st={};st.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};st.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};st.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};st.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};st.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};st.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};st.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};st.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};st.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};st.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};st.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};st.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};st.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};st.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};st.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};st.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};st.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};st.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};st.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};st.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};st.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};st.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};st.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};st.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};st.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};st.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};st.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};st.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};st.hough={a:6378270,rf:297,ellipseName:"Hough"};st.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};st.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};st.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};st.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};st.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};st.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};st.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};st.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};st.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};st.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};st.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};st.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var Jg=st.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};st.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function t0(n,e,t,i){var r=n*n,a=e*e,s=(r-a)/r,h=0;i?(n*=1-s*(Eg+s*(xg+s*Tg)),r=n*n,s=0):h=Math.sqrt(s);var l=(r-a)/a;return{es:s,e:h,ep2:l}}function e0(n,e,t,i,r){if(!n){var a=Cn(st,i);a||(a=Jg),n=a.a,e=a.b,t=a.rf}return t&&!e&&(e=(1-1/t)*n),(t===0||Math.abs(n-e)<W)&&(r=!0,e=n),{a:n,b:e,rf:t,sphere:r}}var kt={};kt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};kt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};kt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};kt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};kt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};kt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};kt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};kt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};kt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};kt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};kt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};kt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};kt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};kt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};kt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};kt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};kt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function n0(n,e,t,i,r,a,s){var h={};return n===void 0||n==="none"?h.datum_type=oo:h.datum_type=mg,e&&(h.datum_params=e.map(parseFloat),(h.datum_params[0]!==0||h.datum_params[1]!==0||h.datum_params[2]!==0)&&(h.datum_type=kn),h.datum_params.length>3&&(h.datum_params[3]!==0||h.datum_params[4]!==0||h.datum_params[5]!==0||h.datum_params[6]!==0)&&(h.datum_type=qn,h.datum_params[3]*=Bi,h.datum_params[4]*=Bi,h.datum_params[5]*=Bi,h.datum_params[6]=h.datum_params[6]/1e6+1)),s&&(h.datum_type=jr,h.grids=s),h.a=t,h.b=i,h.es=r,h.ep2=a,h}var Ru={};function i0(n,e){var t=new DataView(e),i=o0(t),r=s0(t,i);r.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var a=h0(t,r,i),s={header:r,subgrids:a};return Ru[n]=s,s}function r0(n){if(n===void 0)return null;var e=n.split(",");return e.map(a0)}function a0(n){if(n.length===0)return null;var e=n[0]==="@";return e&&(n=n.slice(1)),n==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:n,mandatory:!e,grid:Ru[n]||null,isNull:!1}}function ri(n){return n/3600*Math.PI/180}function o0(n){var e=n.getInt32(8,!1);return e===11?!1:(e=n.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function s0(n,e){return{nFields:n.getInt32(8,e),nSubgridFields:n.getInt32(24,e),nSubgrids:n.getInt32(40,e),shiftType:ho(n,56,56+8).trim(),fromSemiMajorAxis:n.getFloat64(120,e),fromSemiMinorAxis:n.getFloat64(136,e),toSemiMajorAxis:n.getFloat64(152,e),toSemiMinorAxis:n.getFloat64(168,e)}}function ho(n,e,t){return String.fromCharCode.apply(null,new Uint8Array(n.buffer.slice(e,t)))}function h0(n,e,t){for(var i=176,r=[],a=0;a<e.nSubgrids;a++){var s=l0(n,i,t),h=f0(n,i,s,t),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),c=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);r.push({ll:[ri(s.lowerLongitude),ri(s.lowerLatitude)],del:[ri(s.longitudeInterval),ri(s.latitudeInterval)],lim:[l,c],count:s.gridNodeCount,cvs:u0(h)})}return r}function u0(n){return n.map(function(e){return[ri(e.longitudeShift),ri(e.latitudeShift)]})}function l0(n,e,t){return{name:ho(n,e+8,e+16).trim(),parent:ho(n,e+24,e+24+8).trim(),lowerLatitude:n.getFloat64(e+72,t),upperLatitude:n.getFloat64(e+88,t),lowerLongitude:n.getFloat64(e+104,t),upperLongitude:n.getFloat64(e+120,t),latitudeInterval:n.getFloat64(e+136,t),longitudeInterval:n.getFloat64(e+152,t),gridNodeCount:n.getInt32(e+168,t)}}function f0(n,e,t,i){for(var r=e+176,a=16,s=[],h=0;h<t.gridNodeCount;h++){var l={latitudeShift:n.getFloat32(r+h*a,i),longitudeShift:n.getFloat32(r+h*a+4,i),latitudeAccuracy:n.getFloat32(r+h*a+8,i),longitudeAccuracy:n.getFloat32(r+h*a+12,i)};s.push(l)}return s}function Ve(n,e){if(!(this instanceof Ve))return new Ve(n);e=e||function(c){if(c)throw c};var t=qg(n);if(typeof t!="object"){e(n);return}var i=Ve.projections.get(t.projName);if(!i){e(n);return}if(t.datumCode&&t.datumCode!=="none"){var r=Cn(kt,t.datumCode);r&&(t.datum_params=t.datum_params||(r.towgs84?r.towgs84.split(","):null),t.ellps=r.ellipse,t.datumName=r.datumName?r.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var a=e0(t.a,t.b,t.rf,t.ellps,t.sphere),s=t0(a.a,a.b,a.rf,t.R_A),h=r0(t.nadgrids),l=t.datum||n0(t.datumCode,t.datum_params,a.a,a.b,s.es,s.ep2,h);ih(this,t),ih(this,i),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),e(null,this)}Ve.projections=Qg;Ve.projections.start();function c0(n,e){return n.datum_type!==e.datum_type||n.a!==e.a||Math.abs(n.es-e.es)>5e-11?!1:n.datum_type===kn?n.datum_params[0]===e.datum_params[0]&&n.datum_params[1]===e.datum_params[1]&&n.datum_params[2]===e.datum_params[2]:n.datum_type===qn?n.datum_params[0]===e.datum_params[0]&&n.datum_params[1]===e.datum_params[1]&&n.datum_params[2]===e.datum_params[2]&&n.datum_params[3]===e.datum_params[3]&&n.datum_params[4]===e.datum_params[4]&&n.datum_params[5]===e.datum_params[5]&&n.datum_params[6]===e.datum_params[6]:!0}function Pu(n,e,t){var i=n.x,r=n.y,a=n.z?n.z:0,s,h,l,c;if(r<-U&&r>-1.001*U)r=-U;else if(r>U&&r<1.001*U)r=U;else{if(r<-U)return{x:-1/0,y:-1/0,z:n.z};if(r>U)return{x:1/0,y:1/0,z:n.z}}return i>Math.PI&&(i-=2*Math.PI),h=Math.sin(r),c=Math.cos(r),l=h*h,s=t/Math.sqrt(1-e*l),{x:(s+a)*c*Math.cos(i),y:(s+a)*c*Math.sin(i),z:(s*(1-e)+a)*h}}function bu(n,e,t,i){var r=1e-12,a=r*r,s=30,h,l,c,v,_,m,T,x,w,S,I,k,F,j=n.x,H=n.y,p=n.z?n.z:0,Z,K,ht;if(h=Math.sqrt(j*j+H*H),l=Math.sqrt(j*j+H*H+p*p),h/t<r){if(Z=0,l/t<r)return K=U,ht=-i,{x:n.x,y:n.y,z:n.z}}else Z=Math.atan2(H,j);c=p/l,v=h/l,_=1/Math.sqrt(1-e*(2-e)*v*v),x=v*(1-e)*_,w=c*_,F=0;do F++,T=t/Math.sqrt(1-e*w*w),ht=h*x+p*w-T*(1-e*w*w),m=e*T/(T+ht),_=1/Math.sqrt(1-m*(2-m)*v*v),S=v*(1-m)*_,I=c*_,k=I*x-S*w,x=S,w=I;while(k*k>a&&F<s);return K=Math.atan(I/Math.abs(S)),{x:Z,y:K,z:ht}}function d0(n,e,t){if(e===kn)return{x:n.x+t[0],y:n.y+t[1],z:n.z+t[2]};if(e===qn){var i=t[0],r=t[1],a=t[2],s=t[3],h=t[4],l=t[5],c=t[6];return{x:c*(n.x-l*n.y+h*n.z)+i,y:c*(l*n.x+n.y-s*n.z)+r,z:c*(-h*n.x+s*n.y+n.z)+a}}}function p0(n,e,t){if(e===kn)return{x:n.x-t[0],y:n.y-t[1],z:n.z-t[2]};if(e===qn){var i=t[0],r=t[1],a=t[2],s=t[3],h=t[4],l=t[5],c=t[6],v=(n.x-i)/c,_=(n.y-r)/c,m=(n.z-a)/c;return{x:v+l*_-h*m,y:-l*v+_+s*m,z:h*v-s*_+m}}}function Lr(n){return n===kn||n===qn}function v0(n,e,t){if(c0(n,e)||n.datum_type===oo||e.datum_type===oo)return t;var i=n.a,r=n.es;if(n.datum_type===jr){var a=ah(n,!1,t);if(a!==0)return;i=Js,r=th}var s=e.a,h=e.b,l=e.es;if(e.datum_type===jr&&(s=Js,h=Mg,l=th),r===l&&i===s&&!Lr(n.datum_type)&&!Lr(e.datum_type))return t;if(t=Pu(t,r,i),Lr(n.datum_type)&&(t=d0(t,n.datum_type,n.datum_params)),Lr(e.datum_type)&&(t=p0(t,e.datum_type,e.datum_params)),t=bu(t,l,s,h),e.datum_type===jr){var c=ah(e,!0,t);if(c!==0)return}return t}function ah(n,e,t){if(n.grids===null||n.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var i={x:-t.x,y:t.y},r={x:Number.NaN,y:Number.NaN},a=[],s=0;s<n.grids.length;s++){var h=n.grids[s];if(a.push(h.name),h.isNull){r=i;break}if(h.grid===null){if(h.mandatory)return console.log("Unable to find mandatory grid '"+h.name+"'"),-1;continue}var l=h.grid.subgrids[0],c=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,v=l.ll[0]-c,_=l.ll[1]-c,m=l.ll[0]+(l.lim[0]-1)*l.del[0]+c,T=l.ll[1]+(l.lim[1]-1)*l.del[1]+c;if(!(_>i.y||v>i.x||T<i.y||m<i.x)&&(r=g0(i,e,l),!isNaN(r.x)))break}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*We+" "+i.y*We+" tried: '"+a+"'"),-1):(t.x=-r.x,t.y=r.y,0)}function g0(n,e,t){var i={x:Number.NaN,y:Number.NaN};if(isNaN(n.x))return i;var r={x:n.x,y:n.y};r.x-=t.ll[0],r.y-=t.ll[1],r.x=V(r.x-Math.PI)+Math.PI;var a=oh(r,t);if(e){if(isNaN(a.x))return i;a.x=r.x-a.x,a.y=r.y-a.y;var s=9,h=1e-12,l,c;do{if(c=oh(a,t),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:r.x-(c.x+a.x),y:r.y-(c.y+a.y)},a.x+=l.x,a.y+=l.y}while(s--&&Math.abs(l.x)>h&&Math.abs(l.y)>h);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=V(a.x+t.ll[0]),i.y=a.y+t.ll[1]}else isNaN(a.x)||(i.x=n.x+a.x,i.y=n.y+a.y);return i}function oh(n,e){var t={x:n.x/e.del[0],y:n.y/e.del[1]},i={x:Math.floor(t.x),y:Math.floor(t.y)},r={x:t.x-1*i.x,y:t.y-1*i.y},a={x:Number.NaN,y:Number.NaN},s;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return a;s=i.y*e.lim[0]+i.x;var h={x:e.cvs[s][0],y:e.cvs[s][1]};s++;var l={x:e.cvs[s][0],y:e.cvs[s][1]};s+=e.lim[0];var c={x:e.cvs[s][0],y:e.cvs[s][1]};s--;var v={x:e.cvs[s][0],y:e.cvs[s][1]},_=r.x*r.y,m=r.x*(1-r.y),T=(1-r.x)*(1-r.y),x=(1-r.x)*r.y;return a.x=T*h.x+m*l.x+x*v.x+_*c.x,a.y=T*h.y+m*l.y+x*v.y+_*c.y,a}function sh(n,e,t){var i=t.x,r=t.y,a=t.z||0,s,h,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&t.z===void 0))switch(l===0?(s=i,"ew".indexOf(n.axis[l])!==-1?h="x":h="y"):l===1?(s=r,"ns".indexOf(n.axis[l])!==-1?h="y":h="x"):(s=a,h="z"),n.axis[l]){case"e":c[h]=s;break;case"w":c[h]=-s;break;case"n":c[h]=s;break;case"s":c[h]=-s;break;case"u":t[h]!==void 0&&(c.z=s);break;case"d":t[h]!==void 0&&(c.z=-s);break;default:return null}return c}function Su(n){var e={x:n[0],y:n[1]};return n.length>2&&(e.z=n[2]),n.length>3&&(e.m=n[3]),e}function y0(n){hh(n.x),hh(n.y)}function hh(n){if(typeof Number.isFinite=="function"){if(Number.isFinite(n))return;throw new TypeError("coordinates must be finite numbers")}if(typeof n!="number"||n!==n||!isFinite(n))throw new TypeError("coordinates must be finite numbers")}function _0(n,e){return(n.datum.datum_type===kn||n.datum.datum_type===qn)&&e.datumCode!=="WGS84"||(e.datum.datum_type===kn||e.datum.datum_type===qn)&&n.datumCode!=="WGS84"}function Yr(n,e,t,i){var r;if(Array.isArray(t)&&(t=Su(t)),y0(t),n.datum&&e.datum&&_0(n,e)&&(r=new Ve("WGS84"),t=Yr(n,r,t,i),n=r),i&&n.axis!=="enu"&&(t=sh(n,!1,t)),n.projName==="longlat")t={x:t.x*Xt,y:t.y*Xt,z:t.z||0};else if(n.to_meter&&(t={x:t.x*n.to_meter,y:t.y*n.to_meter,z:t.z||0}),t=n.inverse(t),!t)return;if(n.from_greenwich&&(t.x+=n.from_greenwich),t=v0(n.datum,e.datum,t),!!t)return e.from_greenwich&&(t={x:t.x-e.from_greenwich,y:t.y,z:t.z||0}),e.projName==="longlat"?t={x:t.x*We,y:t.y*We,z:t.z||0}:(t=e.forward(t),e.to_meter&&(t={x:t.x/e.to_meter,y:t.y/e.to_meter,z:t.z||0})),i&&e.axis!=="enu"?sh(e,!0,t):t}var uh=Ve("WGS84");function Ka(n,e,t,i){var r,a,s;return Array.isArray(t)?(r=Yr(n,e,t,i)||{x:NaN,y:NaN},t.length>2?typeof n.name!="undefined"&&n.name==="geocent"||typeof e.name!="undefined"&&e.name==="geocent"?typeof r.z=="number"?[r.x,r.y,r.z].concat(t.splice(3)):[r.x,r.y,t[2]].concat(t.splice(3)):[r.x,r.y].concat(t.splice(2)):[r.x,r.y]):(a=Yr(n,e,t,i),s=Object.keys(t),s.length===2||s.forEach(function(h){if(typeof n.name!="undefined"&&n.name==="geocent"||typeof e.name!="undefined"&&e.name==="geocent"){if(h==="x"||h==="y"||h==="z")return}else if(h==="x"||h==="y")return;a[h]=t[h]}),a)}function lh(n){return n instanceof Ve?n:n.oProj?n.oProj:Ve(n)}function pe(n,e,t){n=lh(n);var i=!1,r;return typeof e=="undefined"?(e=n,n=uh,i=!0):(typeof e.x!="undefined"||Array.isArray(e))&&(t=e,e=n,n=uh,i=!0),e=lh(e),t?Ka(n,e,t):(r={forward:function(a,s){return Ka(n,e,a,s)},inverse:function(a,s){return Ka(e,n,a,s)}},i&&(r.oProj=e),r)}var fh=6,Au="AJSAJS",Iu="AFAFAF",ai=65,fe=73,Pe=79,qi=86,$i=90,m0={forward:Lu,inverse:M0,toPoint:Nu};function Lu(n,e){return e=e||5,T0(E0({lat:n[1],lon:n[0]}),e)}function M0(n){var e=Io(Fu(n.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function Nu(n){var e=Io(Fu(n.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Za(n){return n*(Math.PI/180)}function ch(n){return 180*(n/Math.PI)}function E0(n){var e=n.lat,t=n.lon,i=6378137,r=.00669438,a=.9996,s,h,l,c,v,_,m,T=Za(e),x=Za(t),w,S;S=Math.floor((t+180)/6)+1,t===180&&(S=60),e>=56&&e<64&&t>=3&&t<12&&(S=32),e>=72&&e<84&&(t>=0&&t<9?S=31:t>=9&&t<21?S=33:t>=21&&t<33?S=35:t>=33&&t<42&&(S=37)),s=(S-1)*6-180+3,w=Za(s),h=r/(1-r),l=i/Math.sqrt(1-r*Math.sin(T)*Math.sin(T)),c=Math.tan(T)*Math.tan(T),v=h*Math.cos(T)*Math.cos(T),_=Math.cos(T)*(x-w),m=i*((1-r/4-3*r*r/64-5*r*r*r/256)*T-(3*r/8+3*r*r/32+45*r*r*r/1024)*Math.sin(2*T)+(15*r*r/256+45*r*r*r/1024)*Math.sin(4*T)-35*r*r*r/3072*Math.sin(6*T));var I=a*l*(_+(1-c+v)*_*_*_/6+(5-18*c+c*c+72*v-58*h)*_*_*_*_*_/120)+5e5,k=a*(m+l*Math.tan(T)*(_*_/2+(5-c+9*v+4*v*v)*_*_*_*_/24+(61-58*c+c*c+600*v-330*h)*_*_*_*_*_*_/720));return e<0&&(k+=1e7),{northing:Math.round(k),easting:Math.round(I),zoneNumber:S,zoneLetter:x0(e)}}function Io(n){var e=n.northing,t=n.easting,i=n.zoneLetter,r=n.zoneNumber;if(r<0||r>60)return null;var a=.9996,s=6378137,h=.00669438,l,c=(1-Math.sqrt(1-h))/(1+Math.sqrt(1-h)),v,_,m,T,x,w,S,I,k,F=t-5e5,j=e;i<"N"&&(j-=1e7),S=(r-1)*6-180+3,l=h/(1-h),w=j/a,I=w/(s*(1-h/4-3*h*h/64-5*h*h*h/256)),k=I+(3*c/2-27*c*c*c/32)*Math.sin(2*I)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*I)+151*c*c*c/96*Math.sin(6*I),v=s/Math.sqrt(1-h*Math.sin(k)*Math.sin(k)),_=Math.tan(k)*Math.tan(k),m=l*Math.cos(k)*Math.cos(k),T=s*(1-h)/Math.pow(1-h*Math.sin(k)*Math.sin(k),1.5),x=F/(v*a);var H=k-v*Math.tan(k)/T*(x*x/2-(5+3*_+10*m-4*m*m-9*l)*x*x*x*x/24+(61+90*_+298*m+45*_*_-252*l-3*m*m)*x*x*x*x*x*x/720);H=ch(H);var p=(x-(1+2*_+m)*x*x*x/6+(5-2*m+28*_-3*m*m+8*l+24*_*_)*x*x*x*x*x/120)/Math.cos(k);p=S+ch(p);var Z;if(n.accuracy){var K=Io({northing:n.northing+n.accuracy,easting:n.easting+n.accuracy,zoneLetter:n.zoneLetter,zoneNumber:n.zoneNumber});Z={top:K.lat,right:K.lon,bottom:H,left:p}}else Z={lat:H,lon:p};return Z}function x0(n){var e="Z";return 84>=n&&n>=72?e="X":72>n&&n>=64?e="W":64>n&&n>=56?e="V":56>n&&n>=48?e="U":48>n&&n>=40?e="T":40>n&&n>=32?e="S":32>n&&n>=24?e="R":24>n&&n>=16?e="Q":16>n&&n>=8?e="P":8>n&&n>=0?e="N":0>n&&n>=-8?e="M":-8>n&&n>=-16?e="L":-16>n&&n>=-24?e="K":-24>n&&n>=-32?e="J":-32>n&&n>=-40?e="H":-40>n&&n>=-48?e="G":-48>n&&n>=-56?e="F":-56>n&&n>=-64?e="E":-64>n&&n>=-72?e="D":-72>n&&n>=-80&&(e="C"),e}function T0(n,e){var t="00000"+n.easting,i="00000"+n.northing;return n.zoneNumber+n.zoneLetter+C0(n.easting,n.northing,n.zoneNumber)+t.substr(t.length-5,e)+i.substr(i.length-5,e)}function C0(n,e,t){var i=Du(t),r=Math.floor(n/1e5),a=Math.floor(e/1e5)%20;return w0(r,a,i)}function Du(n){var e=n%fh;return e===0&&(e=fh),e}function w0(n,e,t){var i=t-1,r=Au.charCodeAt(i),a=Iu.charCodeAt(i),s=r+n-1,h=a+e,l=!1;s>$i&&(s=s-$i+ai-1,l=!0),(s===fe||r<fe&&s>fe||(s>fe||r<fe)&&l)&&s++,(s===Pe||r<Pe&&s>Pe||(s>Pe||r<Pe)&&l)&&(s++,s===fe&&s++),s>$i&&(s=s-$i+ai-1),h>qi?(h=h-qi+ai-1,l=!0):l=!1,(h===fe||a<fe&&h>fe||(h>fe||a<fe)&&l)&&h++,(h===Pe||a<Pe&&h>Pe||(h>Pe||a<Pe)&&l)&&(h++,h===fe&&h++),h>qi&&(h=h-qi+ai-1);var c=String.fromCharCode(s)+String.fromCharCode(h);return c}function Fu(n){if(n&&n.length===0)throw"MGRSPoint coverting from nothing";for(var e=n.length,t=null,i="",r,a=0;!/[A-Z]/.test(r=n.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+n;i+=r,a++}var s=parseInt(i,10);if(a===0||a+3>e)throw"MGRSPoint bad conversion from: "+n;var h=n.charAt(a++);if(h<="A"||h==="B"||h==="Y"||h>="Z"||h==="I"||h==="O")throw"MGRSPoint zone letter "+h+" not handled: "+n;t=n.substring(a,a+=2);for(var l=Du(s),c=O0(t.charAt(0),l),v=R0(t.charAt(1),l);v<P0(h);)v+=2e6;var _=e-a;if(_%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+n;var m=_/2,T=0,x=0,w,S,I,k,F;return m>0&&(w=1e5/Math.pow(10,m),S=n.substring(a,a+m),T=parseFloat(S)*w,I=n.substring(a+m),x=parseFloat(I)*w),k=T+c,F=x+v,{easting:k,northing:F,zoneLetter:h,zoneNumber:s,accuracy:w}}function O0(n,e){for(var t=Au.charCodeAt(e-1),i=1e5,r=!1;t!==n.charCodeAt(0);){if(t++,t===fe&&t++,t===Pe&&t++,t>$i){if(r)throw"Bad character: "+n;t=ai,r=!0}i+=1e5}return i}function R0(n,e){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var t=Iu.charCodeAt(e-1),i=0,r=!1;t!==n.charCodeAt(0);){if(t++,t===fe&&t++,t===Pe&&t++,t>qi){if(r)throw"Bad character: "+n;t=ai,r=!0}i+=1e5}return i}function P0(n){var e;switch(n){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+n}function yi(n,e,t){if(!(this instanceof yi))return new yi(n,e,t);if(Array.isArray(n))this.x=n[0],this.y=n[1],this.z=n[2]||0;else if(typeof n=="object")this.x=n.x,this.y=n.y,this.z=n.z||0;else if(typeof n=="string"&&typeof e=="undefined"){var i=n.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=n,this.y=e,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}yi.fromMGRS=function(n){return new yi(Nu(n))};yi.prototype.toMGRS=function(n){return Lu([this.x,this.y],n)};var b0=1,S0=.25,dh=.046875,ph=.01953125,vh=.01068115234375,A0=.75,I0=.46875,L0=.013020833333333334,N0=.007120768229166667,D0=.3645833333333333,F0=.005696614583333333,j0=.3076171875;function ju(n){var e=[];e[0]=b0-n*(S0+n*(dh+n*(ph+n*vh))),e[1]=n*(A0-n*(dh+n*(ph+n*vh)));var t=n*n;return e[2]=t*(I0-n*(L0+n*N0)),t*=n,e[3]=t*(D0-n*F0),e[4]=t*n*j0,e}function pa(n,e,t,i){return t*=e,e*=e,i[0]*n-t*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var G0=20;function Gu(n,e,t){for(var i=1/(1-e),r=n,a=G0;a;--a){var s=Math.sin(r),h=1-e*s*s;if(h=(pa(r,s,Math.cos(r),t)-n)*(h*Math.sqrt(h))*i,r-=h,Math.abs(h)<W)return r}return r}function k0(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=ju(this.es),this.ml0=pa(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function q0(n){var e=n.x,t=n.y,i=V(e-this.long0),r,a,s,h=Math.sin(t),l=Math.cos(t);if(this.es){var v=l*i,_=Math.pow(v,2),m=this.ep2*Math.pow(l,2),T=Math.pow(m,2),x=Math.abs(l)>W?Math.tan(t):0,w=Math.pow(x,2),S=Math.pow(w,2);r=1-this.es*Math.pow(h,2),v=v/Math.sqrt(r);var I=pa(t,h,l,this.en);a=this.a*(this.k0*v*(1+_/6*(1-w+m+_/20*(5-18*w+S+14*m-58*w*m+_/42*(61+179*S-S*w-479*w)))))+this.x0,s=this.a*(this.k0*(I-this.ml0+h*i*v/2*(1+_/12*(5-w+9*m+4*T+_/30*(61+S-58*w+270*m-330*w*m+_/56*(1385+543*S-S*w-3111*w))))))+this.y0}else{var c=l*Math.sin(i);if(Math.abs(Math.abs(c)-1)<W)return 93;if(a=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,s=l*Math.cos(i)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(s),c>=1){if(c-1>W)return 93;s=0}else s=Math.acos(s);t<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return n.x=a,n.y=s,n}function $0(n){var e,t,i,r,a=(n.x-this.x0)*(1/this.a),s=(n.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,t=Gu(e,this.es,this.en),Math.abs(t)<U){var _=Math.sin(t),m=Math.cos(t),T=Math.abs(m)>W?Math.tan(t):0,x=this.ep2*Math.pow(m,2),w=Math.pow(x,2),S=Math.pow(T,2),I=Math.pow(S,2);e=1-this.es*Math.pow(_,2);var k=a*Math.sqrt(e)/this.k0,F=Math.pow(k,2);e=e*T,i=t-e*F/(1-this.es)*.5*(1-F/12*(5+3*S-9*x*S+x-4*w-F/30*(61+90*S-252*x*S+45*I+46*x-F/56*(1385+3633*S+4095*I+1574*I*S)))),r=V(this.long0+k*(1-F/6*(1+2*S+x-F/20*(5+28*S+24*I+8*x*S+6*x-F/42*(61+662*S+1320*I+720*I*S))))/m)}else i=U*ar(s),r=0;else{var h=Math.exp(a/this.k0),l=.5*(h-1/h),c=this.lat0+s/this.k0,v=Math.cos(c);e=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(l,2))),i=Math.asin(e),s<0&&(i=-i),l===0&&v===0?r=0:r=V(Math.atan2(l,v)+this.long0)}return n.x=r,n.y=i,n}var z0=["Fast_Transverse_Mercator","Fast Transverse Mercator"],kr={init:k0,forward:q0,inverse:$0,names:z0};function ku(n){var e=Math.exp(n);return e=(e-1/e)/2,e}function Fe(n,e){n=Math.abs(n),e=Math.abs(e);var t=Math.max(n,e),i=Math.min(n,e)/(t||1);return t*Math.sqrt(1+Math.pow(i,2))}function U0(n){var e=1+n,t=e-1;return t===0?n:n*Math.log(e)/t}function H0(n){var e=Math.abs(n);return e=U0(e*(1+e/(Fe(1,e)+1))),n<0?-e:e}function Lo(n,e){for(var t=2*Math.cos(2*e),i=n.length-1,r=n[i],a=0,s;--i>=0;)s=-a+t*r+n[i],a=r,r=s;return e+s*Math.sin(2*e)}function B0(n,e){for(var t=2*Math.cos(e),i=n.length-1,r=n[i],a=0,s;--i>=0;)s=-a+t*r+n[i],a=r,r=s;return Math.sin(e)*s}function X0(n){var e=Math.exp(n);return e=(e+1/e)/2,e}function qu(n,e,t){for(var i=Math.sin(e),r=Math.cos(e),a=ku(t),s=X0(t),h=2*r*s,l=-2*i*a,c=n.length-1,v=n[c],_=0,m=0,T=0,x,w;--c>=0;)x=m,w=_,m=v,_=T,v=-x+h*m-l*_+n[c],T=-w+l*m+h*_;return h=i*s,l=r*a,[h*v-l*T,h*T+l*v]}function W0(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(kr.init.apply(this),this.forward=kr.forward,this.inverse=kr.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var n=this.es/(1+Math.sqrt(1-this.es)),e=n/(2-n),t=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),t=t*e,this.cgb[1]=t*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=t*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),t=t*e,this.cgb[2]=t*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=t*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),t=t*e,this.cgb[3]=t*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=t*(1237/630+e*(-12/5+e*(-24832/14175))),t=t*e,this.cgb[4]=t*(4174/315+e*(-144838/6237)),this.cbg[4]=t*(-734/315+e*(109598/31185)),t=t*e,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=t*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=t*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),t=t*e,this.utg[2]=t*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=t*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),t=t*e,this.utg[3]=t*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=t*(49561/161280+e*(-179/168+e*(6601661/7257600))),t=t*e,this.utg[4]=t*(-4583/161280+e*(108847/3991680)),this.gtu[4]=t*(34729/80640+e*(-3418889/1995840)),t=t*e,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var i=Lo(this.cbg,this.lat0);this.Zb=-this.Qn*(i+B0(this.gtu,2*i))}function V0(n){var e=V(n.x-this.long0),t=n.y;t=Lo(this.cbg,t);var i=Math.sin(t),r=Math.cos(t),a=Math.sin(e),s=Math.cos(e);t=Math.atan2(i,s*r),e=Math.atan2(a*r,Fe(i,r*s)),e=H0(Math.tan(e));var h=qu(this.gtu,2*t,2*e);t=t+h[0],e=e+h[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*t+this.Zb)+this.y0):(l=1/0,c=1/0),n.x=l,n.y=c,n}function K0(n){var e=(n.x-this.x0)*(1/this.a),t=(n.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,e=e/this.Qn;var i,r;if(Math.abs(e)<=2.623395162778){var a=qu(this.utg,2*t,2*e);t=t+a[0],e=e+a[1],e=Math.atan(ku(e));var s=Math.sin(t),h=Math.cos(t),l=Math.sin(e),c=Math.cos(e);t=Math.atan2(s*c,Fe(l,c*h)),e=Math.atan2(l,c*h),i=V(e+this.long0),r=Lo(this.cgb,t)}else i=1/0,r=1/0;return n.x=i,n.y=r,n}var Z0=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"],qr={init:W0,forward:V0,inverse:K0,names:Z0};function Y0(n,e){if(n===void 0){if(n=Math.floor((V(e)+Math.PI)*30/Math.PI)+1,n<0)return 0;if(n>60)return 60}return n}var Q0="etmerc";function J0(){var n=Y0(this.zone,this.long0);if(n===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(n)-183)*Xt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,qr.init.apply(this),this.forward=qr.forward,this.inverse=qr.inverse}var ty=["Universal Transverse Mercator System","utm"],ey={init:J0,names:ty,dependsOn:Q0};function No(n,e){return Math.pow((1-n)/(1+n),e)}var ny=20;function iy(){var n=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*n*n),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(n/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+mt)/(Math.pow(Math.tan(.5*this.lat0+mt),this.C)*No(this.e*n,this.ratexp))}function ry(n){var e=n.x,t=n.y;return n.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+mt),this.C)*No(this.e*Math.sin(t),this.ratexp))-U,n.x=this.C*e,n}function ay(n){for(var e=1e-14,t=n.x/this.C,i=n.y,r=Math.pow(Math.tan(.5*i+mt)/this.K,1/this.C),a=ny;a>0&&(i=2*Math.atan(r*No(this.e*Math.sin(n.y),-.5*this.e))-U,!(Math.abs(i-n.y)<e));--a)n.y=i;return a?(n.x=t,n.y=i,n):null}var oy=["gauss"],Do={init:iy,forward:ry,inverse:ay,names:oy};function sy(){Do.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function hy(n){var e,t,i,r;return n.x=V(n.x-this.long0),Do.forward.apply(this,[n]),e=Math.sin(n.y),t=Math.cos(n.y),i=Math.cos(n.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*t*i),n.x=r*t*Math.sin(n.x),n.y=r*(this.cosc0*e-this.sinc0*t*i),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function uy(n){var e,t,i,r,a;if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,a=Math.sqrt(n.x*n.x+n.y*n.y)){var s=2*Math.atan2(a,this.R2);e=Math.sin(s),t=Math.cos(s),r=Math.asin(t*this.sinc0+n.y*e*this.cosc0/a),i=Math.atan2(n.x*e,a*this.cosc0*t-n.y*this.sinc0*e)}else r=this.phic0,i=0;return n.x=i,n.y=r,Do.inverse.apply(this,[n]),n.x=V(n.x+this.long0),n}var ly=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],fy={init:sy,forward:hy,inverse:uy,names:ly};function cy(n,e,t){return e*=t,Math.tan(.5*(U+n))*Math.pow((1-e)/(1+e),.5*t)}function dy(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=W&&(this.k0=.5*(1+ar(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=W&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=W&&(this.k0=.5*this.cons*Ze(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Ge(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ze(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-U,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function py(n){var e=n.x,t=n.y,i=Math.sin(t),r=Math.cos(t),a,s,h,l,c,v,_=V(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=W&&Math.abs(t+this.lat0)<=W?(n.x=NaN,n.y=NaN,n):this.sphere?(a=2*this.k0/(1+this.sinlat0*i+this.coslat0*r*Math.cos(_)),n.x=this.a*a*r*Math.sin(_)+this.x0,n.y=this.a*a*(this.coslat0*i-this.sinlat0*r*Math.cos(_))+this.y0,n):(s=2*Math.atan(this.ssfn_(t,i,this.e))-U,l=Math.cos(s),h=Math.sin(s),Math.abs(this.coslat0)<=W?(c=Ge(this.e,t*this.con,this.con*i),v=2*this.a*this.k0*c/this.cons,n.x=this.x0+v*Math.sin(e-this.long0),n.y=this.y0-this.con*v*Math.cos(e-this.long0),n):(Math.abs(this.sinlat0)<W?(a=2*this.a*this.k0/(1+l*Math.cos(_)),n.y=a*h):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*h+this.cosX0*l*Math.cos(_))),n.y=a*(this.cosX0*h-this.sinX0*l*Math.cos(_))+this.y0),n.x=a*l*Math.sin(_)+this.x0,n))}function vy(n){n.x-=this.x0,n.y-=this.y0;var e,t,i,r,a,s=Math.sqrt(n.x*n.x+n.y*n.y);if(this.sphere){var h=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,t=this.lat0,s<=W?(n.x=e,n.y=t,n):(t=Math.asin(Math.cos(h)*this.sinlat0+n.y*Math.sin(h)*this.coslat0/s),Math.abs(this.coslat0)<W?this.lat0>0?e=V(this.long0+Math.atan2(n.x,-1*n.y)):e=V(this.long0+Math.atan2(n.x,n.y)):e=V(this.long0+Math.atan2(n.x*Math.sin(h),s*this.coslat0*Math.cos(h)-n.y*this.sinlat0*Math.sin(h))),n.x=e,n.y=t,n)}else if(Math.abs(this.coslat0)<=W){if(s<=W)return t=this.lat0,e=this.long0,n.x=e,n.y=t,n;n.x*=this.con,n.y*=this.con,i=s*this.cons/(2*this.a*this.k0),t=this.con*Ji(this.e,i),e=this.con*V(this.con*this.long0+Math.atan2(n.x,-1*n.y))}else r=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=W?a=this.X0:(a=Math.asin(Math.cos(r)*this.sinX0+n.y*Math.sin(r)*this.cosX0/s),e=V(this.long0+Math.atan2(n.x*Math.sin(r),s*this.cosX0*Math.cos(r)-n.y*this.sinX0*Math.sin(r)))),t=-1*Ji(this.e,Math.tan(.5*(U+a)));return n.x=e,n.y=t,n}var gy=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],yy={init:dy,forward:py,inverse:vy,names:gy,ssfn_:cy};function _y(){var n=this.lat0;this.lambda0=this.long0;var e=Math.sin(n),t=this.a,i=this.rf,r=1/i,a=2*r-Math.pow(r,2),s=this.e=Math.sqrt(a);this.R=this.k0*t*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(n),4)),this.b0=Math.asin(e/this.alpha);var h=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+n/2)),c=Math.log((1+s*e)/(1-s*e));this.K=h-this.alpha*l+this.alpha*s/2*c}function my(n){var e=Math.log(Math.tan(Math.PI/4-n.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(n.y))/(1-this.e*Math.sin(n.y))),i=-this.alpha*(e+t)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),a=this.alpha*(n.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(a))),h=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(a));return n.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,n.x=this.R*s+this.x0,n}function My(n){for(var e=n.x-this.x0,t=n.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),h=this.lambda0+s/this.alpha,l=0,c=a,v=-1e3,_=0;Math.abs(c-v)>1e-7;){if(++_>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),v=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return n.x=h,n.y=c,n}var Ey=["somerc"],xy={init:_y,forward:my,inverse:My,names:Ey},ti=1e-7;function Ty(n){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof n.PROJECTION=="object"?Object.keys(n.PROJECTION)[0]:n.PROJECTION;return"no_uoff"in n||"no_off"in n||e.indexOf(t)!==-1}function Cy(){var n,e,t,i,r,a,s,h,l,c,v=0,_,m=0,T=0,x=0,w=0,S=0,I=0;this.no_off=Ty(this),this.no_rot="no_rot"in this;var k=!1;"alpha"in this&&(k=!0);var F=!1;if("rectified_grid_angle"in this&&(F=!0),k&&(I=this.alpha),F&&(v=this.rectified_grid_angle*Xt),k||F)m=this.longc;else if(T=this.long1,w=this.lat1,x=this.long2,S=this.lat2,Math.abs(w-S)<=ti||(n=Math.abs(w))<=ti||Math.abs(n-U)<=ti||Math.abs(Math.abs(this.lat0)-U)<=ti||Math.abs(Math.abs(S)-U)<=ti)throw new Error;var j=1-this.es;e=Math.sqrt(j),Math.abs(this.lat0)>W?(h=Math.sin(this.lat0),t=Math.cos(this.lat0),n=1-this.es*h*h,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/j),this.A=this.B*this.k0*e/n,i=this.B*e/(t*Math.sqrt(n)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(Ge(this.e,this.lat0,h),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),k||F?(k?(_=Math.asin(Math.sin(I)/i),F||(v=I)):(_=v,I=Math.asin(i*Math.sin(_))),this.lam0=m-Math.asin(.5*(r-1/r)*Math.tan(_))/this.B):(a=Math.pow(Ge(this.e,w,Math.sin(w)),this.B),s=Math.pow(Ge(this.e,S,Math.sin(S)),this.B),r=this.E/a,l=(s-a)/(s+a),c=this.E*this.E,c=(c-s*a)/(c+s*a),n=T-x,n<-Math.pi?x-=Yi:n>Math.pi&&(x+=Yi),this.lam0=V(.5*(T+x)-Math.atan(c*Math.tan(.5*this.B*(T-x))/l)/this.B),_=Math.atan(2*Math.sin(this.B*V(T-this.lam0))/(r-1/r)),v=I=Math.asin(i*Math.sin(_))),this.singam=Math.sin(_),this.cosgam=Math.cos(_),this.sinrot=Math.sin(v),this.cosrot=Math.cos(v),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(I))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*_,this.v_pole_n=this.ArB*Math.log(Math.tan(mt-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(mt+r))}function wy(n){var e={},t,i,r,a,s,h,l,c;if(n.x=n.x-this.lam0,Math.abs(Math.abs(n.y)-U)>W){if(s=this.E/Math.pow(Ge(this.e,n.y,Math.sin(n.y)),this.B),h=1/s,t=.5*(s-h),i=.5*(s+h),a=Math.sin(this.B*n.x),r=(t*this.singam-a*this.cosgam)/i,Math.abs(Math.abs(r)-1)<W)throw new Error;c=.5*this.ArB*Math.log((1-r)/(1+r)),h=Math.cos(this.B*n.x),Math.abs(h)<ti?l=this.A*n.x:l=this.ArB*Math.atan2(t*this.cosgam+a*this.singam,h)}else c=n.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*n.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Oy(n){var e,t,i,r,a,s,h,l={};if(n.x=(n.x-this.x0)*(1/this.a),n.y=(n.y-this.y0)*(1/this.a),this.no_rot?(t=n.y,e=n.x):(t=n.x*this.cosrot-n.y*this.sinrot,e=n.y*this.cosrot+n.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*t),r=.5*(i-1/i),a=.5*(i+1/i),s=Math.sin(this.BrA*e),h=(s*this.cosgam+r*this.singam)/a,Math.abs(Math.abs(h)-1)<W)l.x=0,l.y=h<0?-U:U;else{if(l.y=this.E/Math.sqrt((1+h)/(1-h)),l.y=Ji(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var Ry=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],Py={init:Cy,forward:wy,inverse:Oy,names:Ry};function by(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<W)){var n=this.b/this.a;this.e=Math.sqrt(1-n*n);var e=Math.sin(this.lat1),t=Math.cos(this.lat1),i=Ze(this.e,e,t),r=Ge(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),h=Ze(this.e,a,s),l=Ge(this.e,this.lat2,a),c=Ge(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>W?this.ns=Math.log(i/h)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Sy(n){var e=n.x,t=n.y;Math.abs(2*Math.abs(t)-Math.PI)<=W&&(t=ar(t)*(U-2*W));var i=Math.abs(Math.abs(t)-U),r,a;if(i>W)r=Ge(this.e,t,Math.sin(t)),a=this.a*this.f0*Math.pow(r,this.ns);else{if(i=t*this.ns,i<=0)return null;a=0}var s=this.ns*V(e-this.long0);return n.x=this.k0*(a*Math.sin(s))+this.x0,n.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,n}function Ay(n){var e,t,i,r,a,s=(n.x-this.x0)/this.k0,h=this.rh-(n.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+h*h),t=1):(e=-Math.sqrt(s*s+h*h),t=-1);var l=0;if(e!==0&&(l=Math.atan2(t*s,t*h)),e!==0||this.ns>0){if(t=1/this.ns,i=Math.pow(e/(this.a*this.f0),t),r=Ji(this.e,i),r===-9999)return null}else r=-U;return a=V(l/this.ns+this.long0),n.x=a,n.y=r,n}var Iy=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"],Ly={init:by,forward:Sy,inverse:Ay,names:Iy};function Ny(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Dy(n){var e,t,i,r,a,s,h,l=n.x,c=n.y,v=V(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-v*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(i)),a=Math.asin(Math.cos(t)*Math.sin(i)/Math.cos(r)),s=this.n*a,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),n.y=h*Math.cos(s)/1,n.x=h*Math.sin(s)/1,this.czech||(n.y*=-1,n.x*=-1),n}function Fy(n){var e,t,i,r,a,s,h,l,c=n.x;n.x=n.y,n.y=c,this.czech||(n.y*=-1,n.x*=-1),s=Math.sqrt(n.x*n.x+n.y*n.y),a=Math.atan2(n.y,n.x),r=a/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),t=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),n.x=this.long0-t/this.alfa,h=e,l=0;var v=0;do n.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.e/2))-this.s45),Math.abs(h-n.y)<1e-10&&(l=1),h=n.y,v+=1;while(l===0&&v<15);return v>=15?null:n}var jy=["Krovak","krovak"],Gy={init:Ny,forward:Dy,inverse:Fy,names:jy};function ae(n,e,t,i,r){return n*r-e*Math.sin(2*r)+t*Math.sin(4*r)-i*Math.sin(6*r)}function or(n){return 1-.25*n*(1+n/16*(3+1.25*n))}function sr(n){return .375*n*(1+.25*n*(1+.46875*n))}function hr(n){return .05859375*n*n*(1+.75*n)}function ur(n){return n*n*n*(35/3072)}function _i(n,e,t){var i=e*t;return n/Math.sqrt(1-i*i)}function Ei(n){return Math.abs(n)<U?n:n-ar(n)*Math.PI}function Qr(n,e,t,i,r){var a,s;a=n/e;for(var h=0;h<15;h++)if(s=(n-(e*a-t*Math.sin(2*a)+i*Math.sin(4*a)-r*Math.sin(6*a)))/(e-2*t*Math.cos(2*a)+4*i*Math.cos(4*a)-6*r*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function ky(){this.sphere||(this.e0=or(this.es),this.e1=sr(this.es),this.e2=hr(this.es),this.e3=ur(this.es),this.ml0=this.a*ae(this.e0,this.e1,this.e2,this.e3,this.lat0))}function qy(n){var e,t,i=n.x,r=n.y;if(i=V(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),t=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var a=Math.sin(r),s=Math.cos(r),h=_i(this.a,this.e,a),l=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),v=c*c,_=this.es*s*s/(1-this.es),m=this.a*ae(this.e0,this.e1,this.e2,this.e3,r);e=h*c*(1-v*l*(1/6-(8-l+8*_)*v/120)),t=m-this.ml0+h*a/s*v*(.5+(5-l+6*_)*v/24)}return n.x=e+this.x0,n.y=t+this.y0,n}function $y(n){n.x-=this.x0,n.y-=this.y0;var e=n.x/this.a,t=n.y/this.a,i,r;if(this.sphere){var a=t+this.lat0;i=Math.asin(Math.sin(a)*Math.cos(e)),r=Math.atan2(Math.tan(e),Math.cos(a))}else{var s=this.ml0/this.a+t,h=Qr(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(h)-U)<=W)return n.x=this.long0,n.y=U,t<0&&(n.y*=-1),n;var l=_i(this.a,this.e,Math.sin(h)),c=l*l*l/this.a/this.a*(1-this.es),v=Math.pow(Math.tan(h),2),_=e*this.a/l,m=_*_;i=h-l*Math.tan(h)/c*_*_*(.5-(1+3*v)*_*_/24),r=_*(1-m*(v/3+(1+3*v)*v*m/15))/Math.cos(h)}return n.x=V(r+this.long0),n.y=Ei(i),n}var zy=["Cassini","Cassini_Soldner","cass"],Uy={init:ky,forward:qy,inverse:$y,names:zy};function En(n,e){var t;return n>1e-7?(t=n*e,(1-n*n)*(e/(1-t*t)-.5/n*Math.log((1-t)/(1+t)))):2*e}var Hy=1,By=2,Xy=3,Wy=4;function Vy(){var n=Math.abs(this.lat0);if(Math.abs(n-U)<W?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<W?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=En(this.e,1),this.mmf=.5/(1-this.es),this.apa=i_(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=En(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Ky(n){var e,t,i,r,a,s,h,l,c,v,_=n.x,m=n.y;if(_=V(_-this.long0),this.sphere){if(a=Math.sin(m),v=Math.cos(m),i=Math.cos(_),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+v*i:1+this.sinph0*a+this.cosph0*v*i,t<=W)return null;t=Math.sqrt(2/t),e=t*v*Math.sin(_),t*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*v*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(m+this.lat0)<W)return null;t=mt-m*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),e=t*Math.sin(_),t*=i}}else{switch(h=0,l=0,c=0,i=Math.cos(_),r=Math.sin(_),a=Math.sin(m),s=En(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=s/this.qp,l=Math.sqrt(1-h*h)),this.mode){case this.OBLIQ:c=1+this.sinb1*h+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=U+m,s=this.qp-s;break;case this.S_POLE:c=m-U,s=this.qp+s;break}if(Math.abs(c)<W)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?t=this.ymf*c*(this.cosb1*h-this.sinb1*l*i):t=(c=Math.sqrt(2/(1+l*i)))*h*this.ymf,e=this.xmf*c*l*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*r,t=i*(this.mode===this.S_POLE?c:-c)):e=t=0;break}}return n.x=this.a*e+this.x0,n.y=this.a*t+this.y0,n}function Zy(n){n.x-=this.x0,n.y-=this.y0;var e=n.x/this.a,t=n.y/this.a,i,r,a,s,h,l,c;if(this.sphere){var v=0,_,m=0;if(_=Math.sqrt(e*e+t*t),r=_*.5,r>1)return null;switch(r=2*Math.asin(r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=Math.sin(r),v=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(_)<=W?0:Math.asin(t*m/_),e*=m,t=v*_;break;case this.OBLIQ:r=Math.abs(_)<=W?this.lat0:Math.asin(v*this.sinph0+t*m*this.cosph0/_),e*=m*this.cosph0,t=(v-Math.sin(r)*this.sinph0)*_;break;case this.N_POLE:t=-t,r=U-r;break;case this.S_POLE:r-=U;break}i=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,t)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,t*=this.dd,l=Math.sqrt(e*e+t*t),l<W)return n.x=this.long0,n.y=this.lat0,n;s=2*Math.asin(.5*l/this.rq),a=Math.cos(s),e*=s=Math.sin(s),this.mode===this.OBLIQ?(c=a*this.sinb1+t*s*this.cosb1/l,h=this.qp*c,t=l*this.cosb1*a-t*this.sinb1*s):(c=t*s/l,h=this.qp*c,t=l*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),h=e*e+t*t,!h)return n.x=this.long0,n.y=this.lat0,n;c=1-h/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(e,t),r=r_(Math.asin(c),this.apa)}return n.x=V(this.long0+i),n.y=r,n}var Yy=.3333333333333333,Qy=.17222222222222222,Jy=.10257936507936508,t_=.06388888888888888,e_=.0664021164021164,n_=.016415012942191543;function i_(n){var e,t=[];return t[0]=n*Yy,e=n*n,t[0]+=e*Qy,t[1]=e*t_,e*=n,t[0]+=e*Jy,t[1]+=e*e_,t[2]=e*n_,t}function r_(n,e){var t=n+n;return n+e[0]*Math.sin(t)+e[1]*Math.sin(t+t)+e[2]*Math.sin(t+t+t)}var a_=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],o_={init:Vy,forward:Ky,inverse:Zy,names:a_,S_POLE:Hy,N_POLE:By,EQUIT:Xy,OBLIQ:Wy};function wn(n){return Math.abs(n)>1&&(n=n>1?1:-1),Math.asin(n)}function s_(){Math.abs(this.lat1+this.lat2)<W||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ze(this.e3,this.sin_po,this.cos_po),this.qs1=En(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ze(this.e3,this.sin_po,this.cos_po),this.qs2=En(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=En(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>W?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function h_(n){var e=n.x,t=n.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var i=En(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,a=this.ns0*V(e-this.long0),s=r*Math.sin(a)+this.x0,h=this.rh-r*Math.cos(a)+this.y0;return n.x=s,n.y=h,n}function u_(n){var e,t,i,r,a,s;return n.x-=this.x0,n.y=this.rh-n.y+this.y0,this.ns0>=0?(e=Math.sqrt(n.x*n.x+n.y*n.y),i=1):(e=-Math.sqrt(n.x*n.x+n.y*n.y),i=-1),r=0,e!==0&&(r=Math.atan2(i*n.x,i*n.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(t=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,t)),a=V(r/this.ns0+this.long0),n.x=a,n.y=s,n}function l_(n,e){var t,i,r,a,s,h=wn(.5*e);if(n<W)return h;for(var l=n*n,c=1;c<=25;c++)if(t=Math.sin(h),i=Math.cos(h),r=n*t,a=1-r*r,s=.5*a*a/i*(e/(1-l)-t/a+.5/n*Math.log((1-r)/(1+r))),h=h+s,Math.abs(s)<=1e-7)return h;return null}var f_=["Albers_Conic_Equal_Area","Albers","aea"],c_={init:s_,forward:h_,inverse:u_,names:f_,phi1z:l_};function d_(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function p_(n){var e,t,i,r,a,s,h,l,c=n.x,v=n.y;return i=V(c-this.long0),e=Math.sin(v),t=Math.cos(v),r=Math.cos(i),s=this.sin_p14*e+this.cos_p14*t*r,a=1,s>0||Math.abs(s)<=W?(h=this.x0+this.a*a*t*Math.sin(i)/s,l=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*t*r)/s):(h=this.x0+this.infinity_dist*t*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*t*r)),n.x=h,n.y=l,n}function v_(n){var e,t,i,r,a,s;return n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,(e=Math.sqrt(n.x*n.x+n.y*n.y))?(r=Math.atan2(e,this.rc),t=Math.sin(r),i=Math.cos(r),s=wn(i*this.sin_p14+n.y*t*this.cos_p14/e),a=Math.atan2(n.x*t,e*this.cos_p14*i-n.y*this.sin_p14*t),a=V(this.long0+a)):(s=this.phic0,a=0),n.x=a,n.y=s,n}var g_=["gnom"],y_={init:d_,forward:p_,inverse:v_,names:g_};function __(n,e){var t=1-(1-n*n)/(2*n)*Math.log((1-n)/(1+n));if(Math.abs(Math.abs(e)-t)<1e-6)return e<0?-1*U:U;for(var i=Math.asin(.5*e),r,a,s,h,l=0;l<30;l++)if(a=Math.sin(i),s=Math.cos(i),h=n*a,r=Math.pow(1-h*h,2)/(2*s)*(e/(1-n*n)-a/(1-h*h)+.5/n*Math.log((1-h)/(1+h))),i+=r,Math.abs(r)<=1e-10)return i;return NaN}function m_(){this.sphere||(this.k0=Ze(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function M_(n){var e=n.x,t=n.y,i,r,a=V(e-this.long0);if(this.sphere)i=this.x0+this.a*a*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var s=En(this.e,Math.sin(t));i=this.x0+this.a*this.k0*a,r=this.y0+this.a*s*.5/this.k0}return n.x=i,n.y=r,n}function E_(n){n.x-=this.x0,n.y-=this.y0;var e,t;return this.sphere?(e=V(this.long0+n.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(n.y/this.a*Math.cos(this.lat_ts))):(t=__(this.e,2*n.y*this.k0/this.a),e=V(this.long0+n.x/(this.a*this.k0))),n.x=e,n.y=t,n}var x_=["cea"],T_={init:m_,forward:M_,inverse:E_,names:x_};function C_(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function w_(n){var e=n.x,t=n.y,i=V(e-this.long0),r=Ei(t-this.lat0);return n.x=this.x0+this.a*i*this.rc,n.y=this.y0+this.a*r,n}function O_(n){var e=n.x,t=n.y;return n.x=V(this.long0+(e-this.x0)/(this.a*this.rc)),n.y=Ei(this.lat0+(t-this.y0)/this.a),n}var R_=["Equirectangular","Equidistant_Cylindrical","eqc"],P_={init:C_,forward:w_,inverse:O_,names:R_},gh=20;function b_(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=or(this.es),this.e1=sr(this.es),this.e2=hr(this.es),this.e3=ur(this.es),this.ml0=this.a*ae(this.e0,this.e1,this.e2,this.e3,this.lat0)}function S_(n){var e=n.x,t=n.y,i,r,a,s=V(e-this.long0);if(a=s*Math.sin(t),this.sphere)Math.abs(t)<=W?(i=this.a*s,r=-1*this.a*this.lat0):(i=this.a*Math.sin(a)/Math.tan(t),r=this.a*(Ei(t-this.lat0)+(1-Math.cos(a))/Math.tan(t)));else if(Math.abs(t)<=W)i=this.a*s,r=-1*this.ml0;else{var h=_i(this.a,this.e,Math.sin(t))/Math.tan(t);i=h*Math.sin(a),r=this.a*ae(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+h*(1-Math.cos(a))}return n.x=i+this.x0,n.y=r+this.y0,n}function A_(n){var e,t,i,r,a,s,h,l,c;if(i=n.x-this.x0,r=n.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=W)e=V(i/this.a+this.long0),t=0;else{s=this.lat0+r/this.a,h=i*i/this.a/this.a+s*s,l=s;var v;for(a=gh;a;--a)if(v=Math.tan(l),c=-1*(s*(l*v+1)-l-.5*(l*l+h)*v)/((l-s)/v-1),l+=c,Math.abs(c)<=W){t=l;break}e=V(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(t))}else if(Math.abs(r+this.ml0)<=W)t=0,e=V(this.long0+i/this.a);else{s=(this.ml0+r)/this.a,h=i*i/this.a/this.a+s*s,l=s;var _,m,T,x,w;for(a=gh;a;--a)if(w=this.e*Math.sin(l),_=Math.sqrt(1-w*w)*Math.tan(l),m=this.a*ae(this.e0,this.e1,this.e2,this.e3,l),T=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),x=m/this.a,c=(s*(_*x+1)-x-.5*_*(x*x+h))/(this.es*Math.sin(2*l)*(x*x+h-2*s*x)/(4*_)+(s-x)*(_*T-2/Math.sin(2*l))-T),l-=c,Math.abs(c)<=W){t=l;break}_=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),e=V(this.long0+Math.asin(i*_/this.a)/Math.sin(t))}return n.x=e,n.y=t,n}var I_=["Polyconic","poly"],L_={init:b_,forward:S_,inverse:A_,names:I_};function N_(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function D_(n){var e,t=n.x,i=n.y,r=i-this.lat0,a=t-this.long0,s=r/Bi*1e-5,h=a,l=1,c=0;for(e=1;e<=10;e++)l=l*s,c=c+this.A[e]*l;var v=c,_=h,m=1,T=0,x,w,S=0,I=0;for(e=1;e<=6;e++)x=m*v-T*_,w=T*v+m*_,m=x,T=w,S=S+this.B_re[e]*m-this.B_im[e]*T,I=I+this.B_im[e]*m+this.B_re[e]*T;return n.x=I*this.a+this.x0,n.y=S*this.a+this.y0,n}function F_(n){var e,t=n.x,i=n.y,r=t-this.x0,a=i-this.y0,s=a/this.a,h=r/this.a,l=1,c=0,v,_,m=0,T=0;for(e=1;e<=6;e++)v=l*s-c*h,_=c*s+l*h,l=v,c=_,m=m+this.C_re[e]*l-this.C_im[e]*c,T=T+this.C_im[e]*l+this.C_re[e]*c;for(var x=0;x<this.iterations;x++){var w=m,S=T,I,k,F=s,j=h;for(e=2;e<=6;e++)I=w*m-S*T,k=S*m+w*T,w=I,S=k,F=F+(e-1)*(this.B_re[e]*w-this.B_im[e]*S),j=j+(e-1)*(this.B_im[e]*w+this.B_re[e]*S);w=1,S=0;var H=this.B_re[1],p=this.B_im[1];for(e=2;e<=6;e++)I=w*m-S*T,k=S*m+w*T,w=I,S=k,H=H+e*(this.B_re[e]*w-this.B_im[e]*S),p=p+e*(this.B_im[e]*w+this.B_re[e]*S);var Z=H*H+p*p;m=(F*H+j*p)/Z,T=(j*H-F*p)/Z}var K=m,ht=T,dt=1,yt=0;for(e=1;e<=9;e++)dt=dt*K,yt=yt+this.D[e]*dt;var pt=this.lat0+yt*Bi*1e5,Ut=this.long0+ht;return n.x=Ut,n.y=pt,n}var j_=["New_Zealand_Map_Grid","nzmg"],G_={init:N_,forward:D_,inverse:F_,names:j_};function k_(){}function q_(n){var e=n.x,t=n.y,i=V(e-this.long0),r=this.x0+this.a*i,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return n.x=r,n.y=a,n}function $_(n){n.x-=this.x0,n.y-=this.y0;var e=V(this.long0+n.x/this.a),t=2.5*(Math.atan(Math.exp(.8*n.y/this.a))-Math.PI/4);return n.x=e,n.y=t,n}var z_=["Miller_Cylindrical","mill"],U_={init:k_,forward:q_,inverse:$_,names:z_},H_=20;function B_(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=ju(this.es)}function X_(n){var e,t,i=n.x,r=n.y;if(i=V(i-this.long0),this.sphere){if(!this.m)r=this.n!==1?Math.asin(this.n*Math.sin(r)):r;else for(var a=this.n*Math.sin(r),s=H_;s;--s){var h=(this.m*r+Math.sin(r)-a)/(this.m+Math.cos(r));if(r-=h,Math.abs(h)<W)break}e=this.a*this.C_x*i*(this.m+Math.cos(r)),t=this.a*this.C_y*r}else{var l=Math.sin(r),c=Math.cos(r);t=this.a*pa(r,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return n.x=e,n.y=t,n}function W_(n){var e,t,i,r;return n.x-=this.x0,i=n.x/this.a,n.y-=this.y0,e=n.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=wn((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=wn(Math.sin(e)/this.n)),i=V(i+this.long0),e=Ei(e)):(e=Gu(n.y/this.a,this.es,this.en),r=Math.abs(e),r<U?(r=Math.sin(e),t=this.long0+n.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=V(t)):r-W<U&&(i=this.long0)),n.x=i,n.y=e,n}var V_=["Sinusoidal","sinu"],K_={init:B_,forward:X_,inverse:W_,names:V_};function Z_(){}function Y_(n){for(var e=n.x,t=n.y,i=V(e-this.long0),r=t,a=Math.PI*Math.sin(t);;){var s=-(r+Math.sin(r)-a)/(1+Math.cos(r));if(r+=s,Math.abs(s)<W)break}r/=2,Math.PI/2-Math.abs(t)<W&&(i=0);var h=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return n.x=h,n.y=l,n}function Q_(n){var e,t;n.x-=this.x0,n.y-=this.y0,t=n.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),e=Math.asin(t);var i=V(this.long0+n.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),t=(2*e+Math.sin(2*e))/Math.PI,Math.abs(t)>1&&(t=1);var r=Math.asin(t);return n.x=i,n.y=r,n}var J_=["Mollweide","moll"],tm={init:Z_,forward:Y_,inverse:Q_,names:J_};function em(){Math.abs(this.lat1+this.lat2)<W||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=or(this.es),this.e1=sr(this.es),this.e2=hr(this.es),this.e3=ur(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ze(this.e,this.sinphi,this.cosphi),this.ml1=ae(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<W?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ze(this.e,this.sinphi,this.cosphi),this.ml2=ae(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ae(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function nm(n){var e=n.x,t=n.y,i;if(this.sphere)i=this.a*(this.g-t);else{var r=ae(this.e0,this.e1,this.e2,this.e3,t);i=this.a*(this.g-r)}var a=this.ns*V(e-this.long0),s=this.x0+i*Math.sin(a),h=this.y0+this.rh-i*Math.cos(a);return n.x=s,n.y=h,n}function im(n){n.x-=this.x0,n.y=this.rh-n.y+this.y0;var e,t,i,r;this.ns>=0?(t=Math.sqrt(n.x*n.x+n.y*n.y),e=1):(t=-Math.sqrt(n.x*n.x+n.y*n.y),e=-1);var a=0;if(t!==0&&(a=Math.atan2(e*n.x,e*n.y)),this.sphere)return r=V(this.long0+a/this.ns),i=Ei(this.g-t/this.a),n.x=r,n.y=i,n;var s=this.g-t/this.a;return i=Qr(s,this.e0,this.e1,this.e2,this.e3),r=V(this.long0+a/this.ns),n.x=r,n.y=i,n}var rm=["Equidistant_Conic","eqdc"],am={init:em,forward:nm,inverse:im,names:rm};function om(){this.R=this.a}function sm(n){var e=n.x,t=n.y,i=V(e-this.long0),r,a;Math.abs(t)<=W&&(r=this.x0+this.R*i,a=this.y0);var s=wn(2*Math.abs(t/Math.PI));(Math.abs(i)<=W||Math.abs(Math.abs(t)-U)<=W)&&(r=this.x0,t>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var h=.5*Math.abs(Math.PI/i-i/Math.PI),l=h*h,c=Math.sin(s),v=Math.cos(s),_=v/(c+v-1),m=_*_,T=_*(2/c-1),x=T*T,w=Math.PI*this.R*(h*(_-x)+Math.sqrt(l*(_-x)*(_-x)-(x+l)*(m-x)))/(x+l);i<0&&(w=-w),r=this.x0+w;var S=l+_;return w=Math.PI*this.R*(T*S-h*Math.sqrt((x+l)*(l+1)-S*S))/(x+l),t>=0?a=this.y0+w:a=this.y0-w,n.x=r,n.y=a,n}function hm(n){var e,t,i,r,a,s,h,l,c,v,_,m,T;return n.x-=this.x0,n.y-=this.y0,_=Math.PI*this.R,i=n.x/_,r=n.y/_,a=i*i+r*r,s=-Math.abs(r)*(1+a),h=s-2*r*r+i*i,l=-2*s+1+2*r*r+a*a,T=r*r/l+(2*h*h*h/l/l/l-9*s*h/l/l)/27,c=(s-h*h/3/l)/l,v=2*Math.sqrt(-c/3),_=3*T/c/v,Math.abs(_)>1&&(_>=0?_=1:_=-1),m=Math.acos(_)/3,n.y>=0?t=(-v*Math.cos(m+Math.PI/3)-h/3/l)*Math.PI:t=-(-v*Math.cos(m+Math.PI/3)-h/3/l)*Math.PI,Math.abs(i)<W?e=this.long0:e=V(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(i*i-r*r)+a*a))/2/i),n.x=e,n.y=t,n}var um=["Van_der_Grinten_I","VanDerGrinten","vandg"],lm={init:om,forward:sm,inverse:hm,names:um};function fm(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function cm(n){var e=n.x,t=n.y,i=Math.sin(n.y),r=Math.cos(n.y),a=V(e-this.long0),s,h,l,c,v,_,m,T,x,w,S,I,k,F,j,H,p,Z,K,ht,dt,yt,pt;return this.sphere?Math.abs(this.sin_p12-1)<=W?(n.x=this.x0+this.a*(U-t)*Math.sin(a),n.y=this.y0-this.a*(U-t)*Math.cos(a),n):Math.abs(this.sin_p12+1)<=W?(n.x=this.x0+this.a*(U+t)*Math.sin(a),n.y=this.y0+this.a*(U+t)*Math.cos(a),n):(Z=this.sin_p12*i+this.cos_p12*r*Math.cos(a),H=Math.acos(Z),p=H?H/Math.sin(H):1,n.x=this.x0+this.a*p*r*Math.sin(a),n.y=this.y0+this.a*p*(this.cos_p12*i-this.sin_p12*r*Math.cos(a)),n):(s=or(this.es),h=sr(this.es),l=hr(this.es),c=ur(this.es),Math.abs(this.sin_p12-1)<=W?(v=this.a*ae(s,h,l,c,U),_=this.a*ae(s,h,l,c,t),n.x=this.x0+(v-_)*Math.sin(a),n.y=this.y0-(v-_)*Math.cos(a),n):Math.abs(this.sin_p12+1)<=W?(v=this.a*ae(s,h,l,c,U),_=this.a*ae(s,h,l,c,t),n.x=this.x0+(v+_)*Math.sin(a),n.y=this.y0+(v+_)*Math.cos(a),n):(m=i/r,T=_i(this.a,this.e,this.sin_p12),x=_i(this.a,this.e,i),w=Math.atan((1-this.es)*m+this.es*T*this.sin_p12/(x*r)),S=Math.atan2(Math.sin(a),this.cos_p12*Math.tan(w)-this.sin_p12*Math.cos(a)),S===0?K=Math.asin(this.cos_p12*Math.sin(w)-this.sin_p12*Math.cos(w)):Math.abs(Math.abs(S)-Math.PI)<=W?K=-Math.asin(this.cos_p12*Math.sin(w)-this.sin_p12*Math.cos(w)):K=Math.asin(Math.sin(a)*Math.cos(w)/Math.sin(S)),I=this.e*this.sin_p12/Math.sqrt(1-this.es),k=this.e*this.cos_p12*Math.cos(S)/Math.sqrt(1-this.es),F=I*k,j=k*k,ht=K*K,dt=ht*K,yt=dt*K,pt=yt*K,H=T*K*(1-ht*j*(1-j)/6+dt/8*F*(1-2*j)+yt/120*(j*(4-7*j)-3*I*I*(1-7*j))-pt/48*F),n.x=this.x0+H*Math.sin(S),n.y=this.y0+H*Math.cos(S),n))}function dm(n){n.x-=this.x0,n.y-=this.y0;var e,t,i,r,a,s,h,l,c,v,_,m,T,x,w,S,I,k,F,j,H,p,Z,K;return this.sphere?(e=Math.sqrt(n.x*n.x+n.y*n.y),e>2*U*this.a?void 0:(t=e/this.a,i=Math.sin(t),r=Math.cos(t),a=this.long0,Math.abs(e)<=W?s=this.lat0:(s=wn(r*this.sin_p12+n.y*i*this.cos_p12/e),h=Math.abs(this.lat0)-U,Math.abs(h)<=W?this.lat0>=0?a=V(this.long0+Math.atan2(n.x,-n.y)):a=V(this.long0-Math.atan2(-n.x,n.y)):a=V(this.long0+Math.atan2(n.x*i,e*this.cos_p12*r-n.y*this.sin_p12*i))),n.x=a,n.y=s,n)):(l=or(this.es),c=sr(this.es),v=hr(this.es),_=ur(this.es),Math.abs(this.sin_p12-1)<=W?(m=this.a*ae(l,c,v,_,U),e=Math.sqrt(n.x*n.x+n.y*n.y),T=m-e,s=Qr(T/this.a,l,c,v,_),a=V(this.long0+Math.atan2(n.x,-1*n.y)),n.x=a,n.y=s,n):Math.abs(this.sin_p12+1)<=W?(m=this.a*ae(l,c,v,_,U),e=Math.sqrt(n.x*n.x+n.y*n.y),T=e-m,s=Qr(T/this.a,l,c,v,_),a=V(this.long0+Math.atan2(n.x,n.y)),n.x=a,n.y=s,n):(e=Math.sqrt(n.x*n.x+n.y*n.y),S=Math.atan2(n.x,n.y),x=_i(this.a,this.e,this.sin_p12),I=Math.cos(S),k=this.e*this.cos_p12*I,F=-k*k/(1-this.es),j=3*this.es*(1-F)*this.sin_p12*this.cos_p12*I/(1-this.es),H=e/x,p=H-F*(1+F)*Math.pow(H,3)/6-j*(1+3*F)*Math.pow(H,4)/24,Z=1-F*p*p/2-H*p*p*p/6,w=Math.asin(this.sin_p12*Math.cos(p)+this.cos_p12*Math.sin(p)*I),a=V(this.long0+Math.asin(Math.sin(S)*Math.sin(p)/Math.cos(w))),K=Math.sin(w),s=Math.atan2((K-this.es*Z*this.sin_p12)*Math.tan(w),K*(1-this.es)),n.x=a,n.y=s,n))}var pm=["Azimuthal_Equidistant","aeqd"],vm={init:fm,forward:cm,inverse:dm,names:pm};function gm(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function ym(n){var e,t,i,r,a,s,h,l,c=n.x,v=n.y;return i=V(c-this.long0),e=Math.sin(v),t=Math.cos(v),r=Math.cos(i),s=this.sin_p14*e+this.cos_p14*t*r,a=1,(s>0||Math.abs(s)<=W)&&(h=this.a*a*t*Math.sin(i),l=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*t*r)),n.x=h,n.y=l,n}function _m(n){var e,t,i,r,a,s,h;return n.x-=this.x0,n.y-=this.y0,e=Math.sqrt(n.x*n.x+n.y*n.y),t=wn(e/this.a),i=Math.sin(t),r=Math.cos(t),s=this.long0,Math.abs(e)<=W?(h=this.lat0,n.x=s,n.y=h,n):(h=wn(r*this.sin_p14+n.y*i*this.cos_p14/e),a=Math.abs(this.lat0)-U,Math.abs(a)<=W?(this.lat0>=0?s=V(this.long0+Math.atan2(n.x,-n.y)):s=V(this.long0-Math.atan2(-n.x,n.y)),n.x=s,n.y=h,n):(s=V(this.long0+Math.atan2(n.x*i,e*this.cos_p14*r-n.y*this.sin_p14*i)),n.x=s,n.y=h,n))}var mm=["ortho"],Mm={init:gm,forward:ym,inverse:_m,names:mm},Lt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Mt={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Em(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=U-mt/2?this.face=Lt.TOP:this.lat0<=-(U-mt/2)?this.face=Lt.BOTTOM:Math.abs(this.long0)<=mt?this.face=Lt.FRONT:Math.abs(this.long0)<=U+mt?this.face=this.long0>0?Lt.RIGHT:Lt.LEFT:this.face=Lt.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function xm(n){var e={x:0,y:0},t,i,r,a,s,h,l={value:0};if(n.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(n.y)):t=n.y,i=n.x,this.face===Lt.TOP)a=U-t,i>=mt&&i<=U+mt?(l.value=Mt.AREA_0,r=i-U):i>U+mt||i<=-(U+mt)?(l.value=Mt.AREA_1,r=i>0?i-Ft:i+Ft):i>-(U+mt)&&i<=-mt?(l.value=Mt.AREA_2,r=i+U):(l.value=Mt.AREA_3,r=i);else if(this.face===Lt.BOTTOM)a=U+t,i>=mt&&i<=U+mt?(l.value=Mt.AREA_0,r=-i+U):i<mt&&i>=-mt?(l.value=Mt.AREA_1,r=-i):i<-mt&&i>=-(U+mt)?(l.value=Mt.AREA_2,r=-i-U):(l.value=Mt.AREA_3,r=i>0?-i+Ft:-i-Ft);else{var c,v,_,m,T,x,w;this.face===Lt.RIGHT?i=fi(i,+U):this.face===Lt.BACK?i=fi(i,+Ft):this.face===Lt.LEFT&&(i=fi(i,-U)),m=Math.sin(t),T=Math.cos(t),x=Math.sin(i),w=Math.cos(i),c=T*w,v=T*x,_=m,this.face===Lt.FRONT?(a=Math.acos(c),r=Nr(a,_,v,l)):this.face===Lt.RIGHT?(a=Math.acos(v),r=Nr(a,_,-c,l)):this.face===Lt.BACK?(a=Math.acos(-c),r=Nr(a,_,-v,l)):this.face===Lt.LEFT?(a=Math.acos(-v),r=Nr(a,_,c,l)):(a=r=0,l.value=Mt.AREA_0)}return h=Math.atan(12/Ft*(r+Math.acos(Math.sin(r)*Math.cos(mt))-U)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(h)*Math.cos(h))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Mt.AREA_1?h+=U:l.value===Mt.AREA_2?h+=Ft:l.value===Mt.AREA_3&&(h+=1.5*Ft),e.x=s*Math.cos(h),e.y=s*Math.sin(h),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,n.x=e.x,n.y=e.y,n}function Tm(n){var e={lam:0,phi:0},t,i,r,a,s,h,l,c,v,_={value:0};if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,i=Math.atan(Math.sqrt(n.x*n.x+n.y*n.y)),t=Math.atan2(n.y,n.x),n.x>=0&&n.x>=Math.abs(n.y)?_.value=Mt.AREA_0:n.y>=0&&n.y>=Math.abs(n.x)?(_.value=Mt.AREA_1,t-=U):n.x<0&&-n.x>=Math.abs(n.y)?(_.value=Mt.AREA_2,t=t<0?t+Ft:t-Ft):(_.value=Mt.AREA_3,t+=U),v=Ft/12*Math.tan(t),s=Math.sin(v)/(Math.cos(v)-1/Math.sqrt(2)),h=Math.atan(s),r=Math.cos(t),a=Math.tan(i),l=1-r*r*a*a*(1-Math.cos(Math.atan(1/Math.cos(h)))),l<-1?l=-1:l>1&&(l=1),this.face===Lt.TOP)c=Math.acos(l),e.phi=U-c,_.value===Mt.AREA_0?e.lam=h+U:_.value===Mt.AREA_1?e.lam=h<0?h+Ft:h-Ft:_.value===Mt.AREA_2?e.lam=h-U:e.lam=h;else if(this.face===Lt.BOTTOM)c=Math.acos(l),e.phi=c-U,_.value===Mt.AREA_0?e.lam=-h+U:_.value===Mt.AREA_1?e.lam=-h:_.value===Mt.AREA_2?e.lam=-h-U:e.lam=h<0?-h-Ft:-h+Ft;else{var m,T,x;m=l,v=m*m,v>=1?x=0:x=Math.sqrt(1-v)*Math.sin(h),v+=x*x,v>=1?T=0:T=Math.sqrt(1-v),_.value===Mt.AREA_1?(v=T,T=-x,x=v):_.value===Mt.AREA_2?(T=-T,x=-x):_.value===Mt.AREA_3&&(v=T,T=x,x=-v),this.face===Lt.RIGHT?(v=m,m=-T,T=v):this.face===Lt.BACK?(m=-m,T=-T):this.face===Lt.LEFT&&(v=m,m=T,T=-v),e.phi=Math.acos(-x)-U,e.lam=Math.atan2(T,m),this.face===Lt.RIGHT?e.lam=fi(e.lam,-U):this.face===Lt.BACK?e.lam=fi(e.lam,-Ft):this.face===Lt.LEFT&&(e.lam=fi(e.lam,+U))}if(this.es!==0){var w,S,I;w=e.phi<0?1:0,S=Math.tan(e.phi),I=this.b/Math.sqrt(S*S+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-I*I)/(this.one_minus_f*I)),w&&(e.phi=-e.phi)}return e.lam+=this.long0,n.x=e.lam,n.y=e.phi,n}function Nr(n,e,t,i){var r;return n<W?(i.value=Mt.AREA_0,r=0):(r=Math.atan2(e,t),Math.abs(r)<=mt?i.value=Mt.AREA_0:r>mt&&r<=U+mt?(i.value=Mt.AREA_1,r-=U):r>U+mt||r<=-(U+mt)?(i.value=Mt.AREA_2,r=r>=0?r-Ft:r+Ft):(i.value=Mt.AREA_3,r+=U)),r}function fi(n,e){var t=n+e;return t<-Ft?t+=Yi:t>+Ft&&(t-=Yi),t}var Cm=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],wm={init:Em,forward:xm,inverse:Tm,names:Cm},uo=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],zi=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],$u=.8487,zu=1.3523,Uu=We/5,Om=1/Uu,oi=18,Jr=function(n,e){return n[0]+e*(n[1]+e*(n[2]+e*n[3]))},Rm=function(n,e){return n[1]+e*(2*n[2]+e*3*n[3])};function Pm(n,e,t,i){for(var r=e;i;--i){var a=n(r);if(r-=a,Math.abs(a)<t)break}return r}function bm(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Sm(n){var e=V(n.x-this.long0),t=Math.abs(n.y),i=Math.floor(t*Uu);i<0?i=0:i>=oi&&(i=oi-1),t=We*(t-Om*i);var r={x:Jr(uo[i],t)*e,y:Jr(zi[i],t)};return n.y<0&&(r.y=-r.y),r.x=r.x*this.a*$u+this.x0,r.y=r.y*this.a*zu+this.y0,r}function Am(n){var e={x:(n.x-this.x0)/(this.a*$u),y:Math.abs(n.y-this.y0)/(this.a*zu)};if(e.y>=1)e.x/=uo[oi][0],e.y=n.y<0?-U:U;else{var t=Math.floor(e.y*oi);for(t<0?t=0:t>=oi&&(t=oi-1);;)if(zi[t][0]>e.y)--t;else if(zi[t+1][0]<=e.y)++t;else break;var i=zi[t],r=5*(e.y-i[0])/(zi[t+1][0]-i[0]);r=Pm(function(a){return(Jr(i,a)-e.y)/Rm(i,a)},r,W,100),e.x/=Jr(uo[t],r),e.y=(5*t+r)*Xt,n.y<0&&(e.y=-e.y)}return e.x=V(e.x+this.long0),e}var Im=["Robinson","robin"],Lm={init:bm,forward:Sm,inverse:Am,names:Im};function Nm(){this.name="geocent"}function Dm(n){var e=Pu(n,this.es,this.a);return e}function Fm(n){var e=bu(n,this.es,this.a,this.b);return e}var jm=["Geocentric","geocentric","geocent","Geocent"],Gm={init:Nm,forward:Dm,inverse:Fm,names:jm},ee={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},ji={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function km(){if(Object.keys(ji).forEach(function(t){if(typeof this[t]=="undefined")this[t]=ji[t].def;else{if(ji[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);ji[t].num&&(this[t]=parseFloat(this[t]))}ji[t].degrees&&(this[t]=this[t]*Xt)}.bind(this)),Math.abs(Math.abs(this.lat0)-U)<W?this.mode=this.lat0<0?ee.S_POLE:ee.N_POLE:Math.abs(this.lat0)<W?this.mode=ee.EQUIT:(this.mode=ee.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var n=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(n),this.sw=Math.sin(n)}function qm(n){n.x-=this.long0;var e=Math.sin(n.y),t=Math.cos(n.y),i=Math.cos(n.x),r,a;switch(this.mode){case ee.OBLIQ:a=this.sinph0*e+this.cosph0*t*i;break;case ee.EQUIT:a=t*i;break;case ee.S_POLE:a=-e;break;case ee.N_POLE:a=e;break}switch(a=this.pn1/(this.p-a),r=a*t*Math.sin(n.x),this.mode){case ee.OBLIQ:a*=this.cosph0*e-this.sinph0*t*i;break;case ee.EQUIT:a*=e;break;case ee.N_POLE:a*=-(t*i);break;case ee.S_POLE:a*=t*i;break}var s,h;return s=a*this.cg+r*this.sg,h=1/(s*this.sw*this.h1+this.cw),r=(r*this.cg-a*this.sg)*this.cw*h,a=s*h,n.x=r*this.a,n.y=a*this.a,n}function $m(n){n.x/=this.a,n.y/=this.a;var e={x:n.x,y:n.y},t,i,r;r=1/(this.pn1-n.y*this.sw),t=this.pn1*n.x*r,i=this.pn1*n.y*this.cw*r,n.x=t*this.cg+i*this.sg,n.y=i*this.cg-t*this.sg;var a=Fe(n.x,n.y);if(Math.abs(a)<W)e.x=0,e.y=n.y;else{var s,h;switch(h=1-a*a*this.pfact,h=(this.p-Math.sqrt(h))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-h*h),this.mode){case ee.OBLIQ:e.y=Math.asin(s*this.sinph0+n.y*h*this.cosph0/a),n.y=(s-this.sinph0*Math.sin(e.y))*a,n.x*=h*this.cosph0;break;case ee.EQUIT:e.y=Math.asin(n.y*h/a),n.y=s*a,n.x*=h;break;case ee.N_POLE:e.y=Math.asin(s),n.y=-n.y;break;case ee.S_POLE:e.y=-Math.asin(s);break}e.x=Math.atan2(n.x,n.y)}return n.x=e.x+this.long0,n.y=e.y,n}var zm=["Tilted_Perspective","tpers"],Um={init:km,forward:qm,inverse:$m,names:zm};function Hm(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var n=1-this.es,e=1/n;this.radius_p=Math.sqrt(n),this.radius_p2=n,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Bm(n){var e=n.x,t=n.y,i,r,a,s;if(e=e-this.long0,this.shape==="ellipse"){t=Math.atan(this.radius_p2*Math.tan(t));var h=this.radius_p/Fe(this.radius_p*Math.cos(t),Math.sin(t));if(r=h*Math.cos(e)*Math.cos(t),a=h*Math.sin(e)*Math.cos(t),s=h*Math.sin(t),(this.radius_g-r)*r-a*a-s*s*this.radius_p_inv2<0)return n.x=Number.NaN,n.y=Number.NaN,n;i=this.radius_g-r,this.flip_axis?(n.x=this.radius_g_1*Math.atan(a/Fe(s,i)),n.y=this.radius_g_1*Math.atan(s/i)):(n.x=this.radius_g_1*Math.atan(a/i),n.y=this.radius_g_1*Math.atan(s/Fe(a,i)))}else this.shape==="sphere"&&(i=Math.cos(t),r=Math.cos(e)*i,a=Math.sin(e)*i,s=Math.sin(t),i=this.radius_g-r,this.flip_axis?(n.x=this.radius_g_1*Math.atan(a/Fe(s,i)),n.y=this.radius_g_1*Math.atan(s/i)):(n.x=this.radius_g_1*Math.atan(a/i),n.y=this.radius_g_1*Math.atan(s/Fe(a,i))));return n.x=n.x*this.a,n.y=n.y*this.a,n}function Xm(n){var e=-1,t=0,i=0,r,a,s,h;if(n.x=n.x/this.a,n.y=n.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*Fe(1,i)):(t=Math.tan(n.x/this.radius_g_1),i=Math.tan(n.y/this.radius_g_1)*Fe(1,t));var l=i/this.radius_p;if(r=t*t+l*l+e*e,a=2*this.radius_g*e,s=a*a-4*r*this.C,s<0)return n.x=Number.NaN,n.y=Number.NaN,n;h=(-a-Math.sqrt(s))/(2*r),e=this.radius_g+h*e,t*=h,i*=h,n.x=Math.atan2(t,e),n.y=Math.atan(i*Math.cos(n.x)/e),n.y=Math.atan(this.radius_p_inv2*Math.tan(n.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*Math.sqrt(1+i*i)):(t=Math.tan(n.x/this.radius_g_1),i=Math.tan(n.y/this.radius_g_1)*Math.sqrt(1+t*t)),r=t*t+i*i+e*e,a=2*this.radius_g*e,s=a*a-4*r*this.C,s<0)return n.x=Number.NaN,n.y=Number.NaN,n;h=(-a-Math.sqrt(s))/(2*r),e=this.radius_g+h*e,t*=h,i*=h,n.x=Math.atan2(t,e),n.y=Math.atan(i*Math.cos(n.x)/e)}return n.x=n.x+this.long0,n}var Wm=["Geostationary Satellite View","Geostationary_Satellite","geos"],Vm={init:Hm,forward:Bm,inverse:Xm,names:Wm};function Km(n){n.Proj.projections.add(kr),n.Proj.projections.add(qr),n.Proj.projections.add(ey),n.Proj.projections.add(fy),n.Proj.projections.add(yy),n.Proj.projections.add(xy),n.Proj.projections.add(Py),n.Proj.projections.add(Ly),n.Proj.projections.add(Gy),n.Proj.projections.add(Uy),n.Proj.projections.add(o_),n.Proj.projections.add(c_),n.Proj.projections.add(y_),n.Proj.projections.add(T_),n.Proj.projections.add(P_),n.Proj.projections.add(L_),n.Proj.projections.add(G_),n.Proj.projections.add(U_),n.Proj.projections.add(K_),n.Proj.projections.add(tm),n.Proj.projections.add(am),n.Proj.projections.add(lm),n.Proj.projections.add(vm),n.Proj.projections.add(Mm),n.Proj.projections.add(wm),n.Proj.projections.add(Lm),n.Proj.projections.add(Gm),n.Proj.projections.add(Um),n.Proj.projections.add(Vm)}pe.defaultDatum="WGS84";pe.Proj=Ve;pe.WGS84=new pe.Proj("WGS84");pe.Point=yi;pe.toPoint=Su;pe.defs=re;pe.nadgrid=i0;pe.transform=Yr;pe.mgrs=m0;pe.version="__VERSION__";Km(pe);function Zm(n){var e=Object.keys(n.defs),t=e.length,i,r;for(i=0;i<t;++i){var a=e[i];if(!Kt(a)){var s=n.defs(a),h=s.units;!h&&s.projName==="longlat"&&(h=un.DEGREES),Nh(new yo({code:a,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:h}))}}for(i=0;i<t;++i){var l=e[i],c=Kt(l);for(r=0;r<t;++r){var v=e[r],_=Kt(v);if(!Ah(l,v))if(n.defs[l]===n.defs[v])eo([c,_]);else{var m=n(l,v);Vf(c,_,Ps(c,_,m.forward),Ps(_,c,m.inverse))}}}}var Ym=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qm='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',Jm=function(n){Ym(e,n);function e(t){var i=t||{},r=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(r=i.interpolate);var a;i.attributions!==void 0?a=i.attributions:a=[Qm];var s=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",h=i.url!==void 0?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return n.call(this,{attributions:a,attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:s,interpolate:r,maxZoom:i.maxZoom!==void 0?i.maxZoom:19,opaque:i.opaque!==void 0?i.opaque:!0,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:h,wrapX:i.wrapX,zDirection:i.zDirection})||this}return e}(ca),t1=Jm,e1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Hu={exports:{}};/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */(function(n){(function(e,t){n.exports=e.document?t(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return t(i)}})(typeof window!="undefined"?window:e1,function(e,t){var i=[],r=Object.getPrototypeOf,a=i.slice,s=i.flat?function(o){return i.flat.call(o)}:function(o){return i.concat.apply([],o)},h=i.push,l=i.indexOf,c={},v=c.toString,_=c.hasOwnProperty,m=_.toString,T=m.call(Object),x={},w=function(u){return typeof u=="function"&&typeof u.nodeType!="number"&&typeof u.item!="function"},S=function(u){return u!=null&&u===u.window},I=e.document,k={type:!0,src:!0,nonce:!0,noModule:!0};function F(o,u,f){f=f||I;var d,g,y=f.createElement("script");if(y.text=o,u)for(d in k)g=u[d]||u.getAttribute&&u.getAttribute(d),g&&y.setAttribute(d,g);f.head.appendChild(y).parentNode.removeChild(y)}function j(o){return o==null?o+"":typeof o=="object"||typeof o=="function"?c[v.call(o)]||"object":typeof o}var H="3.6.0",p=function(o,u){return new p.fn.init(o,u)};p.fn=p.prototype={jquery:H,constructor:p,length:0,toArray:function(){return a.call(this)},get:function(o){return o==null?a.call(this):o<0?this[o+this.length]:this[o]},pushStack:function(o){var u=p.merge(this.constructor(),o);return u.prevObject=this,u},each:function(o){return p.each(this,o)},map:function(o){return this.pushStack(p.map(this,function(u,f){return o.call(u,f,u)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(o,u){return(u+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(o,u){return u%2}))},eq:function(o){var u=this.length,f=+o+(o<0?u:0);return this.pushStack(f>=0&&f<u?[this[f]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:i.sort,splice:i.splice},p.extend=p.fn.extend=function(){var o,u,f,d,g,y,M=arguments[0]||{},O=1,R=arguments.length,b=!1;for(typeof M=="boolean"&&(b=M,M=arguments[O]||{},O++),typeof M!="object"&&!w(M)&&(M={}),O===R&&(M=this,O--);O<R;O++)if((o=arguments[O])!=null)for(u in o)d=o[u],!(u==="__proto__"||M===d)&&(b&&d&&(p.isPlainObject(d)||(g=Array.isArray(d)))?(f=M[u],g&&!Array.isArray(f)?y=[]:!g&&!p.isPlainObject(f)?y={}:y=f,g=!1,M[u]=p.extend(b,y,d)):d!==void 0&&(M[u]=d));return M},p.extend({expando:"jQuery"+(H+Math.random()).replace(/\D/g,""),isReady:!0,error:function(o){throw new Error(o)},noop:function(){},isPlainObject:function(o){var u,f;return!o||v.call(o)!=="[object Object]"?!1:(u=r(o),u?(f=_.call(u,"constructor")&&u.constructor,typeof f=="function"&&m.call(f)===T):!0)},isEmptyObject:function(o){var u;for(u in o)return!1;return!0},globalEval:function(o,u,f){F(o,{nonce:u&&u.nonce},f)},each:function(o,u){var f,d=0;if(Z(o))for(f=o.length;d<f&&u.call(o[d],d,o[d])!==!1;d++);else for(d in o)if(u.call(o[d],d,o[d])===!1)break;return o},makeArray:function(o,u){var f=u||[];return o!=null&&(Z(Object(o))?p.merge(f,typeof o=="string"?[o]:o):h.call(f,o)),f},inArray:function(o,u,f){return u==null?-1:l.call(u,o,f)},merge:function(o,u){for(var f=+u.length,d=0,g=o.length;d<f;d++)o[g++]=u[d];return o.length=g,o},grep:function(o,u,f){for(var d,g=[],y=0,M=o.length,O=!f;y<M;y++)d=!u(o[y],y),d!==O&&g.push(o[y]);return g},map:function(o,u,f){var d,g,y=0,M=[];if(Z(o))for(d=o.length;y<d;y++)g=u(o[y],y,f),g!=null&&M.push(g);else for(y in o)g=u(o[y],y,f),g!=null&&M.push(g);return s(M)},guid:1,support:x}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=i[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(o,u){c["[object "+u+"]"]=u.toLowerCase()});function Z(o){var u=!!o&&"length"in o&&o.length,f=j(o);return w(o)||S(o)?!1:f==="array"||u===0||typeof u=="number"&&u>0&&u-1 in o}var K=function(o){var u,f,d,g,y,M,O,R,b,N,$,L,D,Y,ot,Q,qt,Gt,_e,xt="sizzle"+1*new Date,at=o.document,he=0,vt=0,It=Mr(),Ii=Mr(),yr=Mr(),me=Mr(),An=function(E,C){return E===C&&($=!0),0},In={}.hasOwnProperty,ue=[],vn=ue.pop,Re=ue.push,gn=ue.push,hs=ue.slice,Ln=function(E,C){for(var P=0,G=E.length;P<G;P++)if(E[P]===C)return P;return-1},Sa="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",_t="[\\x20\\t\\r\\n\\f]",Nn="(?:\\\\[\\da-fA-F]{1,6}"+_t+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",us="\\["+_t+"*("+Nn+")(?:"+_t+"*([*^$|!~]?=)"+_t+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Nn+"))|)"+_t+"*\\]",Aa=":("+Nn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+us+")*)|.*)\\)|)",Rl=new RegExp(_t+"+","g"),_r=new RegExp("^"+_t+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_t+"+$","g"),Pl=new RegExp("^"+_t+"*,"+_t+"*"),ls=new RegExp("^"+_t+"*([>+~]|"+_t+")"+_t+"*"),bl=new RegExp(_t+"|>"),Sl=new RegExp(Aa),Al=new RegExp("^"+Nn+"$"),mr={ID:new RegExp("^#("+Nn+")"),CLASS:new RegExp("^\\.("+Nn+")"),TAG:new RegExp("^("+Nn+"|[*])"),ATTR:new RegExp("^"+us),PSEUDO:new RegExp("^"+Aa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_t+"*(even|odd|(([+-]|)(\\d*)n|)"+_t+"*(?:([+-]|)"+_t+"*(\\d+)|))"+_t+"*\\)|)","i"),bool:new RegExp("^(?:"+Sa+")$","i"),needsContext:new RegExp("^"+_t+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_t+"*((?:-\\d)?\\d*)"+_t+"*\\)|)(?=[^-]|$)","i")},Il=/HTML$/i,Ll=/^(?:input|select|textarea|button)$/i,Nl=/^h\d$/i,Li=/^[^{]+\{\s*\[native \w/,Dl=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ia=/[+~]/,en=new RegExp("\\\\[\\da-fA-F]{1,6}"+_t+"?|\\\\([^\\r\\n\\f])","g"),nn=function(E,C){var P="0x"+E.slice(1)-65536;return C||(P<0?String.fromCharCode(P+65536):String.fromCharCode(P>>10|55296,P&1023|56320))},fs=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,cs=function(E,C){return C?E==="\0"?"\uFFFD":E.slice(0,-1)+"\\"+E.charCodeAt(E.length-1).toString(16)+" ":"\\"+E},ds=function(){L()},Fl=xr(function(E){return E.disabled===!0&&E.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{gn.apply(ue=hs.call(at.childNodes),at.childNodes),ue[at.childNodes.length].nodeType}catch{gn={apply:ue.length?function(C,P){Re.apply(C,hs.call(P))}:function(C,P){for(var G=C.length,A=0;C[G++]=P[A++];);C.length=G-1}}}function Ot(E,C,P,G){var A,q,z,B,X,et,tt,it=C&&C.ownerDocument,lt=C?C.nodeType:9;if(P=P||[],typeof E!="string"||!E||lt!==1&&lt!==9&&lt!==11)return P;if(!G&&(L(C),C=C||D,ot)){if(lt!==11&&(X=Dl.exec(E)))if(A=X[1]){if(lt===9)if(z=C.getElementById(A)){if(z.id===A)return P.push(z),P}else return P;else if(it&&(z=it.getElementById(A))&&_e(C,z)&&z.id===A)return P.push(z),P}else{if(X[2])return gn.apply(P,C.getElementsByTagName(E)),P;if((A=X[3])&&f.getElementsByClassName&&C.getElementsByClassName)return gn.apply(P,C.getElementsByClassName(A)),P}if(f.qsa&&!me[E+" "]&&(!Q||!Q.test(E))&&(lt!==1||C.nodeName.toLowerCase()!=="object")){if(tt=E,it=C,lt===1&&(bl.test(E)||ls.test(E))){for(it=Ia.test(E)&&Na(C.parentNode)||C,(it!==C||!f.scope)&&((B=C.getAttribute("id"))?B=B.replace(fs,cs):C.setAttribute("id",B=xt)),et=M(E),q=et.length;q--;)et[q]=(B?"#"+B:":scope")+" "+Er(et[q]);tt=et.join(",")}try{return gn.apply(P,it.querySelectorAll(tt)),P}catch{me(E,!0)}finally{B===xt&&C.removeAttribute("id")}}}return R(E.replace(_r,"$1"),C,P,G)}function Mr(){var E=[];function C(P,G){return E.push(P+" ")>d.cacheLength&&delete C[E.shift()],C[P+" "]=G}return C}function Ne(E){return E[xt]=!0,E}function De(E){var C=D.createElement("fieldset");try{return!!E(C)}catch{return!1}finally{C.parentNode&&C.parentNode.removeChild(C),C=null}}function La(E,C){for(var P=E.split("|"),G=P.length;G--;)d.attrHandle[P[G]]=C}function ps(E,C){var P=C&&E,G=P&&E.nodeType===1&&C.nodeType===1&&E.sourceIndex-C.sourceIndex;if(G)return G;if(P){for(;P=P.nextSibling;)if(P===C)return-1}return E?1:-1}function jl(E){return function(C){var P=C.nodeName.toLowerCase();return P==="input"&&C.type===E}}function Gl(E){return function(C){var P=C.nodeName.toLowerCase();return(P==="input"||P==="button")&&C.type===E}}function vs(E){return function(C){return"form"in C?C.parentNode&&C.disabled===!1?"label"in C?"label"in C.parentNode?C.parentNode.disabled===E:C.disabled===E:C.isDisabled===E||C.isDisabled!==!E&&Fl(C)===E:C.disabled===E:"label"in C?C.disabled===E:!1}}function Dn(E){return Ne(function(C){return C=+C,Ne(function(P,G){for(var A,q=E([],P.length,C),z=q.length;z--;)P[A=q[z]]&&(P[A]=!(G[A]=P[A]))})})}function Na(E){return E&&typeof E.getElementsByTagName!="undefined"&&E}f=Ot.support={},y=Ot.isXML=function(E){var C=E&&E.namespaceURI,P=E&&(E.ownerDocument||E).documentElement;return!Il.test(C||P&&P.nodeName||"HTML")},L=Ot.setDocument=function(E){var C,P,G=E?E.ownerDocument||E:at;return G==D||G.nodeType!==9||!G.documentElement||(D=G,Y=D.documentElement,ot=!y(D),at!=D&&(P=D.defaultView)&&P.top!==P&&(P.addEventListener?P.addEventListener("unload",ds,!1):P.attachEvent&&P.attachEvent("onunload",ds)),f.scope=De(function(A){return Y.appendChild(A).appendChild(D.createElement("div")),typeof A.querySelectorAll!="undefined"&&!A.querySelectorAll(":scope fieldset div").length}),f.attributes=De(function(A){return A.className="i",!A.getAttribute("className")}),f.getElementsByTagName=De(function(A){return A.appendChild(D.createComment("")),!A.getElementsByTagName("*").length}),f.getElementsByClassName=Li.test(D.getElementsByClassName),f.getById=De(function(A){return Y.appendChild(A).id=xt,!D.getElementsByName||!D.getElementsByName(xt).length}),f.getById?(d.filter.ID=function(A){var q=A.replace(en,nn);return function(z){return z.getAttribute("id")===q}},d.find.ID=function(A,q){if(typeof q.getElementById!="undefined"&&ot){var z=q.getElementById(A);return z?[z]:[]}}):(d.filter.ID=function(A){var q=A.replace(en,nn);return function(z){var B=typeof z.getAttributeNode!="undefined"&&z.getAttributeNode("id");return B&&B.value===q}},d.find.ID=function(A,q){if(typeof q.getElementById!="undefined"&&ot){var z,B,X,et=q.getElementById(A);if(et){if(z=et.getAttributeNode("id"),z&&z.value===A)return[et];for(X=q.getElementsByName(A),B=0;et=X[B++];)if(z=et.getAttributeNode("id"),z&&z.value===A)return[et]}return[]}}),d.find.TAG=f.getElementsByTagName?function(A,q){if(typeof q.getElementsByTagName!="undefined")return q.getElementsByTagName(A);if(f.qsa)return q.querySelectorAll(A)}:function(A,q){var z,B=[],X=0,et=q.getElementsByTagName(A);if(A==="*"){for(;z=et[X++];)z.nodeType===1&&B.push(z);return B}return et},d.find.CLASS=f.getElementsByClassName&&function(A,q){if(typeof q.getElementsByClassName!="undefined"&&ot)return q.getElementsByClassName(A)},qt=[],Q=[],(f.qsa=Li.test(D.querySelectorAll))&&(De(function(A){var q;Y.appendChild(A).innerHTML="<a id='"+xt+"'></a><select id='"+xt+"-\r\\' msallowcapture=''><option selected=''></option></select>",A.querySelectorAll("[msallowcapture^='']").length&&Q.push("[*^$]="+_t+`*(?:''|"")`),A.querySelectorAll("[selected]").length||Q.push("\\["+_t+"*(?:value|"+Sa+")"),A.querySelectorAll("[id~="+xt+"-]").length||Q.push("~="),q=D.createElement("input"),q.setAttribute("name",""),A.appendChild(q),A.querySelectorAll("[name='']").length||Q.push("\\["+_t+"*name"+_t+"*="+_t+`*(?:''|"")`),A.querySelectorAll(":checked").length||Q.push(":checked"),A.querySelectorAll("a#"+xt+"+*").length||Q.push(".#.+[+~]"),A.querySelectorAll("\\\f"),Q.push("[\\r\\n\\f]")}),De(function(A){A.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var q=D.createElement("input");q.setAttribute("type","hidden"),A.appendChild(q).setAttribute("name","D"),A.querySelectorAll("[name=d]").length&&Q.push("name"+_t+"*[*^$|!~]?="),A.querySelectorAll(":enabled").length!==2&&Q.push(":enabled",":disabled"),Y.appendChild(A).disabled=!0,A.querySelectorAll(":disabled").length!==2&&Q.push(":enabled",":disabled"),A.querySelectorAll("*,:x"),Q.push(",.*:")})),(f.matchesSelector=Li.test(Gt=Y.matches||Y.webkitMatchesSelector||Y.mozMatchesSelector||Y.oMatchesSelector||Y.msMatchesSelector))&&De(function(A){f.disconnectedMatch=Gt.call(A,"*"),Gt.call(A,"[s!='']:x"),qt.push("!=",Aa)}),Q=Q.length&&new RegExp(Q.join("|")),qt=qt.length&&new RegExp(qt.join("|")),C=Li.test(Y.compareDocumentPosition),_e=C||Li.test(Y.contains)?function(A,q){var z=A.nodeType===9?A.documentElement:A,B=q&&q.parentNode;return A===B||!!(B&&B.nodeType===1&&(z.contains?z.contains(B):A.compareDocumentPosition&&A.compareDocumentPosition(B)&16))}:function(A,q){if(q){for(;q=q.parentNode;)if(q===A)return!0}return!1},An=C?function(A,q){if(A===q)return $=!0,0;var z=!A.compareDocumentPosition-!q.compareDocumentPosition;return z||(z=(A.ownerDocument||A)==(q.ownerDocument||q)?A.compareDocumentPosition(q):1,z&1||!f.sortDetached&&q.compareDocumentPosition(A)===z?A==D||A.ownerDocument==at&&_e(at,A)?-1:q==D||q.ownerDocument==at&&_e(at,q)?1:N?Ln(N,A)-Ln(N,q):0:z&4?-1:1)}:function(A,q){if(A===q)return $=!0,0;var z,B=0,X=A.parentNode,et=q.parentNode,tt=[A],it=[q];if(!X||!et)return A==D?-1:q==D?1:X?-1:et?1:N?Ln(N,A)-Ln(N,q):0;if(X===et)return ps(A,q);for(z=A;z=z.parentNode;)tt.unshift(z);for(z=q;z=z.parentNode;)it.unshift(z);for(;tt[B]===it[B];)B++;return B?ps(tt[B],it[B]):tt[B]==at?-1:it[B]==at?1:0}),D},Ot.matches=function(E,C){return Ot(E,null,null,C)},Ot.matchesSelector=function(E,C){if(L(E),f.matchesSelector&&ot&&!me[C+" "]&&(!qt||!qt.test(C))&&(!Q||!Q.test(C)))try{var P=Gt.call(E,C);if(P||f.disconnectedMatch||E.document&&E.document.nodeType!==11)return P}catch{me(C,!0)}return Ot(C,D,null,[E]).length>0},Ot.contains=function(E,C){return(E.ownerDocument||E)!=D&&L(E),_e(E,C)},Ot.attr=function(E,C){(E.ownerDocument||E)!=D&&L(E);var P=d.attrHandle[C.toLowerCase()],G=P&&In.call(d.attrHandle,C.toLowerCase())?P(E,C,!ot):void 0;return G!==void 0?G:f.attributes||!ot?E.getAttribute(C):(G=E.getAttributeNode(C))&&G.specified?G.value:null},Ot.escape=function(E){return(E+"").replace(fs,cs)},Ot.error=function(E){throw new Error("Syntax error, unrecognized expression: "+E)},Ot.uniqueSort=function(E){var C,P=[],G=0,A=0;if($=!f.detectDuplicates,N=!f.sortStable&&E.slice(0),E.sort(An),$){for(;C=E[A++];)C===E[A]&&(G=P.push(A));for(;G--;)E.splice(P[G],1)}return N=null,E},g=Ot.getText=function(E){var C,P="",G=0,A=E.nodeType;if(A){if(A===1||A===9||A===11){if(typeof E.textContent=="string")return E.textContent;for(E=E.firstChild;E;E=E.nextSibling)P+=g(E)}else if(A===3||A===4)return E.nodeValue}else for(;C=E[G++];)P+=g(C);return P},d=Ot.selectors={cacheLength:50,createPseudo:Ne,match:mr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(E){return E[1]=E[1].replace(en,nn),E[3]=(E[3]||E[4]||E[5]||"").replace(en,nn),E[2]==="~="&&(E[3]=" "+E[3]+" "),E.slice(0,4)},CHILD:function(E){return E[1]=E[1].toLowerCase(),E[1].slice(0,3)==="nth"?(E[3]||Ot.error(E[0]),E[4]=+(E[4]?E[5]+(E[6]||1):2*(E[3]==="even"||E[3]==="odd")),E[5]=+(E[7]+E[8]||E[3]==="odd")):E[3]&&Ot.error(E[0]),E},PSEUDO:function(E){var C,P=!E[6]&&E[2];return mr.CHILD.test(E[0])?null:(E[3]?E[2]=E[4]||E[5]||"":P&&Sl.test(P)&&(C=M(P,!0))&&(C=P.indexOf(")",P.length-C)-P.length)&&(E[0]=E[0].slice(0,C),E[2]=P.slice(0,C)),E.slice(0,3))}},filter:{TAG:function(E){var C=E.replace(en,nn).toLowerCase();return E==="*"?function(){return!0}:function(P){return P.nodeName&&P.nodeName.toLowerCase()===C}},CLASS:function(E){var C=It[E+" "];return C||(C=new RegExp("(^|"+_t+")"+E+"("+_t+"|$)"))&&It(E,function(P){return C.test(typeof P.className=="string"&&P.className||typeof P.getAttribute!="undefined"&&P.getAttribute("class")||"")})},ATTR:function(E,C,P){return function(G){var A=Ot.attr(G,E);return A==null?C==="!=":C?(A+="",C==="="?A===P:C==="!="?A!==P:C==="^="?P&&A.indexOf(P)===0:C==="*="?P&&A.indexOf(P)>-1:C==="$="?P&&A.slice(-P.length)===P:C==="~="?(" "+A.replace(Rl," ")+" ").indexOf(P)>-1:C==="|="?A===P||A.slice(0,P.length+1)===P+"-":!1):!0}},CHILD:function(E,C,P,G,A){var q=E.slice(0,3)!=="nth",z=E.slice(-4)!=="last",B=C==="of-type";return G===1&&A===0?function(X){return!!X.parentNode}:function(X,et,tt){var it,lt,Rt,nt,$t,Jt,Me=q!==z?"nextSibling":"previousSibling",St=X.parentNode,Ni=B&&X.nodeName.toLowerCase(),Di=!tt&&!B,Ee=!1;if(St){if(q){for(;Me;){for(nt=X;nt=nt[Me];)if(B?nt.nodeName.toLowerCase()===Ni:nt.nodeType===1)return!1;Jt=Me=E==="only"&&!Jt&&"nextSibling"}return!0}if(Jt=[z?St.firstChild:St.lastChild],z&&Di){for(nt=St,Rt=nt[xt]||(nt[xt]={}),lt=Rt[nt.uniqueID]||(Rt[nt.uniqueID]={}),it=lt[E]||[],$t=it[0]===he&&it[1],Ee=$t&&it[2],nt=$t&&St.childNodes[$t];nt=++$t&&nt&&nt[Me]||(Ee=$t=0)||Jt.pop();)if(nt.nodeType===1&&++Ee&&nt===X){lt[E]=[he,$t,Ee];break}}else if(Di&&(nt=X,Rt=nt[xt]||(nt[xt]={}),lt=Rt[nt.uniqueID]||(Rt[nt.uniqueID]={}),it=lt[E]||[],$t=it[0]===he&&it[1],Ee=$t),Ee===!1)for(;(nt=++$t&&nt&&nt[Me]||(Ee=$t=0)||Jt.pop())&&!((B?nt.nodeName.toLowerCase()===Ni:nt.nodeType===1)&&++Ee&&(Di&&(Rt=nt[xt]||(nt[xt]={}),lt=Rt[nt.uniqueID]||(Rt[nt.uniqueID]={}),lt[E]=[he,Ee]),nt===X)););return Ee-=A,Ee===G||Ee%G===0&&Ee/G>=0}}},PSEUDO:function(E,C){var P,G=d.pseudos[E]||d.setFilters[E.toLowerCase()]||Ot.error("unsupported pseudo: "+E);return G[xt]?G(C):G.length>1?(P=[E,E,"",C],d.setFilters.hasOwnProperty(E.toLowerCase())?Ne(function(A,q){for(var z,B=G(A,C),X=B.length;X--;)z=Ln(A,B[X]),A[z]=!(q[z]=B[X])}):function(A){return G(A,0,P)}):G}},pseudos:{not:Ne(function(E){var C=[],P=[],G=O(E.replace(_r,"$1"));return G[xt]?Ne(function(A,q,z,B){for(var X,et=G(A,null,B,[]),tt=A.length;tt--;)(X=et[tt])&&(A[tt]=!(q[tt]=X))}):function(A,q,z){return C[0]=A,G(C,null,z,P),C[0]=null,!P.pop()}}),has:Ne(function(E){return function(C){return Ot(E,C).length>0}}),contains:Ne(function(E){return E=E.replace(en,nn),function(C){return(C.textContent||g(C)).indexOf(E)>-1}}),lang:Ne(function(E){return Al.test(E||"")||Ot.error("unsupported lang: "+E),E=E.replace(en,nn).toLowerCase(),function(C){var P;do if(P=ot?C.lang:C.getAttribute("xml:lang")||C.getAttribute("lang"))return P=P.toLowerCase(),P===E||P.indexOf(E+"-")===0;while((C=C.parentNode)&&C.nodeType===1);return!1}}),target:function(E){var C=o.location&&o.location.hash;return C&&C.slice(1)===E.id},root:function(E){return E===Y},focus:function(E){return E===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(E.type||E.href||~E.tabIndex)},enabled:vs(!1),disabled:vs(!0),checked:function(E){var C=E.nodeName.toLowerCase();return C==="input"&&!!E.checked||C==="option"&&!!E.selected},selected:function(E){return E.parentNode&&E.parentNode.selectedIndex,E.selected===!0},empty:function(E){for(E=E.firstChild;E;E=E.nextSibling)if(E.nodeType<6)return!1;return!0},parent:function(E){return!d.pseudos.empty(E)},header:function(E){return Nl.test(E.nodeName)},input:function(E){return Ll.test(E.nodeName)},button:function(E){var C=E.nodeName.toLowerCase();return C==="input"&&E.type==="button"||C==="button"},text:function(E){var C;return E.nodeName.toLowerCase()==="input"&&E.type==="text"&&((C=E.getAttribute("type"))==null||C.toLowerCase()==="text")},first:Dn(function(){return[0]}),last:Dn(function(E,C){return[C-1]}),eq:Dn(function(E,C,P){return[P<0?P+C:P]}),even:Dn(function(E,C){for(var P=0;P<C;P+=2)E.push(P);return E}),odd:Dn(function(E,C){for(var P=1;P<C;P+=2)E.push(P);return E}),lt:Dn(function(E,C,P){for(var G=P<0?P+C:P>C?C:P;--G>=0;)E.push(G);return E}),gt:Dn(function(E,C,P){for(var G=P<0?P+C:P;++G<C;)E.push(G);return E})}},d.pseudos.nth=d.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[u]=jl(u);for(u in{submit:!0,reset:!0})d.pseudos[u]=Gl(u);function gs(){}gs.prototype=d.filters=d.pseudos,d.setFilters=new gs,M=Ot.tokenize=function(E,C){var P,G,A,q,z,B,X,et=Ii[E+" "];if(et)return C?0:et.slice(0);for(z=E,B=[],X=d.preFilter;z;){(!P||(G=Pl.exec(z)))&&(G&&(z=z.slice(G[0].length)||z),B.push(A=[])),P=!1,(G=ls.exec(z))&&(P=G.shift(),A.push({value:P,type:G[0].replace(_r," ")}),z=z.slice(P.length));for(q in d.filter)(G=mr[q].exec(z))&&(!X[q]||(G=X[q](G)))&&(P=G.shift(),A.push({value:P,type:q,matches:G}),z=z.slice(P.length));if(!P)break}return C?z.length:z?Ot.error(E):Ii(E,B).slice(0)};function Er(E){for(var C=0,P=E.length,G="";C<P;C++)G+=E[C].value;return G}function xr(E,C,P){var G=C.dir,A=C.next,q=A||G,z=P&&q==="parentNode",B=vt++;return C.first?function(X,et,tt){for(;X=X[G];)if(X.nodeType===1||z)return E(X,et,tt);return!1}:function(X,et,tt){var it,lt,Rt,nt=[he,B];if(tt){for(;X=X[G];)if((X.nodeType===1||z)&&E(X,et,tt))return!0}else for(;X=X[G];)if(X.nodeType===1||z)if(Rt=X[xt]||(X[xt]={}),lt=Rt[X.uniqueID]||(Rt[X.uniqueID]={}),A&&A===X.nodeName.toLowerCase())X=X[G]||X;else{if((it=lt[q])&&it[0]===he&&it[1]===B)return nt[2]=it[2];if(lt[q]=nt,nt[2]=E(X,et,tt))return!0}return!1}}function Da(E){return E.length>1?function(C,P,G){for(var A=E.length;A--;)if(!E[A](C,P,G))return!1;return!0}:E[0]}function kl(E,C,P){for(var G=0,A=C.length;G<A;G++)Ot(E,C[G],P);return P}function Tr(E,C,P,G,A){for(var q,z=[],B=0,X=E.length,et=C!=null;B<X;B++)(q=E[B])&&(!P||P(q,G,A))&&(z.push(q),et&&C.push(B));return z}function Fa(E,C,P,G,A,q){return G&&!G[xt]&&(G=Fa(G)),A&&!A[xt]&&(A=Fa(A,q)),Ne(function(z,B,X,et){var tt,it,lt,Rt=[],nt=[],$t=B.length,Jt=z||kl(C||"*",X.nodeType?[X]:X,[]),Me=E&&(z||!C)?Tr(Jt,Rt,E,X,et):Jt,St=P?A||(z?E:$t||G)?[]:B:Me;if(P&&P(Me,St,X,et),G)for(tt=Tr(St,nt),G(tt,[],X,et),it=tt.length;it--;)(lt=tt[it])&&(St[nt[it]]=!(Me[nt[it]]=lt));if(z){if(A||E){if(A){for(tt=[],it=St.length;it--;)(lt=St[it])&&tt.push(Me[it]=lt);A(null,St=[],tt,et)}for(it=St.length;it--;)(lt=St[it])&&(tt=A?Ln(z,lt):Rt[it])>-1&&(z[tt]=!(B[tt]=lt))}}else St=Tr(St===B?St.splice($t,St.length):St),A?A(null,B,St,et):gn.apply(B,St)})}function ja(E){for(var C,P,G,A=E.length,q=d.relative[E[0].type],z=q||d.relative[" "],B=q?1:0,X=xr(function(it){return it===C},z,!0),et=xr(function(it){return Ln(C,it)>-1},z,!0),tt=[function(it,lt,Rt){var nt=!q&&(Rt||lt!==b)||((C=lt).nodeType?X(it,lt,Rt):et(it,lt,Rt));return C=null,nt}];B<A;B++)if(P=d.relative[E[B].type])tt=[xr(Da(tt),P)];else{if(P=d.filter[E[B].type].apply(null,E[B].matches),P[xt]){for(G=++B;G<A&&!d.relative[E[G].type];G++);return Fa(B>1&&Da(tt),B>1&&Er(E.slice(0,B-1).concat({value:E[B-2].type===" "?"*":""})).replace(_r,"$1"),P,B<G&&ja(E.slice(B,G)),G<A&&ja(E=E.slice(G)),G<A&&Er(E))}tt.push(P)}return Da(tt)}function ql(E,C){var P=C.length>0,G=E.length>0,A=function(q,z,B,X,et){var tt,it,lt,Rt=0,nt="0",$t=q&&[],Jt=[],Me=b,St=q||G&&d.find.TAG("*",et),Ni=he+=Me==null?1:Math.random()||.1,Di=St.length;for(et&&(b=z==D||z||et);nt!==Di&&(tt=St[nt])!=null;nt++){if(G&&tt){for(it=0,!z&&tt.ownerDocument!=D&&(L(tt),B=!ot);lt=E[it++];)if(lt(tt,z||D,B)){X.push(tt);break}et&&(he=Ni)}P&&((tt=!lt&&tt)&&Rt--,q&&$t.push(tt))}if(Rt+=nt,P&&nt!==Rt){for(it=0;lt=C[it++];)lt($t,Jt,z,B);if(q){if(Rt>0)for(;nt--;)$t[nt]||Jt[nt]||(Jt[nt]=vn.call(X));Jt=Tr(Jt)}gn.apply(X,Jt),et&&!q&&Jt.length>0&&Rt+C.length>1&&Ot.uniqueSort(X)}return et&&(he=Ni,b=Me),$t};return P?Ne(A):A}return O=Ot.compile=function(E,C){var P,G=[],A=[],q=yr[E+" "];if(!q){for(C||(C=M(E)),P=C.length;P--;)q=ja(C[P]),q[xt]?G.push(q):A.push(q);q=yr(E,ql(A,G)),q.selector=E}return q},R=Ot.select=function(E,C,P,G){var A,q,z,B,X,et=typeof E=="function"&&E,tt=!G&&M(E=et.selector||E);if(P=P||[],tt.length===1){if(q=tt[0]=tt[0].slice(0),q.length>2&&(z=q[0]).type==="ID"&&C.nodeType===9&&ot&&d.relative[q[1].type]){if(C=(d.find.ID(z.matches[0].replace(en,nn),C)||[])[0],C)et&&(C=C.parentNode);else return P;E=E.slice(q.shift().value.length)}for(A=mr.needsContext.test(E)?0:q.length;A--&&(z=q[A],!d.relative[B=z.type]);)if((X=d.find[B])&&(G=X(z.matches[0].replace(en,nn),Ia.test(q[0].type)&&Na(C.parentNode)||C))){if(q.splice(A,1),E=G.length&&Er(q),!E)return gn.apply(P,G),P;break}}return(et||O(E,tt))(G,C,!ot,P,!C||Ia.test(E)&&Na(C.parentNode)||C),P},f.sortStable=xt.split("").sort(An).join("")===xt,f.detectDuplicates=!!$,L(),f.sortDetached=De(function(E){return E.compareDocumentPosition(D.createElement("fieldset"))&1}),De(function(E){return E.innerHTML="<a href='#'></a>",E.firstChild.getAttribute("href")==="#"})||La("type|href|height|width",function(E,C,P){if(!P)return E.getAttribute(C,C.toLowerCase()==="type"?1:2)}),(!f.attributes||!De(function(E){return E.innerHTML="<input/>",E.firstChild.setAttribute("value",""),E.firstChild.getAttribute("value")===""}))&&La("value",function(E,C,P){if(!P&&E.nodeName.toLowerCase()==="input")return E.defaultValue}),De(function(E){return E.getAttribute("disabled")==null})||La(Sa,function(E,C,P){var G;if(!P)return E[C]===!0?C.toLowerCase():(G=E.getAttributeNode(C))&&G.specified?G.value:null}),Ot}(e);p.find=K,p.expr=K.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=K.uniqueSort,p.text=K.getText,p.isXMLDoc=K.isXML,p.contains=K.contains,p.escapeSelector=K.escape;var ht=function(o,u,f){for(var d=[],g=f!==void 0;(o=o[u])&&o.nodeType!==9;)if(o.nodeType===1){if(g&&p(o).is(f))break;d.push(o)}return d},dt=function(o,u){for(var f=[];o;o=o.nextSibling)o.nodeType===1&&o!==u&&f.push(o);return f},yt=p.expr.match.needsContext;function pt(o,u){return o.nodeName&&o.nodeName.toLowerCase()===u.toLowerCase()}var Ut=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Zt(o,u,f){return w(u)?p.grep(o,function(d,g){return!!u.call(d,g,d)!==f}):u.nodeType?p.grep(o,function(d){return d===u!==f}):typeof u!="string"?p.grep(o,function(d){return l.call(u,d)>-1!==f}):p.filter(u,o,f)}p.filter=function(o,u,f){var d=u[0];return f&&(o=":not("+o+")"),u.length===1&&d.nodeType===1?p.find.matchesSelector(d,o)?[d]:[]:p.find.matches(o,p.grep(u,function(g){return g.nodeType===1}))},p.fn.extend({find:function(o){var u,f,d=this.length,g=this;if(typeof o!="string")return this.pushStack(p(o).filter(function(){for(u=0;u<d;u++)if(p.contains(g[u],this))return!0}));for(f=this.pushStack([]),u=0;u<d;u++)p.find(o,g[u],f);return d>1?p.uniqueSort(f):f},filter:function(o){return this.pushStack(Zt(this,o||[],!1))},not:function(o){return this.pushStack(Zt(this,o||[],!0))},is:function(o){return!!Zt(this,typeof o=="string"&&yt.test(o)?p(o):o||[],!1).length}});var ct,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,wt=p.fn.init=function(o,u,f){var d,g;if(!o)return this;if(f=f||ct,typeof o=="string")if(o[0]==="<"&&o[o.length-1]===">"&&o.length>=3?d=[null,o,null]:d=Ct.exec(o),d&&(d[1]||!u))if(d[1]){if(u=u instanceof p?u[0]:u,p.merge(this,p.parseHTML(d[1],u&&u.nodeType?u.ownerDocument||u:I,!0)),Ut.test(d[1])&&p.isPlainObject(u))for(d in u)w(this[d])?this[d](u[d]):this.attr(d,u[d]);return this}else return g=I.getElementById(d[2]),g&&(this[0]=g,this.length=1),this;else return!u||u.jquery?(u||f).find(o):this.constructor(u).find(o);else{if(o.nodeType)return this[0]=o,this.length=1,this;if(w(o))return f.ready!==void 0?f.ready(o):o(p)}return p.makeArray(o,this)};wt.prototype=p.fn,ct=p(I);var ge=/^(?:parents|prev(?:Until|All))/,qe={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(o){var u=p(o,this),f=u.length;return this.filter(function(){for(var d=0;d<f;d++)if(p.contains(this,u[d]))return!0})},closest:function(o,u){var f,d=0,g=this.length,y=[],M=typeof o!="string"&&p(o);if(!yt.test(o)){for(;d<g;d++)for(f=this[d];f&&f!==u;f=f.parentNode)if(f.nodeType<11&&(M?M.index(f)>-1:f.nodeType===1&&p.find.matchesSelector(f,o))){y.push(f);break}}return this.pushStack(y.length>1?p.uniqueSort(y):y)},index:function(o){return o?typeof o=="string"?l.call(p(o),this[0]):l.call(this,o.jquery?o[0]:o):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(o,u){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(o,u))))},addBack:function(o){return this.add(o==null?this.prevObject:this.prevObject.filter(o))}});function Qe(o,u){for(;(o=o[u])&&o.nodeType!==1;);return o}p.each({parent:function(o){var u=o.parentNode;return u&&u.nodeType!==11?u:null},parents:function(o){return ht(o,"parentNode")},parentsUntil:function(o,u,f){return ht(o,"parentNode",f)},next:function(o){return Qe(o,"nextSibling")},prev:function(o){return Qe(o,"previousSibling")},nextAll:function(o){return ht(o,"nextSibling")},prevAll:function(o){return ht(o,"previousSibling")},nextUntil:function(o,u,f){return ht(o,"nextSibling",f)},prevUntil:function(o,u,f){return ht(o,"previousSibling",f)},siblings:function(o){return dt((o.parentNode||{}).firstChild,o)},children:function(o){return dt(o.firstChild)},contents:function(o){return o.contentDocument!=null&&r(o.contentDocument)?o.contentDocument:(pt(o,"template")&&(o=o.content||o),p.merge([],o.childNodes))}},function(o,u){p.fn[o]=function(f,d){var g=p.map(this,u,f);return o.slice(-5)!=="Until"&&(d=f),d&&typeof d=="string"&&(g=p.filter(d,g)),this.length>1&&(qe[o]||p.uniqueSort(g),ge.test(o)&&g.reverse()),this.pushStack(g)}});var Bt=/[^\x20\t\r\n\f]+/g;function $e(o){var u={};return p.each(o.match(Bt)||[],function(f,d){u[d]=!0}),u}p.Callbacks=function(o){o=typeof o=="string"?$e(o):p.extend({},o);var u,f,d,g,y=[],M=[],O=-1,R=function(){for(g=g||o.once,d=u=!0;M.length;O=-1)for(f=M.shift();++O<y.length;)y[O].apply(f[0],f[1])===!1&&o.stopOnFalse&&(O=y.length,f=!1);o.memory||(f=!1),u=!1,g&&(f?y=[]:y="")},b={add:function(){return y&&(f&&!u&&(O=y.length-1,M.push(f)),function N($){p.each($,function(L,D){w(D)?(!o.unique||!b.has(D))&&y.push(D):D&&D.length&&j(D)!=="string"&&N(D)})}(arguments),f&&!u&&R()),this},remove:function(){return p.each(arguments,function(N,$){for(var L;(L=p.inArray($,y,L))>-1;)y.splice(L,1),L<=O&&O--}),this},has:function(N){return N?p.inArray(N,y)>-1:y.length>0},empty:function(){return y&&(y=[]),this},disable:function(){return g=M=[],y=f="",this},disabled:function(){return!y},lock:function(){return g=M=[],!f&&!u&&(y=f=""),this},locked:function(){return!!g},fireWith:function(N,$){return g||($=$||[],$=[N,$.slice?$.slice():$],M.push($),u||R()),this},fire:function(){return b.fireWith(this,arguments),this},fired:function(){return!!d}};return b};function Ce(o){return o}function gt(o){throw o}function Yt(o,u,f,d){var g;try{o&&w(g=o.promise)?g.call(o).done(u).fail(f):o&&w(g=o.then)?g.call(o,u,f):u.apply(void 0,[o].slice(d))}catch(y){f.apply(void 0,[y])}}p.extend({Deferred:function(o){var u=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],f="pending",d={state:function(){return f},always:function(){return g.done(arguments).fail(arguments),this},catch:function(y){return d.then(null,y)},pipe:function(){var y=arguments;return p.Deferred(function(M){p.each(u,function(O,R){var b=w(y[R[4]])&&y[R[4]];g[R[1]](function(){var N=b&&b.apply(this,arguments);N&&w(N.promise)?N.promise().progress(M.notify).done(M.resolve).fail(M.reject):M[R[0]+"With"](this,b?[N]:arguments)})}),y=null}).promise()},then:function(y,M,O){var R=0;function b(N,$,L,D){return function(){var Y=this,ot=arguments,Q=function(){var Gt,_e;if(!(N<R)){if(Gt=L.apply(Y,ot),Gt===$.promise())throw new TypeError("Thenable self-resolution");_e=Gt&&(typeof Gt=="object"||typeof Gt=="function")&&Gt.then,w(_e)?D?_e.call(Gt,b(R,$,Ce,D),b(R,$,gt,D)):(R++,_e.call(Gt,b(R,$,Ce,D),b(R,$,gt,D),b(R,$,Ce,$.notifyWith))):(L!==Ce&&(Y=void 0,ot=[Gt]),(D||$.resolveWith)(Y,ot))}},qt=D?Q:function(){try{Q()}catch(Gt){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(Gt,qt.stackTrace),N+1>=R&&(L!==gt&&(Y=void 0,ot=[Gt]),$.rejectWith(Y,ot))}};N?qt():(p.Deferred.getStackHook&&(qt.stackTrace=p.Deferred.getStackHook()),e.setTimeout(qt))}}return p.Deferred(function(N){u[0][3].add(b(0,N,w(O)?O:Ce,N.notifyWith)),u[1][3].add(b(0,N,w(y)?y:Ce)),u[2][3].add(b(0,N,w(M)?M:gt))}).promise()},promise:function(y){return y!=null?p.extend(y,d):d}},g={};return p.each(u,function(y,M){var O=M[2],R=M[5];d[M[1]]=O.add,R&&O.add(function(){f=R},u[3-y][2].disable,u[3-y][3].disable,u[0][2].lock,u[0][3].lock),O.add(M[3].fire),g[M[0]]=function(){return g[M[0]+"With"](this===g?void 0:this,arguments),this},g[M[0]+"With"]=O.fireWith}),d.promise(g),o&&o.call(g,g),g},when:function(o){var u=arguments.length,f=u,d=Array(f),g=a.call(arguments),y=p.Deferred(),M=function(O){return function(R){d[O]=this,g[O]=arguments.length>1?a.call(arguments):R,--u||y.resolveWith(d,g)}};if(u<=1&&(Yt(o,y.done(M(f)).resolve,y.reject,!u),y.state()==="pending"||w(g[f]&&g[f].then)))return y.then();for(;f--;)Yt(g[f],M(f),y.reject);return y.promise()}});var ze=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(o,u){e.console&&e.console.warn&&o&&ze.test(o.name)&&e.console.warn("jQuery.Deferred exception: "+o.message,o.stack,u)},p.readyException=function(o){e.setTimeout(function(){throw o})};var ye=p.Deferred();p.fn.ready=function(o){return ye.then(o).catch(function(u){p.readyException(u)}),this},p.extend({isReady:!1,readyWait:1,ready:function(o){(o===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(o!==!0&&--p.readyWait>0)&&ye.resolveWith(I,[p]))}}),p.ready.then=ye.then;function Qt(){I.removeEventListener("DOMContentLoaded",Qt),e.removeEventListener("load",Qt),p.ready()}I.readyState==="complete"||I.readyState!=="loading"&&!I.documentElement.doScroll?e.setTimeout(p.ready):(I.addEventListener("DOMContentLoaded",Qt),e.addEventListener("load",Qt));var jt=function(o,u,f,d,g,y,M){var O=0,R=o.length,b=f==null;if(j(f)==="object"){g=!0;for(O in f)jt(o,u,O,f[O],!0,y,M)}else if(d!==void 0&&(g=!0,w(d)||(M=!0),b&&(M?(u.call(o,d),u=null):(b=u,u=function(N,$,L){return b.call(p(N),L)})),u))for(;O<R;O++)u(o[O],f,M?d:d.call(o[O],O,u(o[O],f)));return g?o:b?u.call(o):R?u(o[0],f):y},Ti=/^-ms-/,Ue=/-([a-z])/g;function lr(o,u){return u.toUpperCase()}function we(o){return o.replace(Ti,"ms-").replace(Ue,lr)}var fn=function(o){return o.nodeType===1||o.nodeType===9||!+o.nodeType};function cn(){this.expando=p.expando+cn.uid++}cn.uid=1,cn.prototype={cache:function(o){var u=o[this.expando];return u||(u={},fn(o)&&(o.nodeType?o[this.expando]=u:Object.defineProperty(o,this.expando,{value:u,configurable:!0}))),u},set:function(o,u,f){var d,g=this.cache(o);if(typeof u=="string")g[we(u)]=f;else for(d in u)g[we(d)]=u[d];return g},get:function(o,u){return u===void 0?this.cache(o):o[this.expando]&&o[this.expando][we(u)]},access:function(o,u,f){return u===void 0||u&&typeof u=="string"&&f===void 0?this.get(o,u):(this.set(o,u,f),f!==void 0?f:u)},remove:function(o,u){var f,d=o[this.expando];if(d!==void 0){if(u!==void 0)for(Array.isArray(u)?u=u.map(we):(u=we(u),u=u in d?[u]:u.match(Bt)||[]),f=u.length;f--;)delete d[u[f]];(u===void 0||p.isEmptyObject(d))&&(o.nodeType?o[this.expando]=void 0:delete o[this.expando])}},hasData:function(o){var u=o[this.expando];return u!==void 0&&!p.isEmptyObject(u)}};var J=new cn,Ht=new cn,fr=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Hn=/[A-Z]/g;function va(o){return o==="true"?!0:o==="false"?!1:o==="null"?null:o===+o+""?+o:fr.test(o)?JSON.parse(o):o}function Ci(o,u,f){var d;if(f===void 0&&o.nodeType===1)if(d="data-"+u.replace(Hn,"-$&").toLowerCase(),f=o.getAttribute(d),typeof f=="string"){try{f=va(f)}catch{}Ht.set(o,u,f)}else f=void 0;return f}p.extend({hasData:function(o){return Ht.hasData(o)||J.hasData(o)},data:function(o,u,f){return Ht.access(o,u,f)},removeData:function(o,u){Ht.remove(o,u)},_data:function(o,u,f){return J.access(o,u,f)},_removeData:function(o,u){J.remove(o,u)}}),p.fn.extend({data:function(o,u){var f,d,g,y=this[0],M=y&&y.attributes;if(o===void 0){if(this.length&&(g=Ht.get(y),y.nodeType===1&&!J.get(y,"hasDataAttrs"))){for(f=M.length;f--;)M[f]&&(d=M[f].name,d.indexOf("data-")===0&&(d=we(d.slice(5)),Ci(y,d,g[d])));J.set(y,"hasDataAttrs",!0)}return g}return typeof o=="object"?this.each(function(){Ht.set(this,o)}):jt(this,function(O){var R;if(y&&O===void 0)return R=Ht.get(y,o),R!==void 0||(R=Ci(y,o),R!==void 0)?R:void 0;this.each(function(){Ht.set(this,o,O)})},null,u,arguments.length>1,null,!0)},removeData:function(o){return this.each(function(){Ht.remove(this,o)})}}),p.extend({queue:function(o,u,f){var d;if(o)return u=(u||"fx")+"queue",d=J.get(o,u),f&&(!d||Array.isArray(f)?d=J.access(o,u,p.makeArray(f)):d.push(f)),d||[]},dequeue:function(o,u){u=u||"fx";var f=p.queue(o,u),d=f.length,g=f.shift(),y=p._queueHooks(o,u),M=function(){p.dequeue(o,u)};g==="inprogress"&&(g=f.shift(),d--),g&&(u==="fx"&&f.unshift("inprogress"),delete y.stop,g.call(o,M,y)),!d&&y&&y.empty.fire()},_queueHooks:function(o,u){var f=u+"queueHooks";return J.get(o,f)||J.access(o,f,{empty:p.Callbacks("once memory").add(function(){J.remove(o,[u+"queue",f])})})}}),p.fn.extend({queue:function(o,u){var f=2;return typeof o!="string"&&(u=o,o="fx",f--),arguments.length<f?p.queue(this[0],o):u===void 0?this:this.each(function(){var d=p.queue(this,o,u);p._queueHooks(this,o),o==="fx"&&d[0]!=="inprogress"&&p.dequeue(this,o)})},dequeue:function(o){return this.each(function(){p.dequeue(this,o)})},clearQueue:function(o){return this.queue(o||"fx",[])},promise:function(o,u){var f,d=1,g=p.Deferred(),y=this,M=this.length,O=function(){--d||g.resolveWith(y,[y])};for(typeof o!="string"&&(u=o,o=void 0),o=o||"fx";M--;)f=J.get(y[M],o+"queueHooks"),f&&f.empty&&(d++,f.empty.add(O));return O(),g.promise(u)}});var cr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dn=new RegExp("^(?:([+-])=|)("+cr+")([a-z%]*)$","i"),Oe=["Top","Right","Bottom","Left"],Je=I.documentElement,tn=function(o){return p.contains(o.ownerDocument,o)},ga={composed:!0};Je.getRootNode&&(tn=function(o){return p.contains(o.ownerDocument,o)||o.getRootNode(ga)===o.ownerDocument});var He=function(o,u){return o=u||o,o.style.display==="none"||o.style.display===""&&tn(o)&&p.css(o,"display")==="none"};function pn(o,u,f,d){var g,y,M=20,O=d?function(){return d.cur()}:function(){return p.css(o,u,"")},R=O(),b=f&&f[3]||(p.cssNumber[u]?"":"px"),N=o.nodeType&&(p.cssNumber[u]||b!=="px"&&+R)&&dn.exec(p.css(o,u));if(N&&N[3]!==b){for(R=R/2,b=b||N[3],N=+R||1;M--;)p.style(o,u,N+b),(1-y)*(1-(y=O()/R||.5))<=0&&(M=0),N=N/y;N=N*2,p.style(o,u,N+b),f=f||[]}return f&&(N=+N||+R||0,g=f[1]?N+(f[1]+1)*f[2]:+f[2],d&&(d.unit=b,d.start=N,d.end=g)),g}var wi={};function Oi(o){var u,f=o.ownerDocument,d=o.nodeName,g=wi[d];return g||(u=f.body.appendChild(f.createElement(d)),g=p.css(u,"display"),u.parentNode.removeChild(u),g==="none"&&(g="block"),wi[d]=g,g)}function Ie(o,u){for(var f,d,g=[],y=0,M=o.length;y<M;y++)d=o[y],d.style&&(f=d.style.display,u?(f==="none"&&(g[y]=J.get(d,"display")||null,g[y]||(d.style.display="")),d.style.display===""&&He(d)&&(g[y]=Oi(d))):f!=="none"&&(g[y]="none",J.set(d,"display",f)));for(y=0;y<M;y++)g[y]!=null&&(o[y].style.display=g[y]);return o}p.fn.extend({show:function(){return Ie(this,!0)},hide:function(){return Ie(this)},toggle:function(o){return typeof o=="boolean"?o?this.show():this.hide():this.each(function(){He(this)?p(this).show():p(this).hide()})}});var Pn=/^(?:checkbox|radio)$/i,ne=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ri=/^$|^module$|\/(?:java|ecma)script/i;(function(){var o=I.createDocumentFragment(),u=o.appendChild(I.createElement("div")),f=I.createElement("input");f.setAttribute("type","radio"),f.setAttribute("checked","checked"),f.setAttribute("name","t"),u.appendChild(f),x.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,u.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!u.cloneNode(!0).lastChild.defaultValue,u.innerHTML="<option></option>",x.option=!!u.lastChild})();var ie={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ie.tbody=ie.tfoot=ie.colgroup=ie.caption=ie.thead,ie.th=ie.td,x.option||(ie.optgroup=ie.option=[1,"<select multiple='multiple'>","</select>"]);function oe(o,u){var f;return typeof o.getElementsByTagName!="undefined"?f=o.getElementsByTagName(u||"*"):typeof o.querySelectorAll!="undefined"?f=o.querySelectorAll(u||"*"):f=[],u===void 0||u&&pt(o,u)?p.merge([o],f):f}function ya(o,u){for(var f=0,d=o.length;f<d;f++)J.set(o[f],"globalEval",!u||J.get(u[f],"globalEval"))}var Bu=/<|&#?\w+;/;function Fo(o,u,f,d,g){for(var y,M,O,R,b,N,$=u.createDocumentFragment(),L=[],D=0,Y=o.length;D<Y;D++)if(y=o[D],y||y===0)if(j(y)==="object")p.merge(L,y.nodeType?[y]:y);else if(!Bu.test(y))L.push(u.createTextNode(y));else{for(M=M||$.appendChild(u.createElement("div")),O=(ne.exec(y)||["",""])[1].toLowerCase(),R=ie[O]||ie._default,M.innerHTML=R[1]+p.htmlPrefilter(y)+R[2],N=R[0];N--;)M=M.lastChild;p.merge(L,M.childNodes),M=$.firstChild,M.textContent=""}for($.textContent="",D=0;y=L[D++];){if(d&&p.inArray(y,d)>-1){g&&g.push(y);continue}if(b=tn(y),M=oe($.appendChild(y),"script"),b&&ya(M),f)for(N=0;y=M[N++];)Ri.test(y.type||"")&&f.push(y)}return $}var jo=/^([^.]*)(?:\.(.+)|)/;function Bn(){return!0}function Xn(){return!1}function Xu(o,u){return o===Wu()==(u==="focus")}function Wu(){try{return I.activeElement}catch{}}function _a(o,u,f,d,g,y){var M,O;if(typeof u=="object"){typeof f!="string"&&(d=d||f,f=void 0);for(O in u)_a(o,O,f,d,u[O],y);return o}if(d==null&&g==null?(g=f,d=f=void 0):g==null&&(typeof f=="string"?(g=d,d=void 0):(g=d,d=f,f=void 0)),g===!1)g=Xn;else if(!g)return o;return y===1&&(M=g,g=function(R){return p().off(R),M.apply(this,arguments)},g.guid=M.guid||(M.guid=p.guid++)),o.each(function(){p.event.add(this,u,g,d,f)})}p.event={global:{},add:function(o,u,f,d,g){var y,M,O,R,b,N,$,L,D,Y,ot,Q=J.get(o);if(!!fn(o))for(f.handler&&(y=f,f=y.handler,g=y.selector),g&&p.find.matchesSelector(Je,g),f.guid||(f.guid=p.guid++),(R=Q.events)||(R=Q.events=Object.create(null)),(M=Q.handle)||(M=Q.handle=function(qt){return typeof p!="undefined"&&p.event.triggered!==qt.type?p.event.dispatch.apply(o,arguments):void 0}),u=(u||"").match(Bt)||[""],b=u.length;b--;)O=jo.exec(u[b])||[],D=ot=O[1],Y=(O[2]||"").split(".").sort(),D&&($=p.event.special[D]||{},D=(g?$.delegateType:$.bindType)||D,$=p.event.special[D]||{},N=p.extend({type:D,origType:ot,data:d,handler:f,guid:f.guid,selector:g,needsContext:g&&p.expr.match.needsContext.test(g),namespace:Y.join(".")},y),(L=R[D])||(L=R[D]=[],L.delegateCount=0,(!$.setup||$.setup.call(o,d,Y,M)===!1)&&o.addEventListener&&o.addEventListener(D,M)),$.add&&($.add.call(o,N),N.handler.guid||(N.handler.guid=f.guid)),g?L.splice(L.delegateCount++,0,N):L.push(N),p.event.global[D]=!0)},remove:function(o,u,f,d,g){var y,M,O,R,b,N,$,L,D,Y,ot,Q=J.hasData(o)&&J.get(o);if(!(!Q||!(R=Q.events))){for(u=(u||"").match(Bt)||[""],b=u.length;b--;){if(O=jo.exec(u[b])||[],D=ot=O[1],Y=(O[2]||"").split(".").sort(),!D){for(D in R)p.event.remove(o,D+u[b],f,d,!0);continue}for($=p.event.special[D]||{},D=(d?$.delegateType:$.bindType)||D,L=R[D]||[],O=O[2]&&new RegExp("(^|\\.)"+Y.join("\\.(?:.*\\.|)")+"(\\.|$)"),M=y=L.length;y--;)N=L[y],(g||ot===N.origType)&&(!f||f.guid===N.guid)&&(!O||O.test(N.namespace))&&(!d||d===N.selector||d==="**"&&N.selector)&&(L.splice(y,1),N.selector&&L.delegateCount--,$.remove&&$.remove.call(o,N));M&&!L.length&&((!$.teardown||$.teardown.call(o,Y,Q.handle)===!1)&&p.removeEvent(o,D,Q.handle),delete R[D])}p.isEmptyObject(R)&&J.remove(o,"handle events")}},dispatch:function(o){var u,f,d,g,y,M,O=new Array(arguments.length),R=p.event.fix(o),b=(J.get(this,"events")||Object.create(null))[R.type]||[],N=p.event.special[R.type]||{};for(O[0]=R,u=1;u<arguments.length;u++)O[u]=arguments[u];if(R.delegateTarget=this,!(N.preDispatch&&N.preDispatch.call(this,R)===!1)){for(M=p.event.handlers.call(this,R,b),u=0;(g=M[u++])&&!R.isPropagationStopped();)for(R.currentTarget=g.elem,f=0;(y=g.handlers[f++])&&!R.isImmediatePropagationStopped();)(!R.rnamespace||y.namespace===!1||R.rnamespace.test(y.namespace))&&(R.handleObj=y,R.data=y.data,d=((p.event.special[y.origType]||{}).handle||y.handler).apply(g.elem,O),d!==void 0&&(R.result=d)===!1&&(R.preventDefault(),R.stopPropagation()));return N.postDispatch&&N.postDispatch.call(this,R),R.result}},handlers:function(o,u){var f,d,g,y,M,O=[],R=u.delegateCount,b=o.target;if(R&&b.nodeType&&!(o.type==="click"&&o.button>=1)){for(;b!==this;b=b.parentNode||this)if(b.nodeType===1&&!(o.type==="click"&&b.disabled===!0)){for(y=[],M={},f=0;f<R;f++)d=u[f],g=d.selector+" ",M[g]===void 0&&(M[g]=d.needsContext?p(g,this).index(b)>-1:p.find(g,this,null,[b]).length),M[g]&&y.push(d);y.length&&O.push({elem:b,handlers:y})}}return b=this,R<u.length&&O.push({elem:b,handlers:u.slice(R)}),O},addProp:function(o,u){Object.defineProperty(p.Event.prototype,o,{enumerable:!0,configurable:!0,get:w(u)?function(){if(this.originalEvent)return u(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[o]},set:function(f){Object.defineProperty(this,o,{enumerable:!0,configurable:!0,writable:!0,value:f})}})},fix:function(o){return o[p.expando]?o:new p.Event(o)},special:{load:{noBubble:!0},click:{setup:function(o){var u=this||o;return Pn.test(u.type)&&u.click&&pt(u,"input")&&dr(u,"click",Bn),!1},trigger:function(o){var u=this||o;return Pn.test(u.type)&&u.click&&pt(u,"input")&&dr(u,"click"),!0},_default:function(o){var u=o.target;return Pn.test(u.type)&&u.click&&pt(u,"input")&&J.get(u,"click")||pt(u,"a")}},beforeunload:{postDispatch:function(o){o.result!==void 0&&o.originalEvent&&(o.originalEvent.returnValue=o.result)}}}};function dr(o,u,f){if(!f){J.get(o,u)===void 0&&p.event.add(o,u,Bn);return}J.set(o,u,!1),p.event.add(o,u,{namespace:!1,handler:function(d){var g,y,M=J.get(this,u);if(d.isTrigger&1&&this[u]){if(M.length)(p.event.special[u]||{}).delegateType&&d.stopPropagation();else if(M=a.call(arguments),J.set(this,u,M),g=f(this,u),this[u](),y=J.get(this,u),M!==y||g?J.set(this,u,!1):y={},M!==y)return d.stopImmediatePropagation(),d.preventDefault(),y&&y.value}else M.length&&(J.set(this,u,{value:p.event.trigger(p.extend(M[0],p.Event.prototype),M.slice(1),this)}),d.stopImmediatePropagation())}})}p.removeEvent=function(o,u,f){o.removeEventListener&&o.removeEventListener(u,f)},p.Event=function(o,u){if(!(this instanceof p.Event))return new p.Event(o,u);o&&o.type?(this.originalEvent=o,this.type=o.type,this.isDefaultPrevented=o.defaultPrevented||o.defaultPrevented===void 0&&o.returnValue===!1?Bn:Xn,this.target=o.target&&o.target.nodeType===3?o.target.parentNode:o.target,this.currentTarget=o.currentTarget,this.relatedTarget=o.relatedTarget):this.type=o,u&&p.extend(this,u),this.timeStamp=o&&o.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:Xn,isPropagationStopped:Xn,isImmediatePropagationStopped:Xn,isSimulated:!1,preventDefault:function(){var o=this.originalEvent;this.isDefaultPrevented=Bn,o&&!this.isSimulated&&o.preventDefault()},stopPropagation:function(){var o=this.originalEvent;this.isPropagationStopped=Bn,o&&!this.isSimulated&&o.stopPropagation()},stopImmediatePropagation:function(){var o=this.originalEvent;this.isImmediatePropagationStopped=Bn,o&&!this.isSimulated&&o.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(o,u){p.event.special[o]={setup:function(){return dr(this,o,Xu),!1},trigger:function(){return dr(this,o),!0},_default:function(){return!0},delegateType:u}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(o,u){p.event.special[o]={delegateType:u,bindType:u,handle:function(f){var d,g=this,y=f.relatedTarget,M=f.handleObj;return(!y||y!==g&&!p.contains(g,y))&&(f.type=M.origType,d=M.handler.apply(this,arguments),f.type=u),d}}}),p.fn.extend({on:function(o,u,f,d){return _a(this,o,u,f,d)},one:function(o,u,f,d){return _a(this,o,u,f,d,1)},off:function(o,u,f){var d,g;if(o&&o.preventDefault&&o.handleObj)return d=o.handleObj,p(o.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if(typeof o=="object"){for(g in o)this.off(g,u,o[g]);return this}return(u===!1||typeof u=="function")&&(f=u,u=void 0),f===!1&&(f=Xn),this.each(function(){p.event.remove(this,o,f,u)})}});var Vu=/<script|<style|<link/i,Ku=/checked\s*(?:[^=]|=\s*.checked.)/i,Zu=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Go(o,u){return pt(o,"table")&&pt(u.nodeType!==11?u:u.firstChild,"tr")&&p(o).children("tbody")[0]||o}function Yu(o){return o.type=(o.getAttribute("type")!==null)+"/"+o.type,o}function Qu(o){return(o.type||"").slice(0,5)==="true/"?o.type=o.type.slice(5):o.removeAttribute("type"),o}function ko(o,u){var f,d,g,y,M,O,R;if(u.nodeType===1){if(J.hasData(o)&&(y=J.get(o),R=y.events,R)){J.remove(u,"handle events");for(g in R)for(f=0,d=R[g].length;f<d;f++)p.event.add(u,g,R[g][f])}Ht.hasData(o)&&(M=Ht.access(o),O=p.extend({},M),Ht.set(u,O))}}function Ju(o,u){var f=u.nodeName.toLowerCase();f==="input"&&Pn.test(o.type)?u.checked=o.checked:(f==="input"||f==="textarea")&&(u.defaultValue=o.defaultValue)}function Wn(o,u,f,d){u=s(u);var g,y,M,O,R,b,N=0,$=o.length,L=$-1,D=u[0],Y=w(D);if(Y||$>1&&typeof D=="string"&&!x.checkClone&&Ku.test(D))return o.each(function(ot){var Q=o.eq(ot);Y&&(u[0]=D.call(this,ot,Q.html())),Wn(Q,u,f,d)});if($&&(g=Fo(u,o[0].ownerDocument,!1,o,d),y=g.firstChild,g.childNodes.length===1&&(g=y),y||d)){for(M=p.map(oe(g,"script"),Yu),O=M.length;N<$;N++)R=g,N!==L&&(R=p.clone(R,!0,!0),O&&p.merge(M,oe(R,"script"))),f.call(o[N],R,N);if(O)for(b=M[M.length-1].ownerDocument,p.map(M,Qu),N=0;N<O;N++)R=M[N],Ri.test(R.type||"")&&!J.access(R,"globalEval")&&p.contains(b,R)&&(R.src&&(R.type||"").toLowerCase()!=="module"?p._evalUrl&&!R.noModule&&p._evalUrl(R.src,{nonce:R.nonce||R.getAttribute("nonce")},b):F(R.textContent.replace(Zu,""),R,b))}return o}function qo(o,u,f){for(var d,g=u?p.filter(u,o):o,y=0;(d=g[y])!=null;y++)!f&&d.nodeType===1&&p.cleanData(oe(d)),d.parentNode&&(f&&tn(d)&&ya(oe(d,"script")),d.parentNode.removeChild(d));return o}p.extend({htmlPrefilter:function(o){return o},clone:function(o,u,f){var d,g,y,M,O=o.cloneNode(!0),R=tn(o);if(!x.noCloneChecked&&(o.nodeType===1||o.nodeType===11)&&!p.isXMLDoc(o))for(M=oe(O),y=oe(o),d=0,g=y.length;d<g;d++)Ju(y[d],M[d]);if(u)if(f)for(y=y||oe(o),M=M||oe(O),d=0,g=y.length;d<g;d++)ko(y[d],M[d]);else ko(o,O);return M=oe(O,"script"),M.length>0&&ya(M,!R&&oe(o,"script")),O},cleanData:function(o){for(var u,f,d,g=p.event.special,y=0;(f=o[y])!==void 0;y++)if(fn(f)){if(u=f[J.expando]){if(u.events)for(d in u.events)g[d]?p.event.remove(f,d):p.removeEvent(f,d,u.handle);f[J.expando]=void 0}f[Ht.expando]&&(f[Ht.expando]=void 0)}}}),p.fn.extend({detach:function(o){return qo(this,o,!0)},remove:function(o){return qo(this,o)},text:function(o){return jt(this,function(u){return u===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=u)})},null,o,arguments.length)},append:function(){return Wn(this,arguments,function(o){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var u=Go(this,o);u.appendChild(o)}})},prepend:function(){return Wn(this,arguments,function(o){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var u=Go(this,o);u.insertBefore(o,u.firstChild)}})},before:function(){return Wn(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this)})},after:function(){return Wn(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling)})},empty:function(){for(var o,u=0;(o=this[u])!=null;u++)o.nodeType===1&&(p.cleanData(oe(o,!1)),o.textContent="");return this},clone:function(o,u){return o=o==null?!1:o,u=u==null?o:u,this.map(function(){return p.clone(this,o,u)})},html:function(o){return jt(this,function(u){var f=this[0]||{},d=0,g=this.length;if(u===void 0&&f.nodeType===1)return f.innerHTML;if(typeof u=="string"&&!Vu.test(u)&&!ie[(ne.exec(u)||["",""])[1].toLowerCase()]){u=p.htmlPrefilter(u);try{for(;d<g;d++)f=this[d]||{},f.nodeType===1&&(p.cleanData(oe(f,!1)),f.innerHTML=u);f=0}catch{}}f&&this.empty().append(u)},null,o,arguments.length)},replaceWith:function(){var o=[];return Wn(this,arguments,function(u){var f=this.parentNode;p.inArray(this,o)<0&&(p.cleanData(oe(this)),f&&f.replaceChild(u,this))},o)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(o,u){p.fn[o]=function(f){for(var d,g=[],y=p(f),M=y.length-1,O=0;O<=M;O++)d=O===M?this:this.clone(!0),p(y[O])[u](d),h.apply(g,d.get());return this.pushStack(g)}});var ma=new RegExp("^("+cr+")(?!px)[a-z%]+$","i"),pr=function(o){var u=o.ownerDocument.defaultView;return(!u||!u.opener)&&(u=e),u.getComputedStyle(o)},$o=function(o,u,f){var d,g,y={};for(g in u)y[g]=o.style[g],o.style[g]=u[g];d=f.call(o);for(g in u)o.style[g]=y[g];return d},tl=new RegExp(Oe.join("|"),"i");(function(){function o(){if(!!b){R.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",b.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Je.appendChild(R).appendChild(b);var N=e.getComputedStyle(b);f=N.top!=="1%",O=u(N.marginLeft)===12,b.style.right="60%",y=u(N.right)===36,d=u(N.width)===36,b.style.position="absolute",g=u(b.offsetWidth/3)===12,Je.removeChild(R),b=null}}function u(N){return Math.round(parseFloat(N))}var f,d,g,y,M,O,R=I.createElement("div"),b=I.createElement("div");!b.style||(b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle=b.style.backgroundClip==="content-box",p.extend(x,{boxSizingReliable:function(){return o(),d},pixelBoxStyles:function(){return o(),y},pixelPosition:function(){return o(),f},reliableMarginLeft:function(){return o(),O},scrollboxSize:function(){return o(),g},reliableTrDimensions:function(){var N,$,L,D;return M==null&&(N=I.createElement("table"),$=I.createElement("tr"),L=I.createElement("div"),N.style.cssText="position:absolute;left:-11111px;border-collapse:separate",$.style.cssText="border:1px solid",$.style.height="1px",L.style.height="9px",L.style.display="block",Je.appendChild(N).appendChild($).appendChild(L),D=e.getComputedStyle($),M=parseInt(D.height,10)+parseInt(D.borderTopWidth,10)+parseInt(D.borderBottomWidth,10)===$.offsetHeight,Je.removeChild(N)),M}}))})();function Pi(o,u,f){var d,g,y,M,O=o.style;return f=f||pr(o),f&&(M=f.getPropertyValue(u)||f[u],M===""&&!tn(o)&&(M=p.style(o,u)),!x.pixelBoxStyles()&&ma.test(M)&&tl.test(u)&&(d=O.width,g=O.minWidth,y=O.maxWidth,O.minWidth=O.maxWidth=O.width=M,M=f.width,O.width=d,O.minWidth=g,O.maxWidth=y)),M!==void 0?M+"":M}function zo(o,u){return{get:function(){if(o()){delete this.get;return}return(this.get=u).apply(this,arguments)}}}var Uo=["Webkit","Moz","ms"],Ho=I.createElement("div").style,Bo={};function el(o){for(var u=o[0].toUpperCase()+o.slice(1),f=Uo.length;f--;)if(o=Uo[f]+u,o in Ho)return o}function Ma(o){var u=p.cssProps[o]||Bo[o];return u||(o in Ho?o:Bo[o]=el(o)||o)}var nl=/^(none|table(?!-c[ea]).+)/,Xo=/^--/,il={position:"absolute",visibility:"hidden",display:"block"},Wo={letterSpacing:"0",fontWeight:"400"};function Vo(o,u,f){var d=dn.exec(u);return d?Math.max(0,d[2]-(f||0))+(d[3]||"px"):u}function Ea(o,u,f,d,g,y){var M=u==="width"?1:0,O=0,R=0;if(f===(d?"border":"content"))return 0;for(;M<4;M+=2)f==="margin"&&(R+=p.css(o,f+Oe[M],!0,g)),d?(f==="content"&&(R-=p.css(o,"padding"+Oe[M],!0,g)),f!=="margin"&&(R-=p.css(o,"border"+Oe[M]+"Width",!0,g))):(R+=p.css(o,"padding"+Oe[M],!0,g),f!=="padding"?R+=p.css(o,"border"+Oe[M]+"Width",!0,g):O+=p.css(o,"border"+Oe[M]+"Width",!0,g));return!d&&y>=0&&(R+=Math.max(0,Math.ceil(o["offset"+u[0].toUpperCase()+u.slice(1)]-y-R-O-.5))||0),R}function Ko(o,u,f){var d=pr(o),g=!x.boxSizingReliable()||f,y=g&&p.css(o,"boxSizing",!1,d)==="border-box",M=y,O=Pi(o,u,d),R="offset"+u[0].toUpperCase()+u.slice(1);if(ma.test(O)){if(!f)return O;O="auto"}return(!x.boxSizingReliable()&&y||!x.reliableTrDimensions()&&pt(o,"tr")||O==="auto"||!parseFloat(O)&&p.css(o,"display",!1,d)==="inline")&&o.getClientRects().length&&(y=p.css(o,"boxSizing",!1,d)==="border-box",M=R in o,M&&(O=o[R])),O=parseFloat(O)||0,O+Ea(o,u,f||(y?"border":"content"),M,d,O)+"px"}p.extend({cssHooks:{opacity:{get:function(o,u){if(u){var f=Pi(o,"opacity");return f===""?"1":f}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(o,u,f,d){if(!(!o||o.nodeType===3||o.nodeType===8||!o.style)){var g,y,M,O=we(u),R=Xo.test(u),b=o.style;if(R||(u=Ma(O)),M=p.cssHooks[u]||p.cssHooks[O],f!==void 0){if(y=typeof f,y==="string"&&(g=dn.exec(f))&&g[1]&&(f=pn(o,u,g),y="number"),f==null||f!==f)return;y==="number"&&!R&&(f+=g&&g[3]||(p.cssNumber[O]?"":"px")),!x.clearCloneStyle&&f===""&&u.indexOf("background")===0&&(b[u]="inherit"),(!M||!("set"in M)||(f=M.set(o,f,d))!==void 0)&&(R?b.setProperty(u,f):b[u]=f)}else return M&&"get"in M&&(g=M.get(o,!1,d))!==void 0?g:b[u]}},css:function(o,u,f,d){var g,y,M,O=we(u),R=Xo.test(u);return R||(u=Ma(O)),M=p.cssHooks[u]||p.cssHooks[O],M&&"get"in M&&(g=M.get(o,!0,f)),g===void 0&&(g=Pi(o,u,d)),g==="normal"&&u in Wo&&(g=Wo[u]),f===""||f?(y=parseFloat(g),f===!0||isFinite(y)?y||0:g):g}}),p.each(["height","width"],function(o,u){p.cssHooks[u]={get:function(f,d,g){if(d)return nl.test(p.css(f,"display"))&&(!f.getClientRects().length||!f.getBoundingClientRect().width)?$o(f,il,function(){return Ko(f,u,g)}):Ko(f,u,g)},set:function(f,d,g){var y,M=pr(f),O=!x.scrollboxSize()&&M.position==="absolute",R=O||g,b=R&&p.css(f,"boxSizing",!1,M)==="border-box",N=g?Ea(f,u,g,b,M):0;return b&&O&&(N-=Math.ceil(f["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(M[u])-Ea(f,u,"border",!1,M)-.5)),N&&(y=dn.exec(d))&&(y[3]||"px")!=="px"&&(f.style[u]=d,d=p.css(f,u)),Vo(f,d,N)}}}),p.cssHooks.marginLeft=zo(x.reliableMarginLeft,function(o,u){if(u)return(parseFloat(Pi(o,"marginLeft"))||o.getBoundingClientRect().left-$o(o,{marginLeft:0},function(){return o.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(o,u){p.cssHooks[o+u]={expand:function(f){for(var d=0,g={},y=typeof f=="string"?f.split(" "):[f];d<4;d++)g[o+Oe[d]+u]=y[d]||y[d-2]||y[0];return g}},o!=="margin"&&(p.cssHooks[o+u].set=Vo)}),p.fn.extend({css:function(o,u){return jt(this,function(f,d,g){var y,M,O={},R=0;if(Array.isArray(d)){for(y=pr(f),M=d.length;R<M;R++)O[d[R]]=p.css(f,d[R],!1,y);return O}return g!==void 0?p.style(f,d,g):p.css(f,d)},o,u,arguments.length>1)}});function se(o,u,f,d,g){return new se.prototype.init(o,u,f,d,g)}p.Tween=se,se.prototype={constructor:se,init:function(o,u,f,d,g,y){this.elem=o,this.prop=f,this.easing=g||p.easing._default,this.options=u,this.start=this.now=this.cur(),this.end=d,this.unit=y||(p.cssNumber[f]?"":"px")},cur:function(){var o=se.propHooks[this.prop];return o&&o.get?o.get(this):se.propHooks._default.get(this)},run:function(o){var u,f=se.propHooks[this.prop];return this.options.duration?this.pos=u=p.easing[this.easing](o,this.options.duration*o,0,1,this.options.duration):this.pos=u=o,this.now=(this.end-this.start)*u+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),f&&f.set?f.set(this):se.propHooks._default.set(this),this}},se.prototype.init.prototype=se.prototype,se.propHooks={_default:{get:function(o){var u;return o.elem.nodeType!==1||o.elem[o.prop]!=null&&o.elem.style[o.prop]==null?o.elem[o.prop]:(u=p.css(o.elem,o.prop,""),!u||u==="auto"?0:u)},set:function(o){p.fx.step[o.prop]?p.fx.step[o.prop](o):o.elem.nodeType===1&&(p.cssHooks[o.prop]||o.elem.style[Ma(o.prop)]!=null)?p.style(o.elem,o.prop,o.now+o.unit):o.elem[o.prop]=o.now}}},se.propHooks.scrollTop=se.propHooks.scrollLeft={set:function(o){o.elem.nodeType&&o.elem.parentNode&&(o.elem[o.prop]=o.now)}},p.easing={linear:function(o){return o},swing:function(o){return .5-Math.cos(o*Math.PI)/2},_default:"swing"},p.fx=se.prototype.init,p.fx.step={};var Vn,vr,rl=/^(?:toggle|show|hide)$/,al=/queueHooks$/;function xa(){vr&&(I.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(xa):e.setTimeout(xa,p.fx.interval),p.fx.tick())}function Zo(){return e.setTimeout(function(){Vn=void 0}),Vn=Date.now()}function gr(o,u){var f,d=0,g={height:o};for(u=u?1:0;d<4;d+=2-u)f=Oe[d],g["margin"+f]=g["padding"+f]=o;return u&&(g.opacity=g.width=o),g}function Yo(o,u,f){for(var d,g=(Le.tweeners[u]||[]).concat(Le.tweeners["*"]),y=0,M=g.length;y<M;y++)if(d=g[y].call(f,u,o))return d}function ol(o,u,f){var d,g,y,M,O,R,b,N,$="width"in u||"height"in u,L=this,D={},Y=o.style,ot=o.nodeType&&He(o),Q=J.get(o,"fxshow");f.queue||(M=p._queueHooks(o,"fx"),M.unqueued==null&&(M.unqueued=0,O=M.empty.fire,M.empty.fire=function(){M.unqueued||O()}),M.unqueued++,L.always(function(){L.always(function(){M.unqueued--,p.queue(o,"fx").length||M.empty.fire()})}));for(d in u)if(g=u[d],rl.test(g)){if(delete u[d],y=y||g==="toggle",g===(ot?"hide":"show"))if(g==="show"&&Q&&Q[d]!==void 0)ot=!0;else continue;D[d]=Q&&Q[d]||p.style(o,d)}if(R=!p.isEmptyObject(u),!(!R&&p.isEmptyObject(D))){$&&o.nodeType===1&&(f.overflow=[Y.overflow,Y.overflowX,Y.overflowY],b=Q&&Q.display,b==null&&(b=J.get(o,"display")),N=p.css(o,"display"),N==="none"&&(b?N=b:(Ie([o],!0),b=o.style.display||b,N=p.css(o,"display"),Ie([o]))),(N==="inline"||N==="inline-block"&&b!=null)&&p.css(o,"float")==="none"&&(R||(L.done(function(){Y.display=b}),b==null&&(N=Y.display,b=N==="none"?"":N)),Y.display="inline-block")),f.overflow&&(Y.overflow="hidden",L.always(function(){Y.overflow=f.overflow[0],Y.overflowX=f.overflow[1],Y.overflowY=f.overflow[2]})),R=!1;for(d in D)R||(Q?"hidden"in Q&&(ot=Q.hidden):Q=J.access(o,"fxshow",{display:b}),y&&(Q.hidden=!ot),ot&&Ie([o],!0),L.done(function(){ot||Ie([o]),J.remove(o,"fxshow");for(d in D)p.style(o,d,D[d])})),R=Yo(ot?Q[d]:0,d,L),d in Q||(Q[d]=R.start,ot&&(R.end=R.start,R.start=0))}}function sl(o,u){var f,d,g,y,M;for(f in o)if(d=we(f),g=u[d],y=o[f],Array.isArray(y)&&(g=y[1],y=o[f]=y[0]),f!==d&&(o[d]=y,delete o[f]),M=p.cssHooks[d],M&&"expand"in M){y=M.expand(y),delete o[d];for(f in y)f in o||(o[f]=y[f],u[f]=g)}else u[d]=g}function Le(o,u,f){var d,g,y=0,M=Le.prefilters.length,O=p.Deferred().always(function(){delete R.elem}),R=function(){if(g)return!1;for(var $=Vn||Zo(),L=Math.max(0,b.startTime+b.duration-$),D=L/b.duration||0,Y=1-D,ot=0,Q=b.tweens.length;ot<Q;ot++)b.tweens[ot].run(Y);return O.notifyWith(o,[b,Y,L]),Y<1&&Q?L:(Q||O.notifyWith(o,[b,1,0]),O.resolveWith(o,[b]),!1)},b=O.promise({elem:o,props:p.extend({},u),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},f),originalProperties:u,originalOptions:f,startTime:Vn||Zo(),duration:f.duration,tweens:[],createTween:function($,L){var D=p.Tween(o,b.opts,$,L,b.opts.specialEasing[$]||b.opts.easing);return b.tweens.push(D),D},stop:function($){var L=0,D=$?b.tweens.length:0;if(g)return this;for(g=!0;L<D;L++)b.tweens[L].run(1);return $?(O.notifyWith(o,[b,1,0]),O.resolveWith(o,[b,$])):O.rejectWith(o,[b,$]),this}}),N=b.props;for(sl(N,b.opts.specialEasing);y<M;y++)if(d=Le.prefilters[y].call(b,o,N,b.opts),d)return w(d.stop)&&(p._queueHooks(b.elem,b.opts.queue).stop=d.stop.bind(d)),d;return p.map(N,Yo,b),w(b.opts.start)&&b.opts.start.call(o,b),b.progress(b.opts.progress).done(b.opts.done,b.opts.complete).fail(b.opts.fail).always(b.opts.always),p.fx.timer(p.extend(R,{elem:o,anim:b,queue:b.opts.queue})),b}p.Animation=p.extend(Le,{tweeners:{"*":[function(o,u){var f=this.createTween(o,u);return pn(f.elem,o,dn.exec(u),f),f}]},tweener:function(o,u){w(o)?(u=o,o=["*"]):o=o.match(Bt);for(var f,d=0,g=o.length;d<g;d++)f=o[d],Le.tweeners[f]=Le.tweeners[f]||[],Le.tweeners[f].unshift(u)},prefilters:[ol],prefilter:function(o,u){u?Le.prefilters.unshift(o):Le.prefilters.push(o)}}),p.speed=function(o,u,f){var d=o&&typeof o=="object"?p.extend({},o):{complete:f||!f&&u||w(o)&&o,duration:o,easing:f&&u||u&&!w(u)&&u};return p.fx.off?d.duration=0:typeof d.duration!="number"&&(d.duration in p.fx.speeds?d.duration=p.fx.speeds[d.duration]:d.duration=p.fx.speeds._default),(d.queue==null||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){w(d.old)&&d.old.call(this),d.queue&&p.dequeue(this,d.queue)},d},p.fn.extend({fadeTo:function(o,u,f,d){return this.filter(He).css("opacity",0).show().end().animate({opacity:u},o,f,d)},animate:function(o,u,f,d){var g=p.isEmptyObject(o),y=p.speed(u,f,d),M=function(){var O=Le(this,p.extend({},o),y);(g||J.get(this,"finish"))&&O.stop(!0)};return M.finish=M,g||y.queue===!1?this.each(M):this.queue(y.queue,M)},stop:function(o,u,f){var d=function(g){var y=g.stop;delete g.stop,y(f)};return typeof o!="string"&&(f=u,u=o,o=void 0),u&&this.queue(o||"fx",[]),this.each(function(){var g=!0,y=o!=null&&o+"queueHooks",M=p.timers,O=J.get(this);if(y)O[y]&&O[y].stop&&d(O[y]);else for(y in O)O[y]&&O[y].stop&&al.test(y)&&d(O[y]);for(y=M.length;y--;)M[y].elem===this&&(o==null||M[y].queue===o)&&(M[y].anim.stop(f),g=!1,M.splice(y,1));(g||!f)&&p.dequeue(this,o)})},finish:function(o){return o!==!1&&(o=o||"fx"),this.each(function(){var u,f=J.get(this),d=f[o+"queue"],g=f[o+"queueHooks"],y=p.timers,M=d?d.length:0;for(f.finish=!0,p.queue(this,o,[]),g&&g.stop&&g.stop.call(this,!0),u=y.length;u--;)y[u].elem===this&&y[u].queue===o&&(y[u].anim.stop(!0),y.splice(u,1));for(u=0;u<M;u++)d[u]&&d[u].finish&&d[u].finish.call(this);delete f.finish})}}),p.each(["toggle","show","hide"],function(o,u){var f=p.fn[u];p.fn[u]=function(d,g,y){return d==null||typeof d=="boolean"?f.apply(this,arguments):this.animate(gr(u,!0),d,g,y)}}),p.each({slideDown:gr("show"),slideUp:gr("hide"),slideToggle:gr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(o,u){p.fn[o]=function(f,d,g){return this.animate(u,f,d,g)}}),p.timers=[],p.fx.tick=function(){var o,u=0,f=p.timers;for(Vn=Date.now();u<f.length;u++)o=f[u],!o()&&f[u]===o&&f.splice(u--,1);f.length||p.fx.stop(),Vn=void 0},p.fx.timer=function(o){p.timers.push(o),p.fx.start()},p.fx.interval=13,p.fx.start=function(){vr||(vr=!0,xa())},p.fx.stop=function(){vr=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(o,u){return o=p.fx&&p.fx.speeds[o]||o,u=u||"fx",this.queue(u,function(f,d){var g=e.setTimeout(f,o);d.stop=function(){e.clearTimeout(g)}})},function(){var o=I.createElement("input"),u=I.createElement("select"),f=u.appendChild(I.createElement("option"));o.type="checkbox",x.checkOn=o.value!=="",x.optSelected=f.selected,o=I.createElement("input"),o.value="t",o.type="radio",x.radioValue=o.value==="t"}();var Qo,bi=p.expr.attrHandle;p.fn.extend({attr:function(o,u){return jt(this,p.attr,o,u,arguments.length>1)},removeAttr:function(o){return this.each(function(){p.removeAttr(this,o)})}}),p.extend({attr:function(o,u,f){var d,g,y=o.nodeType;if(!(y===3||y===8||y===2)){if(typeof o.getAttribute=="undefined")return p.prop(o,u,f);if((y!==1||!p.isXMLDoc(o))&&(g=p.attrHooks[u.toLowerCase()]||(p.expr.match.bool.test(u)?Qo:void 0)),f!==void 0){if(f===null){p.removeAttr(o,u);return}return g&&"set"in g&&(d=g.set(o,f,u))!==void 0?d:(o.setAttribute(u,f+""),f)}return g&&"get"in g&&(d=g.get(o,u))!==null?d:(d=p.find.attr(o,u),d==null?void 0:d)}},attrHooks:{type:{set:function(o,u){if(!x.radioValue&&u==="radio"&&pt(o,"input")){var f=o.value;return o.setAttribute("type",u),f&&(o.value=f),u}}}},removeAttr:function(o,u){var f,d=0,g=u&&u.match(Bt);if(g&&o.nodeType===1)for(;f=g[d++];)o.removeAttribute(f)}}),Qo={set:function(o,u,f){return u===!1?p.removeAttr(o,f):o.setAttribute(f,f),f}},p.each(p.expr.match.bool.source.match(/\w+/g),function(o,u){var f=bi[u]||p.find.attr;bi[u]=function(d,g,y){var M,O,R=g.toLowerCase();return y||(O=bi[R],bi[R]=M,M=f(d,g,y)!=null?R:null,bi[R]=O),M}});var hl=/^(?:input|select|textarea|button)$/i,ul=/^(?:a|area)$/i;p.fn.extend({prop:function(o,u){return jt(this,p.prop,o,u,arguments.length>1)},removeProp:function(o){return this.each(function(){delete this[p.propFix[o]||o]})}}),p.extend({prop:function(o,u,f){var d,g,y=o.nodeType;if(!(y===3||y===8||y===2))return(y!==1||!p.isXMLDoc(o))&&(u=p.propFix[u]||u,g=p.propHooks[u]),f!==void 0?g&&"set"in g&&(d=g.set(o,f,u))!==void 0?d:o[u]=f:g&&"get"in g&&(d=g.get(o,u))!==null?d:o[u]},propHooks:{tabIndex:{get:function(o){var u=p.find.attr(o,"tabindex");return u?parseInt(u,10):hl.test(o.nodeName)||ul.test(o.nodeName)&&o.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(p.propHooks.selected={get:function(o){var u=o.parentNode;return u&&u.parentNode&&u.parentNode.selectedIndex,null},set:function(o){var u=o.parentNode;u&&(u.selectedIndex,u.parentNode&&u.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function bn(o){var u=o.match(Bt)||[];return u.join(" ")}function Sn(o){return o.getAttribute&&o.getAttribute("class")||""}function Ta(o){return Array.isArray(o)?o:typeof o=="string"?o.match(Bt)||[]:[]}p.fn.extend({addClass:function(o){var u,f,d,g,y,M,O,R=0;if(w(o))return this.each(function(b){p(this).addClass(o.call(this,b,Sn(this)))});if(u=Ta(o),u.length){for(;f=this[R++];)if(g=Sn(f),d=f.nodeType===1&&" "+bn(g)+" ",d){for(M=0;y=u[M++];)d.indexOf(" "+y+" ")<0&&(d+=y+" ");O=bn(d),g!==O&&f.setAttribute("class",O)}}return this},removeClass:function(o){var u,f,d,g,y,M,O,R=0;if(w(o))return this.each(function(b){p(this).removeClass(o.call(this,b,Sn(this)))});if(!arguments.length)return this.attr("class","");if(u=Ta(o),u.length){for(;f=this[R++];)if(g=Sn(f),d=f.nodeType===1&&" "+bn(g)+" ",d){for(M=0;y=u[M++];)for(;d.indexOf(" "+y+" ")>-1;)d=d.replace(" "+y+" "," ");O=bn(d),g!==O&&f.setAttribute("class",O)}}return this},toggleClass:function(o,u){var f=typeof o,d=f==="string"||Array.isArray(o);return typeof u=="boolean"&&d?u?this.addClass(o):this.removeClass(o):w(o)?this.each(function(g){p(this).toggleClass(o.call(this,g,Sn(this),u),u)}):this.each(function(){var g,y,M,O;if(d)for(y=0,M=p(this),O=Ta(o);g=O[y++];)M.hasClass(g)?M.removeClass(g):M.addClass(g);else(o===void 0||f==="boolean")&&(g=Sn(this),g&&J.set(this,"__className__",g),this.setAttribute&&this.setAttribute("class",g||o===!1?"":J.get(this,"__className__")||""))})},hasClass:function(o){var u,f,d=0;for(u=" "+o+" ";f=this[d++];)if(f.nodeType===1&&(" "+bn(Sn(f))+" ").indexOf(u)>-1)return!0;return!1}});var ll=/\r/g;p.fn.extend({val:function(o){var u,f,d,g=this[0];return arguments.length?(d=w(o),this.each(function(y){var M;this.nodeType===1&&(d?M=o.call(this,y,p(this).val()):M=o,M==null?M="":typeof M=="number"?M+="":Array.isArray(M)&&(M=p.map(M,function(O){return O==null?"":O+""})),u=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!u||!("set"in u)||u.set(this,M,"value")===void 0)&&(this.value=M))})):g?(u=p.valHooks[g.type]||p.valHooks[g.nodeName.toLowerCase()],u&&"get"in u&&(f=u.get(g,"value"))!==void 0?f:(f=g.value,typeof f=="string"?f.replace(ll,""):f==null?"":f)):void 0}}),p.extend({valHooks:{option:{get:function(o){var u=p.find.attr(o,"value");return u!=null?u:bn(p.text(o))}},select:{get:function(o){var u,f,d,g=o.options,y=o.selectedIndex,M=o.type==="select-one",O=M?null:[],R=M?y+1:g.length;for(y<0?d=R:d=M?y:0;d<R;d++)if(f=g[d],(f.selected||d===y)&&!f.disabled&&(!f.parentNode.disabled||!pt(f.parentNode,"optgroup"))){if(u=p(f).val(),M)return u;O.push(u)}return O},set:function(o,u){for(var f,d,g=o.options,y=p.makeArray(u),M=g.length;M--;)d=g[M],(d.selected=p.inArray(p.valHooks.option.get(d),y)>-1)&&(f=!0);return f||(o.selectedIndex=-1),y}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(o,u){if(Array.isArray(u))return o.checked=p.inArray(p(o).val(),u)>-1}},x.checkOn||(p.valHooks[this].get=function(o){return o.getAttribute("value")===null?"on":o.value})}),x.focusin="onfocusin"in e;var Jo=/^(?:focusinfocus|focusoutblur)$/,ts=function(o){o.stopPropagation()};p.extend(p.event,{trigger:function(o,u,f,d){var g,y,M,O,R,b,N,$,L=[f||I],D=_.call(o,"type")?o.type:o,Y=_.call(o,"namespace")?o.namespace.split("."):[];if(y=$=M=f=f||I,!(f.nodeType===3||f.nodeType===8)&&!Jo.test(D+p.event.triggered)&&(D.indexOf(".")>-1&&(Y=D.split("."),D=Y.shift(),Y.sort()),R=D.indexOf(":")<0&&"on"+D,o=o[p.expando]?o:new p.Event(D,typeof o=="object"&&o),o.isTrigger=d?2:3,o.namespace=Y.join("."),o.rnamespace=o.namespace?new RegExp("(^|\\.)"+Y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,o.result=void 0,o.target||(o.target=f),u=u==null?[o]:p.makeArray(u,[o]),N=p.event.special[D]||{},!(!d&&N.trigger&&N.trigger.apply(f,u)===!1))){if(!d&&!N.noBubble&&!S(f)){for(O=N.delegateType||D,Jo.test(O+D)||(y=y.parentNode);y;y=y.parentNode)L.push(y),M=y;M===(f.ownerDocument||I)&&L.push(M.defaultView||M.parentWindow||e)}for(g=0;(y=L[g++])&&!o.isPropagationStopped();)$=y,o.type=g>1?O:N.bindType||D,b=(J.get(y,"events")||Object.create(null))[o.type]&&J.get(y,"handle"),b&&b.apply(y,u),b=R&&y[R],b&&b.apply&&fn(y)&&(o.result=b.apply(y,u),o.result===!1&&o.preventDefault());return o.type=D,!d&&!o.isDefaultPrevented()&&(!N._default||N._default.apply(L.pop(),u)===!1)&&fn(f)&&R&&w(f[D])&&!S(f)&&(M=f[R],M&&(f[R]=null),p.event.triggered=D,o.isPropagationStopped()&&$.addEventListener(D,ts),f[D](),o.isPropagationStopped()&&$.removeEventListener(D,ts),p.event.triggered=void 0,M&&(f[R]=M)),o.result}},simulate:function(o,u,f){var d=p.extend(new p.Event,f,{type:o,isSimulated:!0});p.event.trigger(d,null,u)}}),p.fn.extend({trigger:function(o,u){return this.each(function(){p.event.trigger(o,u,this)})},triggerHandler:function(o,u){var f=this[0];if(f)return p.event.trigger(o,u,f,!0)}}),x.focusin||p.each({focus:"focusin",blur:"focusout"},function(o,u){var f=function(d){p.event.simulate(u,d.target,p.event.fix(d))};p.event.special[u]={setup:function(){var d=this.ownerDocument||this.document||this,g=J.access(d,u);g||d.addEventListener(o,f,!0),J.access(d,u,(g||0)+1)},teardown:function(){var d=this.ownerDocument||this.document||this,g=J.access(d,u)-1;g?J.access(d,u,g):(d.removeEventListener(o,f,!0),J.remove(d,u))}}});var Si=e.location,es={guid:Date.now()},Ca=/\?/;p.parseXML=function(o){var u,f;if(!o||typeof o!="string")return null;try{u=new e.DOMParser().parseFromString(o,"text/xml")}catch{}return f=u&&u.getElementsByTagName("parsererror")[0],(!u||f)&&p.error("Invalid XML: "+(f?p.map(f.childNodes,function(d){return d.textContent}).join(`
`):o)),u};var fl=/\[\]$/,ns=/\r?\n/g,cl=/^(?:submit|button|image|reset|file)$/i,dl=/^(?:input|select|textarea|keygen)/i;function wa(o,u,f,d){var g;if(Array.isArray(u))p.each(u,function(y,M){f||fl.test(o)?d(o,M):wa(o+"["+(typeof M=="object"&&M!=null?y:"")+"]",M,f,d)});else if(!f&&j(u)==="object")for(g in u)wa(o+"["+g+"]",u[g],f,d);else d(o,u)}p.param=function(o,u){var f,d=[],g=function(y,M){var O=w(M)?M():M;d[d.length]=encodeURIComponent(y)+"="+encodeURIComponent(O==null?"":O)};if(o==null)return"";if(Array.isArray(o)||o.jquery&&!p.isPlainObject(o))p.each(o,function(){g(this.name,this.value)});else for(f in o)wa(f,o[f],u,g);return d.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var o=p.prop(this,"elements");return o?p.makeArray(o):this}).filter(function(){var o=this.type;return this.name&&!p(this).is(":disabled")&&dl.test(this.nodeName)&&!cl.test(o)&&(this.checked||!Pn.test(o))}).map(function(o,u){var f=p(this).val();return f==null?null:Array.isArray(f)?p.map(f,function(d){return{name:u.name,value:d.replace(ns,`\r
`)}}):{name:u.name,value:f.replace(ns,`\r
`)}}).get()}});var pl=/%20/g,vl=/#.*$/,gl=/([?&])_=[^&]*/,yl=/^(.*?):[ \t]*([^\r\n]*)$/mg,_l=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ml=/^(?:GET|HEAD)$/,Ml=/^\/\//,is={},Oa={},rs="*/".concat("*"),Ra=I.createElement("a");Ra.href=Si.href;function as(o){return function(u,f){typeof u!="string"&&(f=u,u="*");var d,g=0,y=u.toLowerCase().match(Bt)||[];if(w(f))for(;d=y[g++];)d[0]==="+"?(d=d.slice(1)||"*",(o[d]=o[d]||[]).unshift(f)):(o[d]=o[d]||[]).push(f)}}function os(o,u,f,d){var g={},y=o===Oa;function M(O){var R;return g[O]=!0,p.each(o[O]||[],function(b,N){var $=N(u,f,d);if(typeof $=="string"&&!y&&!g[$])return u.dataTypes.unshift($),M($),!1;if(y)return!(R=$)}),R}return M(u.dataTypes[0])||!g["*"]&&M("*")}function Pa(o,u){var f,d,g=p.ajaxSettings.flatOptions||{};for(f in u)u[f]!==void 0&&((g[f]?o:d||(d={}))[f]=u[f]);return d&&p.extend(!0,o,d),o}function El(o,u,f){for(var d,g,y,M,O=o.contents,R=o.dataTypes;R[0]==="*";)R.shift(),d===void 0&&(d=o.mimeType||u.getResponseHeader("Content-Type"));if(d){for(g in O)if(O[g]&&O[g].test(d)){R.unshift(g);break}}if(R[0]in f)y=R[0];else{for(g in f){if(!R[0]||o.converters[g+" "+R[0]]){y=g;break}M||(M=g)}y=y||M}if(y)return y!==R[0]&&R.unshift(y),f[y]}function xl(o,u,f,d){var g,y,M,O,R,b={},N=o.dataTypes.slice();if(N[1])for(M in o.converters)b[M.toLowerCase()]=o.converters[M];for(y=N.shift();y;)if(o.responseFields[y]&&(f[o.responseFields[y]]=u),!R&&d&&o.dataFilter&&(u=o.dataFilter(u,o.dataType)),R=y,y=N.shift(),y){if(y==="*")y=R;else if(R!=="*"&&R!==y){if(M=b[R+" "+y]||b["* "+y],!M){for(g in b)if(O=g.split(" "),O[1]===y&&(M=b[R+" "+O[0]]||b["* "+O[0]],M)){M===!0?M=b[g]:b[g]!==!0&&(y=O[0],N.unshift(O[1]));break}}if(M!==!0)if(M&&o.throws)u=M(u);else try{u=M(u)}catch($){return{state:"parsererror",error:M?$:"No conversion from "+R+" to "+y}}}}return{state:"success",data:u}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Si.href,type:"GET",isLocal:_l.test(Si.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":rs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(o,u){return u?Pa(Pa(o,p.ajaxSettings),u):Pa(p.ajaxSettings,o)},ajaxPrefilter:as(is),ajaxTransport:as(Oa),ajax:function(o,u){typeof o=="object"&&(u=o,o=void 0),u=u||{};var f,d,g,y,M,O,R,b,N,$,L=p.ajaxSetup({},u),D=L.context||L,Y=L.context&&(D.nodeType||D.jquery)?p(D):p.event,ot=p.Deferred(),Q=p.Callbacks("once memory"),qt=L.statusCode||{},Gt={},_e={},xt="canceled",at={readyState:0,getResponseHeader:function(vt){var It;if(R){if(!y)for(y={};It=yl.exec(g);)y[It[1].toLowerCase()+" "]=(y[It[1].toLowerCase()+" "]||[]).concat(It[2]);It=y[vt.toLowerCase()+" "]}return It==null?null:It.join(", ")},getAllResponseHeaders:function(){return R?g:null},setRequestHeader:function(vt,It){return R==null&&(vt=_e[vt.toLowerCase()]=_e[vt.toLowerCase()]||vt,Gt[vt]=It),this},overrideMimeType:function(vt){return R==null&&(L.mimeType=vt),this},statusCode:function(vt){var It;if(vt)if(R)at.always(vt[at.status]);else for(It in vt)qt[It]=[qt[It],vt[It]];return this},abort:function(vt){var It=vt||xt;return f&&f.abort(It),he(0,It),this}};if(ot.promise(at),L.url=((o||L.url||Si.href)+"").replace(Ml,Si.protocol+"//"),L.type=u.method||u.type||L.method||L.type,L.dataTypes=(L.dataType||"*").toLowerCase().match(Bt)||[""],L.crossDomain==null){O=I.createElement("a");try{O.href=L.url,O.href=O.href,L.crossDomain=Ra.protocol+"//"+Ra.host!=O.protocol+"//"+O.host}catch{L.crossDomain=!0}}if(L.data&&L.processData&&typeof L.data!="string"&&(L.data=p.param(L.data,L.traditional)),os(is,L,u,at),R)return at;b=p.event&&L.global,b&&p.active++===0&&p.event.trigger("ajaxStart"),L.type=L.type.toUpperCase(),L.hasContent=!ml.test(L.type),d=L.url.replace(vl,""),L.hasContent?L.data&&L.processData&&(L.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(L.data=L.data.replace(pl,"+")):($=L.url.slice(d.length),L.data&&(L.processData||typeof L.data=="string")&&(d+=(Ca.test(d)?"&":"?")+L.data,delete L.data),L.cache===!1&&(d=d.replace(gl,"$1"),$=(Ca.test(d)?"&":"?")+"_="+es.guid+++$),L.url=d+$),L.ifModified&&(p.lastModified[d]&&at.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&at.setRequestHeader("If-None-Match",p.etag[d])),(L.data&&L.hasContent&&L.contentType!==!1||u.contentType)&&at.setRequestHeader("Content-Type",L.contentType),at.setRequestHeader("Accept",L.dataTypes[0]&&L.accepts[L.dataTypes[0]]?L.accepts[L.dataTypes[0]]+(L.dataTypes[0]!=="*"?", "+rs+"; q=0.01":""):L.accepts["*"]);for(N in L.headers)at.setRequestHeader(N,L.headers[N]);if(L.beforeSend&&(L.beforeSend.call(D,at,L)===!1||R))return at.abort();if(xt="abort",Q.add(L.complete),at.done(L.success),at.fail(L.error),f=os(Oa,L,u,at),!f)he(-1,"No Transport");else{if(at.readyState=1,b&&Y.trigger("ajaxSend",[at,L]),R)return at;L.async&&L.timeout>0&&(M=e.setTimeout(function(){at.abort("timeout")},L.timeout));try{R=!1,f.send(Gt,he)}catch(vt){if(R)throw vt;he(-1,vt)}}function he(vt,It,Ii,yr){var me,An,In,ue,vn,Re=It;R||(R=!0,M&&e.clearTimeout(M),f=void 0,g=yr||"",at.readyState=vt>0?4:0,me=vt>=200&&vt<300||vt===304,Ii&&(ue=El(L,at,Ii)),!me&&p.inArray("script",L.dataTypes)>-1&&p.inArray("json",L.dataTypes)<0&&(L.converters["text script"]=function(){}),ue=xl(L,ue,at,me),me?(L.ifModified&&(vn=at.getResponseHeader("Last-Modified"),vn&&(p.lastModified[d]=vn),vn=at.getResponseHeader("etag"),vn&&(p.etag[d]=vn)),vt===204||L.type==="HEAD"?Re="nocontent":vt===304?Re="notmodified":(Re=ue.state,An=ue.data,In=ue.error,me=!In)):(In=Re,(vt||!Re)&&(Re="error",vt<0&&(vt=0))),at.status=vt,at.statusText=(It||Re)+"",me?ot.resolveWith(D,[An,Re,at]):ot.rejectWith(D,[at,Re,In]),at.statusCode(qt),qt=void 0,b&&Y.trigger(me?"ajaxSuccess":"ajaxError",[at,L,me?An:In]),Q.fireWith(D,[at,Re]),b&&(Y.trigger("ajaxComplete",[at,L]),--p.active||p.event.trigger("ajaxStop")))}return at},getJSON:function(o,u,f){return p.get(o,u,f,"json")},getScript:function(o,u){return p.get(o,void 0,u,"script")}}),p.each(["get","post"],function(o,u){p[u]=function(f,d,g,y){return w(d)&&(y=y||g,g=d,d=void 0),p.ajax(p.extend({url:f,type:u,dataType:y,data:d,success:g},p.isPlainObject(f)&&f))}}),p.ajaxPrefilter(function(o){var u;for(u in o.headers)u.toLowerCase()==="content-type"&&(o.contentType=o.headers[u]||"")}),p._evalUrl=function(o,u,f){return p.ajax({url:o,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(d){p.globalEval(d,u,f)}})},p.fn.extend({wrapAll:function(o){var u;return this[0]&&(w(o)&&(o=o.call(this[0])),u=p(o,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&u.insertBefore(this[0]),u.map(function(){for(var f=this;f.firstElementChild;)f=f.firstElementChild;return f}).append(this)),this},wrapInner:function(o){return w(o)?this.each(function(u){p(this).wrapInner(o.call(this,u))}):this.each(function(){var u=p(this),f=u.contents();f.length?f.wrapAll(o):u.append(o)})},wrap:function(o){var u=w(o);return this.each(function(f){p(this).wrapAll(u?o.call(this,f):o)})},unwrap:function(o){return this.parent(o).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(o){return!p.expr.pseudos.visible(o)},p.expr.pseudos.visible=function(o){return!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Tl={0:200,1223:204},Ai=p.ajaxSettings.xhr();x.cors=!!Ai&&"withCredentials"in Ai,x.ajax=Ai=!!Ai,p.ajaxTransport(function(o){var u,f;if(x.cors||Ai&&!o.crossDomain)return{send:function(d,g){var y,M=o.xhr();if(M.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(y in o.xhrFields)M[y]=o.xhrFields[y];o.mimeType&&M.overrideMimeType&&M.overrideMimeType(o.mimeType),!o.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");for(y in d)M.setRequestHeader(y,d[y]);u=function(O){return function(){u&&(u=f=M.onload=M.onerror=M.onabort=M.ontimeout=M.onreadystatechange=null,O==="abort"?M.abort():O==="error"?typeof M.status!="number"?g(0,"error"):g(M.status,M.statusText):g(Tl[M.status]||M.status,M.statusText,(M.responseType||"text")!=="text"||typeof M.responseText!="string"?{binary:M.response}:{text:M.responseText},M.getAllResponseHeaders()))}},M.onload=u(),f=M.onerror=M.ontimeout=u("error"),M.onabort!==void 0?M.onabort=f:M.onreadystatechange=function(){M.readyState===4&&e.setTimeout(function(){u&&f()})},u=u("abort");try{M.send(o.hasContent&&o.data||null)}catch(O){if(u)throw O}},abort:function(){u&&u()}}}),p.ajaxPrefilter(function(o){o.crossDomain&&(o.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(o){return p.globalEval(o),o}}}),p.ajaxPrefilter("script",function(o){o.cache===void 0&&(o.cache=!1),o.crossDomain&&(o.type="GET")}),p.ajaxTransport("script",function(o){if(o.crossDomain||o.scriptAttrs){var u,f;return{send:function(d,g){u=p("<script>").attr(o.scriptAttrs||{}).prop({charset:o.scriptCharset,src:o.url}).on("load error",f=function(y){u.remove(),f=null,y&&g(y.type==="error"?404:200,y.type)}),I.head.appendChild(u[0])},abort:function(){f&&f()}}}});var ss=[],ba=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var o=ss.pop()||p.expando+"_"+es.guid++;return this[o]=!0,o}}),p.ajaxPrefilter("json jsonp",function(o,u,f){var d,g,y,M=o.jsonp!==!1&&(ba.test(o.url)?"url":typeof o.data=="string"&&(o.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ba.test(o.data)&&"data");if(M||o.dataTypes[0]==="jsonp")return d=o.jsonpCallback=w(o.jsonpCallback)?o.jsonpCallback():o.jsonpCallback,M?o[M]=o[M].replace(ba,"$1"+d):o.jsonp!==!1&&(o.url+=(Ca.test(o.url)?"&":"?")+o.jsonp+"="+d),o.converters["script json"]=function(){return y||p.error(d+" was not called"),y[0]},o.dataTypes[0]="json",g=e[d],e[d]=function(){y=arguments},f.always(function(){g===void 0?p(e).removeProp(d):e[d]=g,o[d]&&(o.jsonpCallback=u.jsonpCallback,ss.push(d)),y&&w(g)&&g(y[0]),y=g=void 0}),"script"}),x.createHTMLDocument=function(){var o=I.implementation.createHTMLDocument("").body;return o.innerHTML="<form></form><form></form>",o.childNodes.length===2}(),p.parseHTML=function(o,u,f){if(typeof o!="string")return[];typeof u=="boolean"&&(f=u,u=!1);var d,g,y;return u||(x.createHTMLDocument?(u=I.implementation.createHTMLDocument(""),d=u.createElement("base"),d.href=I.location.href,u.head.appendChild(d)):u=I),g=Ut.exec(o),y=!f&&[],g?[u.createElement(g[1])]:(g=Fo([o],u,y),y&&y.length&&p(y).remove(),p.merge([],g.childNodes))},p.fn.load=function(o,u,f){var d,g,y,M=this,O=o.indexOf(" ");return O>-1&&(d=bn(o.slice(O)),o=o.slice(0,O)),w(u)?(f=u,u=void 0):u&&typeof u=="object"&&(g="POST"),M.length>0&&p.ajax({url:o,type:g||"GET",dataType:"html",data:u}).done(function(R){y=arguments,M.html(d?p("<div>").append(p.parseHTML(R)).find(d):R)}).always(f&&function(R,b){M.each(function(){f.apply(this,y||[R.responseText,b,R])})}),this},p.expr.pseudos.animated=function(o){return p.grep(p.timers,function(u){return o===u.elem}).length},p.offset={setOffset:function(o,u,f){var d,g,y,M,O,R,b,N=p.css(o,"position"),$=p(o),L={};N==="static"&&(o.style.position="relative"),O=$.offset(),y=p.css(o,"top"),R=p.css(o,"left"),b=(N==="absolute"||N==="fixed")&&(y+R).indexOf("auto")>-1,b?(d=$.position(),M=d.top,g=d.left):(M=parseFloat(y)||0,g=parseFloat(R)||0),w(u)&&(u=u.call(o,f,p.extend({},O))),u.top!=null&&(L.top=u.top-O.top+M),u.left!=null&&(L.left=u.left-O.left+g),"using"in u?u.using.call(o,L):$.css(L)}},p.fn.extend({offset:function(o){if(arguments.length)return o===void 0?this:this.each(function(g){p.offset.setOffset(this,o,g)});var u,f,d=this[0];if(!!d)return d.getClientRects().length?(u=d.getBoundingClientRect(),f=d.ownerDocument.defaultView,{top:u.top+f.pageYOffset,left:u.left+f.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var o,u,f,d=this[0],g={top:0,left:0};if(p.css(d,"position")==="fixed")u=d.getBoundingClientRect();else{for(u=this.offset(),f=d.ownerDocument,o=d.offsetParent||f.documentElement;o&&(o===f.body||o===f.documentElement)&&p.css(o,"position")==="static";)o=o.parentNode;o&&o!==d&&o.nodeType===1&&(g=p(o).offset(),g.top+=p.css(o,"borderTopWidth",!0),g.left+=p.css(o,"borderLeftWidth",!0))}return{top:u.top-g.top-p.css(d,"marginTop",!0),left:u.left-g.left-p.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var o=this.offsetParent;o&&p.css(o,"position")==="static";)o=o.offsetParent;return o||Je})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(o,u){var f=u==="pageYOffset";p.fn[o]=function(d){return jt(this,function(g,y,M){var O;if(S(g)?O=g:g.nodeType===9&&(O=g.defaultView),M===void 0)return O?O[u]:g[y];O?O.scrollTo(f?O.pageXOffset:M,f?M:O.pageYOffset):g[y]=M},o,d,arguments.length)}}),p.each(["top","left"],function(o,u){p.cssHooks[u]=zo(x.pixelPosition,function(f,d){if(d)return d=Pi(f,u),ma.test(d)?p(f).position()[u]+"px":d})}),p.each({Height:"height",Width:"width"},function(o,u){p.each({padding:"inner"+o,content:u,"":"outer"+o},function(f,d){p.fn[d]=function(g,y){var M=arguments.length&&(f||typeof g!="boolean"),O=f||(g===!0||y===!0?"margin":"border");return jt(this,function(R,b,N){var $;return S(R)?d.indexOf("outer")===0?R["inner"+o]:R.document.documentElement["client"+o]:R.nodeType===9?($=R.documentElement,Math.max(R.body["scroll"+o],$["scroll"+o],R.body["offset"+o],$["offset"+o],$["client"+o])):N===void 0?p.css(R,b,O):p.style(R,b,N,O)},u,M?g:void 0,M)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(o,u){p.fn[u]=function(f){return this.on(u,f)}}),p.fn.extend({bind:function(o,u,f){return this.on(o,null,u,f)},unbind:function(o,u){return this.off(o,null,u)},delegate:function(o,u,f,d){return this.on(u,o,f,d)},undelegate:function(o,u,f){return arguments.length===1?this.off(o,"**"):this.off(u,o||"**",f)},hover:function(o,u){return this.mouseenter(o).mouseleave(u||o)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(o,u){p.fn[u]=function(f,d){return arguments.length>0?this.on(u,null,f,d):this.trigger(u)}});var Cl=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;p.proxy=function(o,u){var f,d,g;if(typeof u=="string"&&(f=o[u],u=o,o=f),!!w(o))return d=a.call(arguments,2),g=function(){return o.apply(u||this,d.concat(a.call(arguments)))},g.guid=o.guid=o.guid||p.guid++,g},p.holdReady=function(o){o?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=pt,p.isFunction=w,p.isWindow=S,p.camelCase=we,p.type=j,p.now=Date.now,p.isNumeric=function(o){var u=p.type(o);return(u==="number"||u==="string")&&!isNaN(o-parseFloat(o))},p.trim=function(o){return o==null?"":(o+"").replace(Cl,"")};var wl=e.jQuery,Ol=e.$;return p.noConflict=function(o){return e.$===p&&(e.$=Ol),o&&e.jQuery===p&&(e.jQuery=wl),p},typeof t=="undefined"&&(e.jQuery=e.$=p),p})})(Hu);var n1=Hu.exports;const yh=n1,i1=new Ep({coordinateFormat:qf(12),projection:"EPSG:4326",className:"custom-mouse-position",target:document.getElementById("mouse-position")});pe.defs("Indiana-East",'PROJCS["IN83-EF",GEOGCS["LL83",DATUM["NAD83",SPHEROID["GRS1980",6378137.000,298.25722210]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],PROJECTION["Transverse_Mercator"],PARAMETER["false_easting",328083.333],PARAMETER["false_northing",820208.333],PARAMETER["scale_factor",0.999966666667],PARAMETER["central_meridian",-85.66666666666670],PARAMETER["latitude_of_origin",37.50000000000000],UNIT["Foot_US",0.30480060960122]]');Zm(pe);const r1="map",a1=new hn({maxZoom:19,minZoom:6,center:Kf([-74.0942881,4.6451452]),zoom:18}),o1="KI6pOBMRE16JRueFffi7",s1=new t1,h1=new fa({source:new ca({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"})});new fa({source:new ca({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"})});const xi=new Cv({layers:[h1]});new fa({className:"ol-layer-imagery",source:new ca({url:"https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key="+o1,crossOrigin:""})});const u1=new Sp({duration:3e3}),l1=new _p,f1=new Rp({layers:[new fa({source:s1})],collapsed:!1}),c1=".disclaimer";xi.setTarget(r1);xi.setView(a1);xi.addControl(u1);xi.addControl(l1);xi.addControl(f1);xi.addControl(i1);class d1{constructor(e){this.identifier=e}remove(){yh(this.identifier).remove(),setInterval(()=>{yh(this.identifier).remove()},500)}}var p1=new d1(c1);p1.remove()});export default v1();
